"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2571],{32571:function(e,t,n){n.r(t);var r=n(34051),a=n.n(r),i=n(85893),s=n(45477),u=n(42480),o=n(46230),l=n(20427),c=n(55511),d=n(50319),f=n(8987),m=n(15861),p=n(86886),h=n(50135),v=n(11057),x=n(87357),y=(n(19662),n(37070),n(93491),n(67294)),b=n(86501);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,a,i,s){try{var u=e[i](s),o=u.value}catch(l){return void n(l)}u.done?t(o):Promise.resolve(o).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){g(i,r,a,s,u,"next",e)}function u(e){g(i,r,a,s,u,"throw",e)}s(void 0)}))}}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,u=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(o){u=!0,a=o}finally{try{s||null==n.return||n.return()}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=function(){var e=(0,o.T)(),t=(0,o.C)((function(e){return e.user.data})),n=(0,y.useState)(""),r=n[0],P=n[1],g=(0,y.useState)(""),Z=g[0],O=g[1],k=(0,y.useState)(!1),A=k[0],S=k[1],R=E((0,d.D)(s.Is),1)[0],D=E((0,d.D)(s.yW),1)[0],C=E((0,d.D)(s.su),1)[0],N=(0,y.useState)(!1),V=N[0],U=N[1],_=(0,y.useState)(!1),F=_[0],L=_[1],I=(0,y.useState)(null),T=I[0],B=I[1],W=(0,y.useState)(null),z=W[0],J=W[1],K=(0,y.useState)(!1),M=K[0],$=K[1],q=(0,y.useState)(),G=q[0],H=q[1],Q=(0,y.useState)(),X=Q[0],Y=Q[1],ee=function(e,n){var r,a=t,i=[];return null===t||void 0===t||null===(r=t.documents)||void 0===r||r.map((function(t){t.id===e?i.push(w({},t,{url:n})):i.push(t)})),w({},a,{documents:i})},te=function(){var t=j(a().mark((function t(n,r,i){var s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D({variables:{id:n,title:i,url:r}});case 2:return s=t.sent,e((0,l.j2)(ee(n,r))),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),ne=function(){var e=j(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R({variables:{title:n,url:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=j(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t?V:F){e.next=3;break}return e.abrupt("return");case 3:if(n=t?G:X,r=t?u.Z.nominee_aadhar.items[0].id:u.Z.nominee_aadhar.items[1].id,i="","nominee_aadhar_front"!==r){e.next=13;break}return e.next=9,(0,c.Z)(T);case 9:i=e.sent,b.ZP.success("Nominee Aadhar Front Updated"),e.next=17;break;case 13:return e.next=15,(0,c.Z)(z);case 15:i=e.sent,b.ZP.success("Nominee Aadhar Back Updated");case 17:if(!n){e.next=22;break}return e.next=20,te(n.id,i,r);case 20:e.next=24;break;case 22:return e.next=24,ne(i,r);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var n=j(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r?Z?G||V?!(!X&&!F)||(alert("Please Select Nominee Aadhar Back"),null):(alert("Please Select Nominee Aadhar Front"),null):(alert("Please Enter Nominee Relation"),null):(alert("Please Enter Nominee Name"),null)){n.next=3;break}return n.abrupt("return");case 3:return S(!0),n.prev=4,n.next=7,C({variables:{name:r,relationship:Z}});case 7:return n.next=9,e((0,l.j2)(w({},t,{nominee:w({},t.nominee,{name:r,relationship:Z})})));case 9:return n.next=11,re(!0);case 11:return n.next=13,re(!1);case 13:b.ZP.success("Nominee Updated Succesfully"),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(4),console.log(n.t0);case 19:S(!1);case 20:case"end":return n.stop()}}),n,null,[[4,16]])})));return function(){return n.apply(this,arguments)}}();return(0,y.useEffect)((function(){var e,n;t&&(t.nominee&&(P(t.nominee.name),O(t.nominee.relationship)),t.documents&&(null===t||void 0===t||null===(e=t.documents)||void 0===e?void 0:e.length)>0&&(null===t||void 0===t||null===(n=t.documents)||void 0===n||n.find((function(e){e.title.toLowerCase()===u.Z.nominee_aadhar.items[0].id?(H(e),B(e.url)):e.title.toLowerCase()===u.Z.nominee_aadhar.items[1].id&&(J(e.url),Y(e))}))))}),[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Z,{variant:"h4",sx:{my:2},children:"Kindly Fill the form to enlist nominee"}),(0,i.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(p.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,i.jsx)(h.Z,{id:"outlined",label:"Full Name*",fullWidth:!0,value:r,variant:"outlined",onChange:function(e){P(e.target.value),$(!0)}})}),(0,i.jsx)(p.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,i.jsx)(h.Z,{label:"Relationship",variant:"outlined",fullWidth:!0,value:Z,onChange:function(e){O(e.target.value),$(!0)}})})]}),(0,i.jsxs)(p.ZP,{container:!0,pt:1,pb:2,spacing:15,children:[(0,i.jsxs)(p.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:[T?(0,i.jsx)("img",{src:"object"==typeof T?URL.createObjectURL(T):T,height:180}):null,G&&G.status&&(0,i.jsxs)(m.Z,{variant:"h4",sx:{my:2},children:["Status :"," ",(0,i.jsxs)("span",{style:{color:G?"APPROVED"===G.status?"green":"REJECTED"===G.status&&"red":""},children:[" ",G&&G.status]})]}),"APPROVED"===(null===t||void 0===t?void 0:t.kyc)?null:(0,i.jsxs)(v.Z,{size:"small",variant:"contained",style:{cursor:G&&"APPROVED"===G.status?"not-allowed":"pointer"},component:"label",color:G&&"APPROVED"===G.status?"secondary":"primary",children:["Upload Aadhar Card Front",(0,i.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!G&&"APPROVED"===G.status,onChange:function(e){e.target.files.length>0&&(B(e.target.files[0]),U(!0),$(!0))}})]})]}),(0,i.jsxs)(p.ZP,{item:!0,xs:12,sm:6,ml:1,md:4,lg:3.5,children:[z?(0,i.jsx)("img",{src:"object"==typeof z?URL.createObjectURL(z):z,height:180}):null,X&&X.status&&(0,i.jsxs)(m.Z,{variant:"h4",sx:{my:2},children:["Status :"," ",(0,i.jsx)("span",{style:{color:X?"APPROVED"===X.status?"green":"REJECTED"===X.status&&"red":""},children:X&&X.status})]}),"APPROVED"===(null===t||void 0===t?void 0:t.kyc)?null:(0,i.jsxs)(v.Z,{size:"small",variant:"contained",style:{cursor:X&&"APPROVED"===X.status?"not-allowed":"pointer"},component:"label",color:X&&"APPROVED"===X.status?"secondary":"primary",children:["Upload Aadhar Card Back",(0,i.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!G&&"APPROVED"===G.status,onChange:function(e){e.target.files.length>0&&(J(e.target.files[0]),L(!0),$(!0))}})]})]})]}),"APPROVED"===(null===t||void 0===t?void 0:t.kyc)?null:(0,i.jsx)(p.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,i.jsxs)(x.Z,{component:"form",mt:2,children:[(0,i.jsx)(f.Z,{loading:A,variant:"contained",component:"label",disabled:!M,onClick:function(){ae()},children:"Submit"}),(0,i.jsx)(b.x7,{position:"bottom-center",reverseOrder:!1})]})})]})}}}]);