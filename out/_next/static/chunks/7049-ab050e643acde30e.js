"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7049],{27266:function(e,r,t){t.r(r);var n=t(34051),a=t.n(n),o=t(85893),i=t(67294),s=t(52441),l=t(46230),u=t(50319),c=t(8987),d=t(86886),f=t(55113),h=t(87357),m=t(15861),p=t(50135),v=t(11057),x=t(50657),y=t(86501);function g(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function b(e,r,t,n,a,o,i){try{var s=e[o](i),l=s.value}catch(u){return void t(u)}s.done?r(l):Promise.resolve(l).then(n,a)}function w(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return g(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.default=function(e){var r=e.open,t=e.setOpen,n=(0,l.C)((function(e){return e.user.data})),g=(0,i.useState)(!1),j=g[0],Z=g[1],P=(0,i.useState)(""),S=P[0],k=P[1],A=(0,i.useState)(null),C=A[0],I=A[1],W=w((0,u.D)(s.ay),1)[0],F=function(){t(!1)},q=function(){var e,r=(e=a().mark((function e(){var r,t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(S),r=!!S||(console.log(S),void y.Am.error("Private Key is not valid")),Z(!0),!r){e.next=14;break}return e.prev=3,e.next=6,W({variables:{private_key:S,newPassword:C}});case 6:t=e.sent,n=t.data.forgetPasswordWithPrivateKey,y.Am.success("Password Updated",n.message),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),y.Am.error(e.t0.message);case 14:Z(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){b(o,n,a,i,s,"next",e)}function s(e){b(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,i.useEffect)((function(){n&&I(n.password)}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(x.Z,{onClose:F,open:r,children:(0,o.jsx)(d.ZP,{component:f.Z,elevation:6,square:!0,children:(0,o.jsxs)(h.Z,{sx:{my:2,p:1,mx:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(m.Z,{variant:"h3",sx:{my:2},children:"Forgot Password?"}),(0,o.jsx)(m.Z,{variant:"h6",color:"text.secondary",fontWeight:"normal",children:"Please Fill This Form to Reset Your Password            "}),(0,o.jsxs)(h.Z,{component:"form",noValidate:!0,onSubmit:q,children:[(0,o.jsx)(p.Z,{margin:"normal",required:!0,fullWidth:!0,id:"referralId",label:"Please Enter your Private Key ",autoFocus:!0,onChange:function(e){k(e.target.value)}}),(0,o.jsx)(p.Z,{margin:"normal",required:!0,fullWidth:!0,id:"referralId",type:"password",label:"Please Enter your New password",autoFocus:!0,onChange:function(e){I(e.target.value)}}),(0,o.jsx)(c.Z,{loading:j,type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:1},children:"Reset Password"}),(0,o.jsx)(v.Z,{color:"error",onClick:F,fullWidth:!0,variant:"outlined",sx:{mt:0,mb:2},children:"Cancel"})]})]})})})})}},97049:function(e,r,t){t.r(r),t.d(r,{default:function(){return C}});var n=t(34051),a=t.n(n),o=t(85893),i=t(52441),s=t(50319),l=t(52186),u=t(58883),c=t(8987),d=t(87109),f=t(93946),h=t(87357),m=t(11057),p=t(86886),v=t(55113),x=t(50135),y=t(15861),g=t(41664),b=t.n(g),w=t(11163),j=t(67294),Z=t(86501),P=t(27266);function S(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function k(e,r,t,n,a,o,i){try{var s=e[o](i),l=s.value}catch(u){return void t(u)}s.done?r(l):Promise.resolve(l).then(n,a)}function A(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return S(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(){var e=(0,w.useRouter)(),r=(0,j.useState)(""),t=r[0],n=r[1],g=(0,j.useState)(!1),S=g[0],C=g[1],I=(0,j.useState)(""),W=I[0],F=I[1],q=(0,j.useState)(!1),E=q[0],O=q[1],D=(0,j.useState)(!1),_=D[0],R=D[1],K=A((0,s.D)(i.ym),1)[0],N=function(){if(t){if(W&&!(W.length<8))return!0;Z.ZP.error("Password is not valid!")}else Z.ZP.error("PW ID is not valid!")},T=function(){var r,n=(r=a().mark((function r(){var n,o,i,s,l,u,c,d,f;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=N(),R(!0),!n){r.next=31;break}return r.prev=3,r.next=6,K({variables:{pw_id:t,password:W}});case 6:for(o=r.sent,i=o.data.login,s=!0,l=!1,u=void 0,r.prev=9,c=Object.keys(i)[Symbol.iterator]();!(s=(d=c.next()).done);s=!0)f=d.value,localStorage.setItem(f,i[f]);r.next=17;break;case 13:r.prev=13,r.t0=r.catch(9),l=!0,u=r.t0;case 17:r.prev=17,r.prev=18,s||null==c.return||c.return();case 20:if(r.prev=20,!l){r.next=23;break}throw u;case 23:return r.finish(20);case 24:return r.finish(17);case 25:e.reload(),r.next=31;break;case 28:r.prev=28,r.t1=r.catch(3),Z.ZP.error(r.t1.message);case 31:R(!1);case 32:case"end":return r.stop()}}),r,null,[[3,28],[9,13,17,25],[18,,20,24]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){k(o,n,a,i,s,"next",e)}function s(e){k(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,o.jsxs)(p.ZP,{component:v.Z,elevation:6,square:!0,children:[(0,o.jsxs)(h.Z,{sx:{my:8,p:2,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(y.Z,{variant:"h1",sx:{my:2},children:"Login"}),(0,o.jsx)(y.Z,{variant:"h4",color:"text.secondary",fontWeight:"normal",sx:{mb:0},children:"For the purpose of industry regulation, your details are required."}),(0,o.jsxs)(h.Z,{component:"form",noValidate:!0,sx:{mt:0},children:[(0,o.jsx)(x.Z,{margin:"normal",required:!0,fullWidth:!0,id:"referralId",label:"PlanetWay Refferal Id",name:"referralId",autoFocus:!0,onChange:function(e){n(e.target.value)}}),(0,o.jsx)(x.Z,{margin:"normal",required:!0,fullWidth:!0,onChange:function(e){F(e.target.value)},value:W,name:"password",label:"Password",type:S?"text":"password",id:"password",autoComplete:"current-password",InputProps:{endAdornment:(0,o.jsx)(d.Z,{position:"end",children:(0,o.jsx)(f.Z,{edge:"end","aria-label":"togglw password visibility",onClick:function(){return C(!S)},children:S?(0,o.jsx)(l.Z,{}):(0,o.jsx)(u.Z,{})})})}}),(0,o.jsx)(c.Z,{loading:_,fullWidth:!0,onClick:function(){T()},disabled:_,variant:"contained",sx:{mt:3,mb:2},children:"Login"}),(0,o.jsx)(y.Z,{variant:"body1",color:"text.secondary","text-align":"left",children:"Don't Have An Account?"}),(0,o.jsx)(p.ZP,{item:!0,xs:!0,children:(0,o.jsx)(b(),{href:"#",children:(0,o.jsx)("a",{onClick:function(){O(!0)},children:" Forgot Password"})})}),(0,o.jsx)(m.Z,{onClick:function(){e.push("/auth/signup")},fullWidth:!0,variant:"outlined",sx:{mt:2,mb:2},children:"Register"}),(0,o.jsx)(P.default,{open:E,setOpen:O})]})]}),(0,o.jsx)(Z.x7,{})]})}}}]);