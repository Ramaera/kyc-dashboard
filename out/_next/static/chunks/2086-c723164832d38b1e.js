"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2086],{2086:function(e,a,t){t.r(a),t.d(a,{rows:function(){return x}});var n=t(47568),o=(t(26042),t(69396),t(828)),d=t(97582),i=t(85893),r=t(4749),m=t(44709),s=t(26183),c=t(16696),u=t(50319),_=t(37887),p=t(8987),l=t(76721),y=t(15861),f=t(87357),P=t(11057),v=t(86886),g=t(50135),h=t(11163),D=t.n(h),j=t(67294),A=t(86501),x=[{config:m.Z.additional_card_payment_proof}];a.default=function(e){var a=e.cardId,t=e.cardNumber,h=e.cardPaymentDocuments,C=((0,s.T)(),(0,s.C)((function(e){var a;return null===(a=e.user)||void 0===a?void 0:a.data}))),b=(0,j.useState)(null),Z=b[0],U=b[1],k=(0,j.useState)(0),N=k[0],S=k[1],L=(0,j.useState)(!1),I=L[0],w=L[1],E=(0,j.useState)(),R=E[0],T=E[1],F=(0,j.useState)(!1),B=F[0],O=F[1],V=(0,j.useState)(!1),H=V[0],z=V[1],K=(0,j.useState)(!1),q=K[0],J=K[1],W=(0,o.Z)((0,u.D)(r.zz),1)[0],Y=(0,o.Z)((0,u.D)(r.ar),1)[0],G=((0,o.Z)((0,u.D)(r.v9),1)[0],(0,_.a)(r.mK,{variables:{cardNumber:t}}).data,(0,j.useState)(!1)),M=G[0],Q=G[1],X=(0,j.useState)(),$=X[0],ee=X[1],ae=(0,j.useState)(),te=ae[0],ne=ae[1],oe=D().query.index,de=(oe.toString().split("&")[1],oe.toString().split("&")[0]),ie=function(e){var a=[];if(h){var t=!0,n=!1,o=void 0;try{for(var d,i=function(){var e=d.value,t=null===h||void 0===h?void 0:h.find((function(a){if((null===a||void 0===a?void 0:a.title.toLowerCase())===e.id.toLowerCase())return!0}));t&&a.push(t)},r=e[Symbol.iterator]();!(t=(d=r.next()).done);t=!0)i()}catch(m){n=!0,o=m}finally{try{t||null==r.return||r.return()}finally{if(n)throw o}}}return a};(0,j.useEffect)((function(){J(!!(Z&&$&&te))}),[$,te,Z]);var re=function(){var e=(0,n.Z)((function(){var e,t;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,9,,10]),e="",B?[4,(0,c.Z)(Z)]:[3,2];case 1:return e=n.sent(),[3,3];case 2:e=Z,n.label=3;case 3:return(null===h||void 0===h?void 0:h.length)>0&&(null===h||void 0===h||h.find((function(e){e.title.toLowerCase()===m.Z.card_payment_proof.items[0].id&&(T(e),U(e.url))}))),R?[4,Y({variables:{title:m.Z.card_payment_proof.items[0].id,url:e,amount:parseInt(te),cardUserId:de,myCardId:a,utrNo:$,id:R.id}})]:[3,5];case 4:return n.sent(),A.ZP.success("Payment Proof Updated "),J(!1),[3,8];case 5:return n.trys.push([5,7,,8]),[4,W({variables:{title:m.Z.card_payment_proof.items[0].id,url:e,cardUserId:de,myCardId:a,amount:parseInt(te),utrNo:$}})];case 6:return n.sent(),A.ZP.success("Card Payment Updated "),J(!1),w(!0),[3,8];case 7:return t=n.sent(),console.log("err",t),[3,8];case 8:return[3,10];case 9:return n.sent(),[3,10];case 10:return z(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){h.length>0&&(null===h||void 0===h||h.map((function(e){e.title.toLowerCase()===m.Z.card_payment_proof.items[0].id&&(T(e),U(null===e||void 0===e?void 0:e.url),ne(null===e||void 0===e?void 0:e.amount),ee(e.utrNo))})))}),[h]),(0,j.useEffect)((function(){!function(){var e=0;null===h||void 0===h||h.map((function(a){a.title.includes("card_payment_proof")&&(e+=1),S(e)}))}()}),[]);var me=function(){Q(!1)};return(0,i.jsx)(i.Fragment,{children:M?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.Z,{variant:"h4",sx:{my:2},children:"Kindly Upload Your Payment Proof"}),Z&&(0,i.jsx)("img",{src:"object"==typeof Z?URL.createObjectURL(Z):Z,style:{marginTop:"10px"},height:200}),R&&R.status&&(0,i.jsxs)(y.Z,{variant:"h4",sx:{mt:2},children:["Status :"," ",(0,i.jsxs)("span",{style:{color:R?"APPROVED"===R.status?"green":"REJECTED"===R.status&&"red":""},children:[" ",R&&R.status]})]}),(0,i.jsxs)(f.Z,{sx:{display:"flex",gap:2},children:[(0,i.jsxs)(P.Z,{variant:"contained",style:{cursor:R&&"APPROVED"===R.status?"not-allowed":"pointer"},component:"label",color:R&&"APPROVED"===R.status?"secondary":"primary",children:["Upload Payment Proof",(0,i.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!R&&"APPROVED"===R.status,onChange:function(e){e.target.files.length>0&&(U(e.target.files[0]),O(!0),J(!1))}})]}),(0,i.jsx)(f.Z,{component:"form",children:(0,i.jsx)(p.Z,{loading:H,fullWidth:!0,disabled:!q,variant:"contained",onClick:function(){re()},children:"Submit"})}),(0,i.jsx)(A.x7,{position:"bottom-right",reverseOrder:!1})]}),(0,i.jsx)(f.Z,{children:(0,i.jsxs)(v.ZP,{sx:{display:"flex",paddingTop:3},item:!0,xs:12,sm:6,md:4,children:[(0,i.jsx)(f.Z,{children:(0,i.jsx)(g.Z,{sx:{width:150},id:"outlined",label:"UTR No.*",value:$,variant:"outlined",onChange:function(e){ee(e.target.value)}})}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(g.Z,{sx:{width:150,marginLeft:3},id:"outlined",label:"Amount*",value:te,variant:"outlined",type:"number",onChange:function(e){ne(e.target.value)}})})]})}),(0,i.jsx)(v.ZP,{item:!0,xs:4}),I||R&&(0,i.jsx)(i.Fragment,{children:x.map((function(e,t){return(0,i.jsx)(l.default,{cardId:a,hideAdditionalDocuments:me,data:e,rowNo:N,cardUserId:de,user:C,documents:ie(e.config.items)},t)}))})]})})}},44709:function(e,a){a.Z={aadhar:{id:"aadhar",name:"Aadhar Card",status:"",items:[{id:"aadhar_front",name:"AADHAR Card Front",status:""},{id:"aadhar_back",name:"AADHAR Card Back",status:""}]},pancard:{id:"pancard",name:"Pancard",status:"",items:[{id:"pancard",name:"Pan Card",status:""}]},avatar:{id:"photo",name:"Photo",status:"",items:[{id:"avatar",name:"Passport Size Photo",status:""}]},voterId:{id:"voterId",name:"Voter Id Card",status:"Not Uploaded",items:[{id:"voterid_front",name:"Voter Id Front",status:""},{id:"voterid_back",name:"Voted Id Card Back",status:""}]},passbook:{name:"Passbook  or Bank Statement",id:"passbook",status:"Not Uploaded",items:[{id:"passbook",name:"Bank Passbook Or Bank Statement",status:"Not Uploaded"}]},payment_proof:{name:"Payment Proof",id:"payment_proof",status:"Not Uploaded",items:[{id:"payment_proof",name:"Payment Proof"}]},agency_payment_proof:{name:"Agency Payment Proof",id:"agency_payment_proof",status:"Not Uploaded",items:[{id:"agency_payment_proof",name:"Agency Payment Proof"}]},upgrade_agency_license_payment_proof_documents:{name:"Upgrade Agency License Payment Proof",id:"upgrade_agency_license_payment_proof",items:[{id:"upgrade_agency_license_payment_proof2",name:"Upgrade Agency License Payment Proof"},{id:"upgrade_agency_license_payment_proof3",name:"Upgrade Agency License Payment Proof"},{id:"upgrade_agency_license_payment_proof4",name:"Upgrade Agency License Payment Proof"},{id:"upgrade_agency_license_payment_proof5",name:"Upgrade Agency License Payment Proof"}]},additional_payment_documents:{name:"Additional Payment Document",id:"additional_payment_doc",items:[{id:"additional_payment_doc2",name:"Payment Document"},{id:"additional_payment_doc3",name:"Payment Document"},{id:"additional_payment_doc4",name:"Payment Document"},{id:"additional_payment_doc5",name:"Payment Document"}]},to_advance_payment_proof:{name:"To Advance Payment Proof",id:"to_advance_payment_proof",status:"Not Uploaded",items:[{id:"to_advance_payment_proof",name:"To Advance Payment Proof"}]},to_advance_additional_documents:{name:"To Advance Additional Payment Document",id:"to_advance_additional_payment_doc",items:[{id:"to_advance_additional_payment_doc2",name:"To Advance Payment Document"},{id:"to_advance_additional_payment_doc3",name:"To Advance Payment Document"},{id:"to_advance_additional_payment_doc4",name:"To Advance Payment Document"},{id:"to_advance_additional_payment_doc5",name:"To Advance Payment Document"}]},driving_license:{name:"Driving License",id:"driving_license",status:"Not Uploaded",items:[{id:"driving_license_front",name:"Driving License Front",status:""},{id:"driving_license_back",name:"Driving License Back",status:""}]},nominee_aadhar:{name:"Nominee Aadhar",id:"nominee_aadhar",status:"Not Uploaded",items:[{id:"nominee_aadhar_front",name:"AADHAR Card Front",status:""},{id:"nominee_aadhar_back",name:"AADHAR Card Back",status:""}]},demat_document:{name:"Demat Document",id:"demat_document",status:"Not Uploaded",items:[{id:"demat_document",name:"Demat Document",status:""}]},additional_demat_documents:{name:"Additional Demat Document",id:"additional_demat_documents",items:[{id:"demat_document_2",name:"Demat Document"},{id:"demat_document_3",name:"Demat Document"},{id:"demat_document_4",name:"Demat Document"},{id:"demat_document_5",name:"Demat Document"}]},project_payment:{name:"Project Payment",id:"project_payment",items:[{id:"project_payment_1",name:"Payment Document"},{id:"project_payment_2",name:"Payment Document"},{id:"project_payment_3",name:"Payment Document"},{id:"project_payment_4",name:"Payment Document"},{id:"project_payment_5",name:"Payment Document"},{id:"project_payment_6",name:"Payment Document"},{id:"project_payment_7",name:"Payment Document"},{id:"project_payment_8",name:"Payment Document"},{id:"project_payment_9",name:"Payment Document"},{id:"project_payment_10",name:"Payment Document"},{id:"project_payment_11",name:"Payment Document"}]},card_payment_proof:{name:"Card Payment Proof",id:"card_payment_proof",status:"Not Uploaded",items:[{id:"card_payment_proof",name:"Card Payment Proof",status:""}]},additional_card_payment_proof:{name:"Additional Card Payment Proof",id:"additional_card_payment_proof",items:[{id:"card_payment_proof_2",name:"Card Payment Proof"},{id:"card_payment_proof_3",name:"Card Payment Proof"},{id:"card_payment_proof_4",name:"Card Payment Proof"},{id:"card_payment_proof_5",name:"Card Payment Proof"}]}}}}]);