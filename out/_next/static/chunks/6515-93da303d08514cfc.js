"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6515],{26515:function(e,n,t){t.r(n);var i=t(85893),o=t(45477),r=t(35632),l=t(17677),a=t(37887),s=t(8987),c=t(2734),d=t(66242),u=t(87357),p=t(11057),f=t(67720),h=t(78445),m=t(50135),x=t(72882),v=t(7906),Z=t(53184),g=t(53816),A=t(53252),j=t(295),E=t(15861),b=t(47171),C=t(45697),N=t.n(C),I=t(67294),D=t(47082),w=t(9473),O=t(61692),y=t.n(O),S=t(5678);function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){P(e,n,t[n])}))}return e}var R=function(e){var n=e.title,t=(0,I.useState)(!0),C=t[0],N=t[1],O=(0,c.Z)(),R=(0,I.useRef)(null),B=(0,I.useState)(0),L=B[0],k=B[1],G=(0,I.useState)([]),_=G[0],W=G[1],V=(0,I.useState)(""),H=V[0],U=V[1],F=(0,w.v9)((function(e){return e.allUsers.totalNumbers})),J=(0,I.useState)({total:0,pending:0,completed:0}),M=J[0],K=J[1],Y=(0,I.useState)(20),z=Y[0],q=Y[1],$=(0,I.useState)(""),Q=$[0],X=$[1],ee=(0,S.Nr)(Q,400),ne=(0,a.a)(o.A2,{variables:{skip:0,take:5e3}});(0,I.useEffect)((function(){var e;(null===ne||void 0===ne||null===(e=ne.data)||void 0===e?void 0:e.getAllUser)&&W(ne.data.getAllUser)}),[ne]);var te=function(e,n){var t=[];return e.map((function(e){e.title.includes(n.toLowerCase())&&t.push(null===e||void 0===e?void 0:e.status)})),t.includes(l.Z.status.PENDING)||t.includes(l.Z.status.ONGOING)?l.Z.status.ONGOING:t.includes(l.Z.status.REJECTED)?l.Z.status.REJECTED:l.Z.status.APPROVED},ie=(0,I.useState)({status:null,membership:null}),oe=ie[0],re=ie[1],le=function(e,t,i){var o=i.toLowerCase();return e.filter((function(e){var i,r,a=!0;return(null===e||void 0===e||null===(i=e.name)||void 0===i?void 0:i.toLowerCase().includes(o))||(null===e||void 0===e||null===(r=e.pw_id)||void 0===r?void 0:r.toLowerCase().includes(o))||(a=!1),e.role===l.Z.role.ADMIN&&(a=!1),(null===e||void 0===e?void 0:e.documents.find((function(e){return e.title.toLowerCase().includes(n.toLowerCase())})))||(a=!1),t.status&&te(null===e||void 0===e?void 0:e.documents,n.toLowerCase())!==t.status&&(a=!1),(t.membership&&(null===e||void 0===e?void 0:e.membership))!==t.membership&&(a=!1),a}))}(_,oe,ee),ae=function(e,n,t){return e.slice(n*t,n*t+t)}(le,L,z),se=function(e){var n=null;"all"!==e&&(n=e),re((function(e){return T({},e,{membership:n})}))},ce=function(e){var n=null;"all"!==e&&(n=e),re((function(e){return T({},e,{status:n})}))},de=function(e){if(!e)return e;var n=RegExp("(?<!^).(?!$)","g");return e.replace(n,"*")};return(0,I.useEffect)((function(){!function(){var e=0,t=0;_.map((function(i){if(i.role!==l.Z.role.ADMIN){var o=0,r=0;null===i||void 0===i||i.documents.map((function(e){e.title.toLowerCase().includes(n.toLowerCase())&&1,!e.title.toLowerCase().includes(n.toLowerCase())||e.status!==l.Z.status.PENDING&&e.status!==l.Z.status.ONGOING&&e.status!==l.Z.status.NOT_INITIALIZED&&e.status!==l.Z.status.REJECTED||(o+=1),e.title.toLowerCase().includes(n.toLowerCase())&&e.status===l.Z.status.APPROVED&&(r+=1)})),o?e+=1:r&&(t+=1)}})),K(T({},M,{pending:e,completed:t}))}()}),[_]),(0,I.useEffect)((function(){K((function(e){return T({},e,{total:F["total".concat(n,"Subscribers")]})}))}),[F]),_[0]?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.Z,{sx:{mb:4},children:[(0,i.jsxs)(u.Z,{mx:2,children:[(0,i.jsxs)(u.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,i.jsx)(p.Z,{variant:H.includes("total")?"contained":"outlined",sx:P({textTransform:"uppercase",width:"490px"},O.breakpoints.down("sm"),{width:"100%"}),onClick:function(){U((function(e){return e.includes("total")?"":"total"})),se(""),ce("all")},children:"Total Enrolled ".concat(n," : ").concat(M.total)}),H.includes("total")&&(0,i.jsxs)(u.Z,{display:"flex",gap:2,children:[(0,i.jsx)(p.Z,{variant:"totalAdvance"===H?"contained":"outlined",onClick:function(){U((function(e){return e.includes("totalAdvance")?"total":"totalAdvance"})),se(l.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,i.jsx)(p.Z,{variant:"totalBasic"===H?"contained":"outlined",onClick:function(){U((function(e){return e.includes("totalBasic")?"total":"totalBasic"})),se(l.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]}),(0,i.jsxs)(u.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,i.jsx)(p.Z,{variant:H.includes("pending")?"contained":"outlined",sx:P({textTransform:"uppercase",width:"490px"},O.breakpoints.down("sm"),{width:"100%"}),onClick:function(){U((function(e){return e.includes("pending")?"":"pending"})),se(""),ce(l.Z.status.ONGOING)},children:"".concat(n," pending  : ").concat(M.pending)}),H.includes("pending")&&(0,i.jsxs)(u.Z,{display:"flex",gap:2,children:[(0,i.jsx)(p.Z,{variant:"pendingAdvance"===H?"contained":"outlined",onClick:function(){U((function(e){return e.includes("pendingAdvance")?"pending":"pendingAdvance"})),se(l.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,i.jsx)(p.Z,{variant:"pendingBasic"===H?"contained":"outlined",onClick:function(){U((function(e){return e.includes("pendingBasic")?"pending":"pendingBasic"})),se(l.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]}),(0,i.jsxs)(u.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,i.jsx)(p.Z,{variant:H.includes("completed")?"contained":"outlined",sx:P({textTransform:"uppercase",width:"490px"},O.breakpoints.down("sm"),{width:"100%"}),onClick:function(){U((function(e){return e.includes("completed")?"":"completed"})),se(""),ce(l.Z.status.APPROVED)},children:"".concat(n," Completed  : ").concat(M.completed)}),H.includes("completed")&&(0,i.jsxs)(u.Z,{display:"flex",gap:2,children:[(0,i.jsx)(p.Z,{variant:"completedAdvance"===H?"contained":"outlined",onClick:function(){U((function(e){return e.includes("completedAdvance")?"completed":"completedAdvance"})),se(l.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,i.jsx)(p.Z,{variant:"completedBasic"===H?"contained":"outlined",onClick:function(){U((function(e){return e.includes("completedBasic")?"completed":"completedBasic"})),se(l.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]})]}),(0,i.jsx)(f.Z,{}),(H.includes("Advance")||H.includes("Basic"))&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{action:(0,i.jsx)(u.Z,{display:"flex",gap:"20px",children:(0,i.jsx)(u.Z,{width:480,display:"flex",gap:"10px",sx:P({},O.breakpoints.down("sm"),{width:"100%"}),children:(0,i.jsx)(m.Z,{fullWidth:!0,label:"Search",variant:"outlined",value:Q,onChange:function(e){X(e.target.value)}})})}),title:n.toUpperCase()+" LIST"}),(0,i.jsx)(f.Z,{})]}),(H.includes("Advance")||H.includes("Basic"))&&(0,i.jsx)(x.Z,{children:(0,i.jsxs)(v.Z,{ref:R,children:[(0,i.jsx)(Z.Z,{children:(0,i.jsxs)(g.Z,{children:[(0,i.jsx)(A.Z,{children:"S.No."}),(0,i.jsxs)(A.Z,{sx:{cursor:"pointer"},onClick:function(){var e="desc";C&&(e="");var n=y()(_,"name",{order:e});W(n),N(!C)},children:["Name",C?"\u2b07":"\u2b06"]}),"                  ",(0,i.jsx)(A.Z,{children:"Father's Name"}),(0,i.jsx)(A.Z,{children:"PW ID"}),(0,i.jsx)(A.Z,{children:"Share Holder Type"}),(0,i.jsx)(A.Z,{align:"center",children:"Moibile No."}),(0,i.jsx)(A.Z,{align:"center",children:"Enrollment Status"})]})}),(0,i.jsx)(j.Z,{children:ae.map((function(e,t){return(0,i.jsxs)(g.Z,{hover:!0,children:[(0,i.jsx)(A.Z,{children:(0,i.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,width:30,children:t+1})}),(0,i.jsx)(A.Z,{children:(0,i.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:null===e||void 0===e?void 0:e.name})}),(0,i.jsx)(A.Z,{children:(0,i.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===e||void 0===e?void 0:e.pw_id})}),(0,i.jsx)(A.Z,{align:"center",children:(0,i.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===e||void 0===e?void 0:e.membership})}),(0,i.jsx)(A.Z,{children:(0,i.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:100,noWrap:!0,children:de(null===e||void 0===e?void 0:e.father_or_husband_name)})}),(0,i.jsx)(A.Z,{align:"center",children:(0,i.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:de(null===e||void 0===e?void 0:e.mobile_number)})}),(0,i.jsx)(A.Z,{align:"center",children:(0,i.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:te(null===e||void 0===e?void 0:e.documents,n)})})]},null===e||void 0===e?void 0:e.id)}))})]})}),(H.includes("Advance")||H.includes("Basic"))&&(0,i.jsxs)(u.Z,{p:2,gap:2,display:"flex",justifyContent:"flex-end",children:[(0,i.jsx)(b.Z,{component:"div",count:le.length,onPageChange:function(e,n){k(n)},onRowsPerPageChange:function(e){q(parseInt("All"===e.target.value?-1:e.target.value))},page:L,rowsPerPage:z,rowsPerPageOptions:[20,100,200,"All"]}),(0,i.jsx)(D.DownloadTableExcel,{filename:n?n+"_KYC":"PROJECT_KYC",sheet:n?n+"_KYC":"PROJECT_KYC",currentTableRef:R.current,children:(0,i.jsx)(s.Z,{variant:"contained",children:"Download"})})]})]})}):(0,i.jsx)(r.Z,{})};R.propTypes={usersList:N().array.isRequired},R.defaultProps={usersList:[]},n.default=R},35632:function(e,n,t){var i=t(85893),o=(t(67294),t(90948));function r(){var e,n,t=(e=["\n  from { scale: 0.5; }\n  to { scale: 0.6; }\n  \n  \n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return r=function(){return t},t}var l=(0,t(70917).F4)(r()),a=(0,o.ZP)("div")({display:"flex",justifyContent:"center",height:"85vh",alignItems:"center",animation:"".concat(l," 1s  infinite")});n.Z=function(){return(0,i.jsx)(a,{children:(0,i.jsx)("img",{src:"/static/images/logo/logo.png"})})}},17677:function(e,n){n.Z={project:{AGRA:"agra",HAJIPUR:"hajipur"},role:{ADMIN:"ADMIN",AGENT:"AGENT",USER:"USER"},membership:{ADVANCE:"ADVANCE",BASIC:"BASIC"},status:{AGENT_APPROVED:"AGENT_APPROVED",APPROVED:"APPROVED",NOT_INITIALIZED:"NOT_INITIALIZED",ONGOING:"ONGOING",PENDING:"PENDING",REJECTED:"REJECTED",SUBMITTED:"SUBMITTED"},amount:{beforeFifteenthAugustBasicAmount:1e3,beforeFifteenthAugustAdvanceAmount:1e5,afterFifteenthAugustBasicAmount:2e3,afterFifteenthAugustAdvanceAmount:2e5}}}}]);