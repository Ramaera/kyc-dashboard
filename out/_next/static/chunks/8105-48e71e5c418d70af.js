"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8105],{18105:function(t,e,n){n.r(e);var i=n(14924),a=n(26042),l=n(69396),r=n(828),o=n(85893),s=n(98396),c=n(2734),d=n(66242),u=n(87357),h=n(11057),v=n(78445),x=n(50135),p=n(94054),f=n(47312),j=n(80788),Z=n(30431),m=n(67720),g=n(26447),b=n(10633),y=n(72882),A=n(7906),E=n(53184),N=n(53816),S=n(53252),W=n(295),C=n(15861),B=n(45697),D=n.n(B),_=n(67294),O=n(4749),R=n(22628),w=n(34753),I=n(37887),k=n(73359),L=n(86501),T=n(9473),P=function(t,e){var n="NOT ENROLLED";return null===t||void 0===t||t.map((function(t){t.title===e&&(n=t.status)})),n},U=function(){var t=(0,s.Z)("(min-width:600px)"),e=(0,c.Z)(),n=(0,_.useRef)(null),B=(0,_.useState)(0),D=B[0],U=B[1],H=(0,_.useState)(1),K=H[0],V=H[1],Y=(0,_.useState)(100),G=Y[0],F=Y[1],M=(0,_.useState)(""),q=M[0],J=M[1],$=(0,_.useState)(),z=$[0],Q=($[1],(0,_.useState)("")),X=Q[0],tt=Q[1],et=(0,_.useState)(""),nt=et[0],it=et[1],at=(0,I.a)(O.lw,{variables:{skip:D*G,take:G,input:{searchTerm:X.includes("totalAvdance")?"ADVANCE":X.includes("totalBasic")?"BASIC":"ADVANCE"}}}),lt=(0,r.Z)((0,k.t)(O.Ay,{variables:{searchTerm:q}}),2),rt=lt[0],ot=lt[1].data,st=(0,T.v9)((function(t){return t.allUsers.totalNumbers})),ct=(0,_.useState)([]),dt=ct[0],ut=ct[1],ht=(0,_.useState)({totalKYC:0,totalAdvance:0,totalBasic:0}),vt=ht[0],xt=ht[1];(0,_.useEffect)((function(){at.data&&(ut(at.data.allKycUser),at.data.allKycUser)}),[at]),(0,_.useEffect)((function(){xt({totalKYC:st.totalSubscribers,totalAdvance:st.totalAdvanceSubscribers,totalBasic:st.totalBasicSubscribers})}),[st]);var pt=(0,_.useState)({status:null,hajipur:null,agra:null}),ft=pt[0],jt=pt[1];(0,_.useEffect)((function(){(X.includes("totalAvdance")||X.includes("totalBasic"))&&rt()}),[q]),(0,_.useEffect)((function(){(null===ot||void 0===ot?void 0:ot.searchUsers[0])&&(null===ot||void 0===ot?void 0:ot.searchUsers[0])&&ut(ot.searchUsers)}),[null===ot||void 0===ot?void 0:ot.searchUsers]);var Zt=function(t,e){return t.filter((function(t){var n=!0;return t.role===w.Z.role.ADMIN&&(n=!1),(e.membership&&(null===t||void 0===t?void 0:t.membership))!==e.membership&&(n=!1),(e.status&&(null===t||void 0===t?void 0:t.kyc))!==e.status&&(n=!1),e.hajipur&&P(null===t||void 0===t?void 0:t.documents,"hajipur_project_payment")!==e.hajipur&&(n=!1),e.agra&&P(null===t||void 0===t?void 0:t.documents,"agra_project_payment")!==e.agra&&(n=!1),n}))}(dt,ft);(0,_.useEffect)((function(){F(100),J(""),it("")}),[X]);var mt=function(t){var e=null;"all"!==t&&(e=t),jt((function(t){return(0,l.Z)((0,a.Z)({},t),{membership:e})}))},gt=function(t){var e=null;"all"!==t&&(e=t),jt((function(t){return(0,l.Z)((0,a.Z)({},t),{status:e})}))},bt=function(t){if(!t||"NULL"==t)return"";var e=t.slice(0,4)+t.slice(-4,t.length),n=RegExp("(?<!^).(?!$)","g");return e.replace(n,"*")},yt=-1;return dt[0]?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(u.Z,{mx:2,sx:(0,i.Z)({display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column"}),children:(0,o.jsxs)(u.Z,{my:2,display:"flex",gap:2,sx:(0,i.Z)({},e.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,o.jsx)(h.Z,{variant:X.includes("total")?"contained":"outlined",sx:{textTransform:"uppercase",padding:2},onClick:function(){tt((function(t){return t.includes("total")?"":"total"})),mt(""),gt("all")},children:"Total Subscribers: "+vt.totalKYC}),X.includes("total")&&(0,o.jsxs)(u.Z,{display:"flex",gap:2,sx:(0,i.Z)({},e.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,o.jsx)(h.Z,{variant:"totalAvdance"===X?"contained":"outlined",onClick:function(){tt((function(t){return t.includes("totalAvdance")?"total":"totalAvdance"})),mt(w.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER : ".concat(vt.totalAdvance)}),(0,o.jsx)(h.Z,{variant:"totalBasic"===X?"contained":"outlined",onClick:function(){tt((function(t){return t.includes("totalBasic")?"total":"totalBasic"})),mt(w.Z.membership.BASIC)},children:"BASIC SHARE HOLDER : ".concat(vt.totalBasic)})]})]})}),(X.includes("totalAvdance")||X.includes("totalBasic"))&&(0,o.jsx)(v.Z,{action:(0,o.jsxs)(u.Z,{display:"flex",gap:"20px",children:[(0,o.jsxs)(u.Z,{display:"flex",gap:"10px",children:[(0,o.jsx)(x.Z,{fullWidth:!0,label:"Search",variant:"outlined",value:nt,onChange:function(t){it(t.target.value)}}),(0,o.jsx)(h.Z,{variant:"contained",onClick:function(){J(nt)},children:"Search"})]}),(0,o.jsxs)(u.Z,{width:480,display:"flex",gap:"10px",sx:(0,i.Z)({},e.breakpoints.down("sm"),{display:"none"}),children:[(0,o.jsxs)(p.Z,{fullWidth:!0,variant:"outlined",children:[(0,o.jsx)(f.Z,{children:"KYC Status"}),(0,o.jsx)(j.Z,{value:ft.status||"all",onChange:function(t){return gt(t.target.value)},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT_INITIALIZED",name:"Not Started"},{id:"REJECTED",name:"Rejected"},{id:"ONGOING",name:"Ongoing"},{id:"APPROVED",name:"Approved"}].map((function(t){return(0,o.jsx)(Z.Z,{value:t.id,children:t.name},t.id)}))})]}),(0,o.jsxs)(p.Z,{fullWidth:!0,variant:"outlined",children:[(0,o.jsx)(f.Z,{children:"Hajipur "}),(0,o.jsx)(j.Z,{value:ft.hajipur||"all",onChange:function(t){var e=null;"all"!==t.target.value&&(e=t.target.value),jt((function(t){return(0,l.Z)((0,a.Z)({},t),{hajipur:e})}))},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT ENROLLED",name:"Not Enrolled"},{id:"APPROVED",name:"Approved"},{id:"PENDING",name:"Pending"}].map((function(t){return(0,o.jsx)(Z.Z,{value:t.id,children:t.name},t.id)}))})]}),(0,o.jsxs)(p.Z,{fullWidth:!0,variant:"outlined",children:[(0,o.jsx)(f.Z,{children:"Agra "}),(0,o.jsx)(j.Z,{value:ft.agra||"all",onChange:function(t){var e=null;"all"!==t.target.value&&(e=t.target.value),jt((function(t){return(0,l.Z)((0,a.Z)({},t),{agra:e})}))},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT ENROLLED",name:"Not Enrolled"},{id:"APPROVED",name:"Approved"},{id:"PENDING",name:"Pending"}].map((function(t){return(0,o.jsx)(Z.Z,{value:t.id,children:t.name},t.id)}))})]})]})]}),title:t?"DASHBOARD":""}),(0,o.jsx)(m.Z,{}),(X.includes("totalAvdance")||X.includes("totalBasic"))&&(0,o.jsxs)(u.Z,{p:2,gap:2,display:"flex",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(g.Z,{spacing:2,children:(0,o.jsx)(b.Z,{count:Math.ceil(X.includes("Avdance")&&vt.totalAdvance/G||X.includes("Basic")&&vt.totalBasic/G),page:K,color:"primary",onChange:function(t,e){V(e),U(e-1),J(""),it("")}})}),(0,o.jsx)(u.Z,{width:80,display:"flex",gap:"10px",children:(0,o.jsxs)(p.Z,{fullWidth:!0,variant:"outlined",children:[(0,o.jsx)(f.Z,{children:"Rows"}),(0,o.jsxs)(j.Z,{value:G,onChange:function(t){5e3===t.target.value&&V(1),F(t.target.value)},label:"Rows",fullWidth:!0,children:[(0,o.jsx)(Z.Z,{value:20,children:"20"}),(0,o.jsx)(Z.Z,{value:100,children:"100"}),(0,o.jsx)(Z.Z,{value:5e3,children:"All"})]})]})})]}),(X.includes("totalAvdance")||X.includes("totalBasic"))&&(0,o.jsx)(y.Z,{children:(0,o.jsxs)(A.Z,{ref:n,children:[(0,o.jsx)(E.Z,{children:(0,o.jsxs)(N.Z,{children:[(0,o.jsx)(S.Z,{children:"S.No."}),(0,o.jsx)(S.Z,{children:"PW ID"}),(0,o.jsx)(S.Z,{children:"Name"}),(0,o.jsx)(S.Z,{align:"center",children:"Father's Name"}),(0,o.jsx)(S.Z,{align:"center",children:"Moibile No."}),(0,o.jsx)(S.Z,{align:"center",children:"KYC Status"}),(0,o.jsx)(S.Z,{align:"center",children:"Demat"}),(0,o.jsx)(S.Z,{align:"center",children:"Hajipur Project"}),(0,o.jsx)(S.Z,{align:"center",children:"Agra Project"})]})}),(0,o.jsx)(W.Z,{children:Zt.map((function(t){if((null===t||void 0===t?void 0:t.membership)!==z)return yt+=1,(0,o.jsxs)(N.Z,{hover:!0,children:[(0,o.jsx)(S.Z,{children:(0,o.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,width:30,children:yt+1})}),(0,o.jsxs)(S.Z,{children:[(0,o.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===t||void 0===t?void 0:t.pw_id}),(0,o.jsx)(C.Z,{variant:"body2",color:"text.secondary",noWrap:!0})]}),(0,o.jsx)(S.Z,{children:(0,o.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:"NULL"===(null===t||void 0===t?void 0:t.name)?"":null===t||void 0===t?void 0:t.name})}),(0,o.jsx)(S.Z,{children:(0,o.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:100,noWrap:!0,children:bt(null===t||void 0===t?void 0:t.father_or_husband_name)})}),(0,o.jsx)(S.Z,{align:"right",children:(0,o.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:bt(null===t||void 0===t?void 0:t.mobile_number)})}),(0,o.jsx)(S.Z,{align:"right",children:(0,o.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,children:"NOT_INITIALIZED"===(null===t||void 0===t?void 0:t.kyc)?"NOT STARTED":null===t||void 0===t?void 0:t.kyc})}),(0,o.jsx)(S.Z,{align:"right",children:(0,o.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:bt(null===t||void 0===t?void 0:t.demat_account)})}),(0,o.jsx)(S.Z,{align:"right",children:(0,o.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:P(null===t||void 0===t?void 0:t.documents,"hajipur_project_payment")})}),(0,o.jsx)(S.Z,{align:"right",children:(0,o.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:P(null===t||void 0===t?void 0:t.documents,"agra_project_payment")})})]},null===t||void 0===t?void 0:t.id)}))})]})}),(0,o.jsx)(L.x7,{position:"bottom-center",reverseOrder:!1})]})}):(0,o.jsx)(R.Z,{})};U.propTypes={usersList:D().array.isRequired},U.defaultProps={usersList:[]},e.default=U},22628:function(t,e,n){var i=n(7297),a=n(85893),l=(n(67294),n(90948));function r(){var t=(0,i.Z)(["\n  from { scale: 0.5; }\n  to { scale: 0.6; }\n  \n  \n"]);return r=function(){return t},t}var o=(0,n(70917).F4)(r()),s=(0,l.ZP)("div")({display:"flex",justifyContent:"center",height:"85vh",alignItems:"center",animation:"".concat(o," 1s  infinite")});e.Z=function(){return(0,a.jsx)(s,{children:(0,a.jsx)("img",{src:"/static/images/logo/logo.png"})})}}}]);