"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8105],{18105:function(e,t,n){n.r(t);var i=n(14924),a=n(26042),l=n(69396),r=n(828),o=n(85893),s=n(98396),d=n(2734),c=n(66242),u=n(87357),h=n(11057),v=n(78445),x=n(50135),m=n(94054),p=n(47312),f=n(80788),Z=n(30431),j=n(67720),g=n(26447),b=n(10633),E=n(72882),A=n(7906),y=n(53184),N=n(53816),D=n(53252),C=n(295),S=n(15861),W=n(45697),w=n.n(W),R=n(67294),B=n(4749),O=n(22628),I=n(34753),_=n(37887),T=n(73359),k=n(86501),P=n(9473),L=function(e,t){var n="NOT ENROLLED";return null===e||void 0===e||e.map((function(e){e.title===t&&(n=e.status)})),n},V=function(e){var t="NOT_RECIEVED";return e.documents.map((function(e){e.title.includes("demat")&&(t=e.status)})),t},U=function(){var e=(0,s.Z)("(min-width:600px)"),t=(0,d.Z)(),n=(0,R.useRef)(null),W=(0,R.useState)(0),w=W[0],U=W[1],H=(0,R.useState)(1),K=H[0],G=H[1],Y=(0,R.useState)(100),F=Y[0],M=Y[1],J=(0,R.useState)(""),q=J[0],$=J[1],z=(0,R.useState)(),Q=z[0],X=(z[1],(0,R.useState)("")),ee=X[0],te=X[1],ne=(0,R.useState)(""),ie=ne[0],ae=ne[1],le=(0,_.a)(B.lw,{variables:{skip:w*F,take:F,input:{searchTerm:ee.includes("totalAvdance")?"ADVANCE":ee.includes("totalBasic")?"BASIC":"ADVANCE"}}}),re=(0,r.Z)((0,T.t)(B.Ay,{variables:{searchTerm:q}}),2),oe=re[0],se=re[1].data,de=(0,P.v9)((function(e){return e.allUsers.totalNumbers})),ce=(0,R.useState)([]),ue=ce[0],he=ce[1],ve=(0,R.useState)({totalKYC:0,totalAdvance:0,totalBasic:0}),xe=ve[0],me=ve[1];(0,R.useEffect)((function(){le.data&&(he(le.data.allKycUser),le.data.allKycUser)}),[le]),(0,R.useEffect)((function(){me({totalKYC:de.totalSubscribers,totalAdvance:de.totalAdvanceSubscribers,totalBasic:de.totalBasicSubscribers})}),[de]);var pe=(0,R.useState)({status:null,hajipur:null,agra:null}),fe=pe[0],Ze=pe[1];(0,R.useEffect)((function(){(ee.includes("totalAvdance")||ee.includes("totalBasic"))&&oe()}),[q]),(0,R.useEffect)((function(){(null===se||void 0===se?void 0:se.searchUsers[0])&&(null===se||void 0===se?void 0:se.searchUsers[0])&&he(se.searchUsers)}),[null===se||void 0===se?void 0:se.searchUsers]);var je=function(e,t){return e.filter((function(e){var n=!0;return e.role===I.Z.role.ADMIN&&(n=!1),(t.membership&&(null===e||void 0===e?void 0:e.membership))!==t.membership&&(n=!1),(t.status&&(null===e||void 0===e?void 0:e.kyc))!==t.status&&(n=!1),t.hajipur&&L(null===e||void 0===e?void 0:e.documents,"hajipur_project_payment")!==t.hajipur&&(n=!1),t.demat&&V(e)!==t.demat&&(n=!1),t.agra&&L(null===e||void 0===e?void 0:e.documents,"agra_project_payment")!==t.agra&&(n=!1),n}))}(ue,fe);(0,R.useEffect)((function(){M(100),$(""),ae("")}),[ee]);var ge=function(e){var t=null;"all"!==e&&(t=e),Ze((function(e){return(0,l.Z)((0,a.Z)({},e),{membership:t})}))},be=function(e){var t=null;"all"!==e&&(t=e),Ze((function(e){return(0,l.Z)((0,a.Z)({},e),{status:t})}))},Ee=function(e){if(!e||"NULL"==e)return"";var t=e.slice(0,4)+e.slice(-4,e.length),n=RegExp("(?<!^).(?!$)","g");return t.replace(n,"*")},Ae=-1;return ue[0]?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(c.Z,{children:[(0,o.jsx)(u.Z,{mx:2,sx:(0,i.Z)({display:"flex",justifyContent:"space-between"},t.breakpoints.down("sm"),{flexDirection:"column"}),children:(0,o.jsxs)(u.Z,{my:2,display:"flex",gap:2,sx:(0,i.Z)({},t.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,o.jsx)(h.Z,{variant:ee.includes("total")?"contained":"outlined",sx:{textTransform:"uppercase",padding:2},onClick:function(){te((function(e){return e.includes("total")?"":"total"})),ge(""),be("all")},children:"Total Subscribers: "+xe.totalKYC}),ee.includes("total")&&(0,o.jsxs)(u.Z,{display:"flex",gap:2,sx:(0,i.Z)({},t.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,o.jsx)(h.Z,{variant:"totalAvdance"===ee?"contained":"outlined",onClick:function(){te((function(e){return e.includes("totalAvdance")?"total":"totalAvdance"})),ge(I.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER : ".concat(xe.totalAdvance)}),(0,o.jsx)(h.Z,{variant:"totalBasic"===ee?"contained":"outlined",onClick:function(){te((function(e){return e.includes("totalBasic")?"total":"totalBasic"})),ge(I.Z.membership.BASIC)},children:"BASIC SHARE HOLDER : ".concat(xe.totalBasic)})]})]})}),(ee.includes("totalAvdance")||ee.includes("totalBasic"))&&(0,o.jsx)(v.Z,{sx:(0,i.Z)({},t.breakpoints.down("sm"),{width:"85vw"}),action:(0,o.jsxs)(u.Z,{display:"flex",gap:"20px",sx:(0,i.Z)({},t.breakpoints.down("sm"),{flexDirection:"column-reverse"}),children:[(0,o.jsxs)(u.Z,{display:"flex",gap:"10px",sx:(0,i.Z)({},t.breakpoints.down("sm"),{flexDirection:"column",width:"82.5vw"}),children:[(0,o.jsx)(x.Z,{fullWidth:!0,label:"Search",variant:"outlined",value:ie,onChange:function(e){ae(e.target.value)}}),(0,o.jsx)(h.Z,{variant:"contained",onClick:function(){$(ie)},children:"Search"})]}),(0,o.jsxs)(u.Z,{display:"flex",gap:"10px",sx:(0,i.Z)({width:"480px"},t.breakpoints.down("sm"),{flexDirection:"column",width:"82.5vw"}),children:[(0,o.jsxs)(m.Z,{fullWidth:!0,variant:"outlined",children:[(0,o.jsx)(p.Z,{children:"Demat Status"}),(0,o.jsx)(f.Z,{sx:{bgcolor:fe.demat&&"#8c7cf040"},value:fe.demat||"all",onChange:function(e){var t=null;"all"!==e.target.value&&(t=e.target.value),Ze((function(e){return(0,l.Z)((0,a.Z)({},e),{demat:t})}))},label:"Deat",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT_RECIEVED",name:"Not Recieved"},{id:"REJECTED",name:"Rejected"},{id:"PENDING",name:"Pending"},{id:"APPROVED",name:"Approved"}].map((function(e){return(0,o.jsx)(Z.Z,{value:e.id,children:e.name},e.id)}))})]}),(0,o.jsxs)(m.Z,{fullWidth:!0,variant:"outlined",children:[(0,o.jsx)(p.Z,{children:"KYC Status"}),(0,o.jsx)(f.Z,{value:fe.status||"all",onChange:function(e){return be(e.target.value)},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT_INITIALIZED",name:"Not Started"},{id:"REJECTED",name:"Rejected"},{id:"ONGOING",name:"Ongoing"},{id:"APPROVED",name:"Approved"}].map((function(e){return(0,o.jsx)(Z.Z,{value:e.id,children:e.name},e.id)}))})]}),(0,o.jsxs)(m.Z,{fullWidth:!0,variant:"outlined",children:[(0,o.jsx)(p.Z,{children:"Hajipur "}),(0,o.jsx)(f.Z,{value:fe.hajipur||"all",onChange:function(e){var t=null;"all"!==e.target.value&&(t=e.target.value),Ze((function(e){return(0,l.Z)((0,a.Z)({},e),{hajipur:t})}))},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT ENROLLED",name:"Not Enrolled"},{id:"APPROVED",name:"Approved"},{id:"PENDING",name:"Pending"}].map((function(e){return(0,o.jsx)(Z.Z,{value:e.id,children:e.name},e.id)}))})]}),(0,o.jsxs)(m.Z,{fullWidth:!0,variant:"outlined",children:[(0,o.jsx)(p.Z,{children:"Agra "}),(0,o.jsx)(f.Z,{value:fe.agra||"all",onChange:function(e){var t=null;"all"!==e.target.value&&(t=e.target.value),Ze((function(e){return(0,l.Z)((0,a.Z)({},e),{agra:t})}))},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT ENROLLED",name:"Not Enrolled"},{id:"APPROVED",name:"Approved"},{id:"PENDING",name:"Pending"}].map((function(e){return(0,o.jsx)(Z.Z,{value:e.id,children:e.name},e.id)}))})]})]})]}),title:e?"DASHBOARD":""}),(0,o.jsx)(j.Z,{}),(ee.includes("totalAvdance")||ee.includes("totalBasic"))&&(0,o.jsxs)(u.Z,{p:2,gap:2,display:"flex",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(g.Z,{spacing:2,children:(0,o.jsx)(b.Z,{count:Math.ceil(ee.includes("Avdance")&&xe.totalAdvance/F||ee.includes("Basic")&&xe.totalBasic/F),page:K,color:"primary",onChange:function(e,t){G(t),U(t-1),$(""),ae("")}})}),(0,o.jsx)(u.Z,{width:80,display:"flex",gap:"10px",children:(0,o.jsxs)(m.Z,{fullWidth:!0,variant:"outlined",children:[(0,o.jsx)(p.Z,{children:"Rows"}),(0,o.jsxs)(f.Z,{value:F,onChange:function(e){5e3===e.target.value&&G(1),M(e.target.value)},label:"Rows",fullWidth:!0,children:[(0,o.jsx)(Z.Z,{value:20,children:"20"}),(0,o.jsx)(Z.Z,{value:100,children:"100"}),(0,o.jsx)(Z.Z,{value:5e3,children:"All"})]})]})})]}),(ee.includes("totalAvdance")||ee.includes("totalBasic"))&&(0,o.jsx)(E.Z,{children:(0,o.jsxs)(A.Z,{ref:n,children:[(0,o.jsx)(y.Z,{children:(0,o.jsxs)(N.Z,{children:[(0,o.jsx)(D.Z,{children:"S.No."}),(0,o.jsx)(D.Z,{children:"PW ID"}),(0,o.jsx)(D.Z,{children:"Name"}),(0,o.jsx)(D.Z,{align:"center",children:"Father's Name"}),(0,o.jsx)(D.Z,{align:"center",children:"Moibile No."}),(0,o.jsx)(D.Z,{align:"center",children:"KYC Status"}),(0,o.jsx)(D.Z,{align:"center",children:"Demat"}),(0,o.jsx)(D.Z,{align:"center",children:"Hajipur Project"}),(0,o.jsx)(D.Z,{align:"center",children:"Agra Project"})]})}),(0,o.jsx)(C.Z,{children:je.map((function(e){if((null===e||void 0===e?void 0:e.membership)!==Q)return Ae+=1,(0,o.jsxs)(N.Z,{hover:!0,children:[(0,o.jsx)(D.Z,{children:(0,o.jsx)(S.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,width:30,children:Ae+1})}),(0,o.jsxs)(D.Z,{children:[(0,o.jsx)(S.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===e||void 0===e?void 0:e.pw_id}),(0,o.jsx)(S.Z,{variant:"body2",color:"text.secondary",noWrap:!0})]}),(0,o.jsx)(D.Z,{children:(0,o.jsx)(S.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:"NULL"===(null===e||void 0===e?void 0:e.name)?"":null===e||void 0===e?void 0:e.name})}),(0,o.jsx)(D.Z,{align:"center",children:(0,o.jsx)(S.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:100,noWrap:!0,children:Ee(null===e||void 0===e?void 0:e.father_or_husband_name)})}),(0,o.jsx)(D.Z,{align:"center",children:(0,o.jsx)(S.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:Ee(null===e||void 0===e?void 0:e.mobile_number)})}),(0,o.jsx)(D.Z,{align:"right",children:(0,o.jsx)(S.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,children:"NOT_INITIALIZED"===(null===e||void 0===e?void 0:e.kyc)?"NOT STARTED":null===e||void 0===e?void 0:e.kyc})}),(0,o.jsx)(D.Z,{align:"center",children:(0,o.jsx)(S.Z,{width:"120px",variant:"body1",fontWeight:"bold",color:"text.primary",noWrap:!0,children:"NOT_RECIEVED"===V(e)?"NOT RECEIVED":V(e)})}),(0,o.jsx)(D.Z,{align:"center",children:(0,o.jsx)(S.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:L(null===e||void 0===e?void 0:e.documents,"hajipur_project_payment")})}),(0,o.jsx)(D.Z,{align:"center",children:(0,o.jsx)(S.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:L(null===e||void 0===e?void 0:e.documents,"agra_project_payment")})})]},null===e||void 0===e?void 0:e.id)}))})]})}),(0,o.jsx)(k.x7,{position:"bottom-center",reverseOrder:!1})]})}):(0,o.jsx)(O.Z,{})};U.propTypes={usersList:w().array.isRequired},U.defaultProps={usersList:[]},t.default=U},22628:function(e,t,n){var i=n(7297),a=n(85893),l=(n(67294),n(90948));function r(){var e=(0,i.Z)(["\n  from { scale: 0.5; }\n  to { scale: 0.6; }\n  \n  \n"]);return r=function(){return e},e}var o=(0,n(70917).F4)(r()),s=(0,l.ZP)("div")({display:"flex",justifyContent:"center",height:"85vh",alignItems:"center",animation:"".concat(o," 1s  infinite")});t.Z=function(){return(0,a.jsx)(s,{children:(0,a.jsx)("img",{src:"/static/images/logo/logo.png"})})}}}]);