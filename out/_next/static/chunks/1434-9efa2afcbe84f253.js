"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1434],{21367:function(t,e,n){n.r(e),n.d(e,{rows:function(){return a}});var r=n(85893),o=n(42480),a=[{config:o.Z.avatar,status:-1},{config:o.Z.aadhar,status:-1},{config:o.Z.pancard,status:-1},{config:o.Z.passbook,status:-1},{config:o.Z.voterId,status:-1,isOptional:!0},{config:o.Z.driving_license,status:-1,isOptional:!0}];e.default=function(){return(0,r.jsx)("div",{children:"RemoveError"})}},91434:function(t,e,n){n.r(e);var r=n(34051),o=n.n(r),a=n(85893),i=n(45477),c=n(46230),u=n(55511),s=n(50319),l=n(8987),f=n(11057),d=n(15861),h=n(55113),p=n(7906),v=n(295),m=n(53252),y=n(72882),b=n(53184),x=n(20427),g=n(53816),j=(n(19662),n(37070),n(93491),n(67294)),w=n(86501),Z=n(21367);function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(r,o)}function k(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){P(a,r,o,i,c,"next",t)}function c(t){P(a,r,o,i,c,"throw",t)}i(void 0)}))}}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){S(t,e,n[e])}))}return t}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(u){c=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(t,e)||D(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||D(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){if(t){if("string"===typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}var R=function(t){var e=t.data,n=t.documents,r=void 0===n?[]:n,h=t.user,p=(0,j.useState)([]),v=p[0],y=p[1],b=(0,j.useState)([]),Z=b[0],O=b[1],P=E((0,s.D)(i.Is),1)[0],S=E((0,s.D)(i.yW),1)[0],D=(0,j.useState)(!1),R=D[0],U=D[1],I=(0,c.T)();(0,j.useEffect)((function(){var t=[],e=!0,n=!1,o=void 0;try{for(var a,i=r[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var c=a.value;t.push(c.url)}}catch(u){n=!0,o=u}finally{try{e||null==i.return||i.return()}finally{if(n)throw o}}y(t)}),[r,h]);var L=function(){var t=k(o().mark((function t(e,n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P({variables:{title:e,url:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),T=function(){var t=k(o().mark((function t(e,n,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S({variables:{id:e,title:n,url:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),_=function(t,e,n){var r,o=h,a=[];return null===h||void 0===h||null===(r=h.documents)||void 0===r||r.map((function(n){n.id===t?a.push(A({},n,{title:"avatar"})):n.title!==e&&a.push(n)})),console.log(n,A({},o,{documents:a})),A({},o,{documents:a})},N=function(){var t=k(o().mark((function t(){var n,a,i,c,s,l,f,d,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(!0),t.prev=1,n=0;case 3:if(!(n<Z.length)){t.next=35;break}if(!Z[n]){t.next=32;break}return a=e.config.items[n].id,t.next=8,(0,u.Z)(v[n]);case 8:if(i=t.sent,c=r.find((function(t){if(t.title.toLowerCase()===a.toLowerCase())return!0})),(s=h.documents)||(s=[]),!c){t.next=24;break}return t.next=15,T(c.id,a,i);case 15:return l=t.sent,t.next=18,I((0,x.j2)(_(c.id,a,i)));case 18:w.ZP.success("".concat(a," Uploaded")),(f=s.filter((function(t){return t.id!==document.id}))).push(l.data.updateDocument),s=f,t.next=29;break;case 24:return t.next=26,L(a,i);case 26:d=t.sent,w.ZP.success("".concat(a," Uploaded")),s=C(s).concat([d.data.createDocument]);case 29:(p=A({},h)).documents=s,I((0,x.j2)(p));case 32:n++,t.next=3;break;case 35:t.next=40;break;case 37:t.prev=37,t.t0=t.catch(1),console.log("error",t.t0);case 40:U(!1);case 41:case"end":return t.stop()}}),t,null,[[1,37]])})));return function(){return t.apply(this,arguments)}}();return(0,a.jsxs)(g.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsxs)(m.Z,{component:"th",scope:"row",children:[e.config.name," ",e.isOptional?"(Optional)":""]}),(0,a.jsx)(m.Z,{children:function(){for(var t=[],n=e.config.items,r=0;r<n.length;r++){var o=v[r];o&&t.push((0,a.jsx)("img",{src:"object"==typeof o?URL.createObjectURL(o):o,height:100,style:{marginLeft:"5px"}}))}return 0==t.length?(0,a.jsx)(d.Z,{variant:"subtitle1",children:"No Document"}):t}()}),(0,a.jsx)(m.Z,{children:function(){for(var t=function(t){n.push((0,a.jsxs)(f.Z,{style:{cursor:r[0]&&"APPROVED"===r[0].status?"not-allowed":"pointer",marginTop:"10px"},component:"label",color:r[0]&&"APPROVED"===r[0].status?"secondary":"primary",children:["Choose ",o[t].name,(0,a.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!r[0]&&"APPROVED"===r[0].status,onChange:function(e){if(e.target.files.length>0){var n=C(v);n[t]=e.target.files[0],y(n),console.log("imageChanged",n[t]);var r=C(Z);r[t]=!0,O(r)}}})]}))},n=[],o=e.config.items,i=0;i<o.length;i++)t(i);return n}()}),(0,a.jsx)(m.Z,{children:(0,a.jsx)(l.Z,{loading:R,disabled:!function(){var t=Z.find((function(t){if(t)return!0}));if(v.length==e.config.items.length&&t)return!0}(),variant:"contained",onClick:function(){N()},children:"Upload"})}),(0,a.jsx)(m.Z,{children:(0,a.jsx)("span",{style:{color:r[0]?"APPROVED"===r[0].status?"green":"REJECTED"===r[0].status&&"red":""},children:r[0]&&r[0].status})})]},e.config.name)};e.default=function(){var t=(0,c.C)((function(t){return t.user.data})),e=function(e){var n=[];if(t&&t.documents){var r=!0,o=!1,a=void 0;try{for(var i,c=function(e,r){var o,a=r.value,i=null===t||void 0===t||null===(o=t.documents)||void 0===o?void 0:o.find((function(t){if(t.title.toLowerCase()===a.id.toLowerCase())return!0}));i&&n.push(i)},u=e[Symbol.iterator]();!(r=(i=u.next()).done);r=!0)c(0,i)}catch(s){o=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}return n};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{variant:"h4",sx:{my:2},children:"Kindly Upload the documents requested below"}),(0,a.jsxs)(y.Z,{component:h.Z,children:[(0,a.jsxs)(p.Z,{"aria-label":"simple table",children:[(0,a.jsx)(b.Z,{children:(0,a.jsxs)(g.Z,{children:[(0,a.jsx)(m.Z,{children:"Document Name"}),(0,a.jsx)(m.Z,{children:"Preview"}),(0,a.jsx)(m.Z,{style:{padding:"0 0 0 2rem"},children:"Action"}),(0,a.jsx)(m.Z,{style:{padding:"0 0 0 2rem"},children:"Upload Action"}),(0,a.jsx)(m.Z,{children:"Status"})]})}),(0,a.jsx)(v.Z,{children:Z.rows.map((function(n,r){return(0,a.jsx)(R,{data:n,user:t,documents:e(n.config.items)},r)}))})]}),(0,a.jsx)(w.x7,{position:"bottom-center",reverseOrder:!1})]})]})}}}]);