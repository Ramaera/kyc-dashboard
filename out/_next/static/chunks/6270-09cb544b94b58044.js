"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6270],{32501:function(e,r,t){t.r(r),t.d(r,{default:function(){return V}});var n=t(47568),a=t(14924),o=t(828),l=t(97582),i=t(85893),s=t(4749),d=t(50319),u=t(73359),c=t(52186),f=t(58883),h=t(8987),Z=t(2734),x=t(72890),p=t(36872),v=t(87109),g=t(93946),m=t(50657),b=t(37645),j=t(6514),y=t(58951),C=t(31425),S=t(11057),w=t(87357),P=t(50480),A=t(86886),I=t(55113),k=t(50135),_=t(15861),N=t(5121),W=t(11163),D=t(67294),R=t(86501),E=t(16538);function V(){var e=(0,W.useRouter)(),r=(0,o.Z)((0,d.D)(s.kp),1)[0],t=(0,o.Z)(D.useState(""),2),V=t[0],q=t[1],B=(0,o.Z)(D.useState(!1),2),Y=B[0],O=B[1],F=(0,o.Z)(D.useState(""),2),K=F[0],T=F[1],U=(0,o.Z)(D.useState(""),2),z=U[0],H=U[1],L=(0,o.Z)(D.useState(""),2),G=L[0],J=L[1],M=(0,o.Z)(D.useState(!1),2),Q=M[0],X=M[1],$=(0,Z.Z)(),ee=(0,o.Z)(D.useState(""),2),re=ee[0],te=ee[1],ne=(0,o.Z)(D.useState("BASIC"),2),ae=ne[0],oe=ne[1],le=(0,o.Z)(D.useState(!0),2),ie=le[0],se=le[1],de=(0,o.Z)(D.useState(!0),2),ue=de[0],ce=de[1],fe=(0,o.Z)(D.useState(!1),2),he=fe[0],Ze=fe[1],xe=(0,o.Z)(D.useState(""),2),pe=xe[0],ve=xe[1],ge=(0,o.Z)(D.useState(""),2),me=ge[0],be=ge[1],je=(0,o.Z)((0,u.t)(E.mP,{variables:{referralCode:G}}),2),ye=je[0],Ce=je[1],Se=Ce.loading,we=Ce.error,Pe=Ce.data;we&&R.ZP.error(null===we||void 0===we?void 0:we.message);var Ae=function(){var t=(0,n.Z)((function(){var t,n,a,o,i,s,d,u,c,f;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:if(t=function(){if(V)if(ue)if(re&&12===re.length)if(!K||K.length<8)R.ZP.error("Password is not valid!");else{if(ie)return!0;R.ZP.error("Please Enter a valid PWID")}else R.ZP.error("Enter Valid Aadhaar Number!");else R.ZP.error("Enter correct Referral ID!");else R.ZP.error("PW ID is not valid!")}(),Ze(!0),!t)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,r({variables:{pw_id:V.toUpperCase(),membership:ae,aadharCardNumber:re,password:K,referralAgencyCode:z.toUpperCase()}})];case 2:n=l.sent(),a=n.data.signup,o=!0,i=!1,s=void 0;try{for(d=Object.keys(a)[Symbol.iterator]();!(o=(u=d.next()).done);o=!0)c=u.value,localStorage.setItem(c,a[c])}catch(h){i=!0,s=h}finally{try{o||null==d.return||d.return()}finally{if(i)throw s}}return e.reload(),[3,4];case 3:return f=l.sent(),R.ZP.error(f.message),[3,4];case 4:return Ze(!1),[2]}}))}));return function(){return t.apply(this,arguments)}}(),Ie=function(){X(!1)},ke=function(){var e=(0,n.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return J(z),[4,ye()];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return D.useEffect((function(){var e,r;(null===Pe||void 0===Pe||null===(e=Pe.verifyReferralId)||void 0===e?void 0:e.name)?(ve(null===Pe||void 0===Pe||null===(r=Pe.verifyReferralId)||void 0===r?void 0:r.name),ce(!0)):(ve(""),ce(!1))}),[Pe]),(0,i.jsxs)(A.ZP,{component:I.Z,elevation:6,square:!0,children:[(0,i.jsxs)(w.Z,{sx:(0,a.Z)({my:8,p:2,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},$.breakpoints.down("sm"),{mx:0}),children:[(0,i.jsx)(_.Z,{variant:"h1",sx:{my:2},children:"Signup"}),(0,i.jsx)(_.Z,{variant:"h4",color:"text.secondary",fontWeight:"normal",sx:{mb:0},children:"For the purpose of industry regulation, your details are required."}),(0,i.jsxs)(w.Z,{component:"form",noValidate:!0,sx:{mt:0},children:[(0,i.jsx)(k.Z,{margin:"normal",required:!0,fullWidth:!0,label:"Your Identity Code",autoFocus:!0,onChange:function(e){q(e.target.value),function(e){var r={Reff_Code:e};N.Z.post("https://api.ramaera.com/api/KYC",r,{headers:{"Content-Type":"application/json"}}).then((function(e){var r,t,n,a=null===(r=e.data[0])||void 0===r?void 0:r.AC_Status;se(a),be(null===(t=e.data[0])||void 0===t?void 0:t.Name),be(null===(n=e.data[0])||void 0===n?void 0:n.Name)})).catch((function(e){console.error("error",e),se(!1)}))}(e.target.value)}}),me&&(0,i.jsx)(_.Z,{children:"Name : "+me}),(0,i.jsx)(_.Z,{color:"text.secondary",textAlign:"left",fontWeight:"normal",children:"Select Share Holder Type*:"}),(0,i.jsxs)(x.Z,{row:!0,defaultValue:"Basic","aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",onChange:function(e){oe(e.target.value)},children:[(0,i.jsx)(P.Z,{value:"BASIC",control:(0,i.jsx)(p.Z,{}),label:"Basic"}),(0,i.jsx)(P.Z,{sx:{textAlign:"left"},value:"ADVANCE",control:(0,i.jsx)(p.Z,{}),label:"30% Net Profit Sharing Partner"})]}),(0,i.jsx)(k.Z,{margin:"normal",fullWidth:!0,label:"Authorized Agency Code",onChange:function(e){H(e.target.value),e.target.value.length>0?ce(!1):ce(!0)},InputProps:{endAdornment:(0,i.jsx)(h.Z,{onClick:function(){ke()},disabled:!z||Se,variant:"contained",children:"Verify"})}}),pe&&(0,i.jsx)(_.Z,{children:"Referral Code Of : "+pe}),(0,i.jsx)(k.Z,{margin:"normal",fullWidth:!0,label:"Aadhaar Number ",required:!0,onChange:function(e){te(e.target.value)}}),(0,i.jsx)(k.Z,{margin:"normal",required:!0,fullWidth:!0,onChange:function(e){T(e.target.value)},name:"password",label:"Password",type:Y?"text":"password",id:"password",autoComplete:"current-password",InputProps:{endAdornment:(0,i.jsx)(v.Z,{position:"end",children:(0,i.jsx)(g.Z,{edge:"end","aria-label":"toggle password visibility",onClick:function(){return O(!Y)},children:Y?(0,i.jsx)(c.Z,{}):(0,i.jsx)(f.Z,{})})})}}),(0,i.jsx)(h.Z,{loading:he,fullWidth:!0,onClick:function(){z?Ae():X(!0)},disabled:he||!ie,variant:"contained",sx:{mt:3,mb:2},children:"Create An Acccount"}),(0,i.jsx)(_.Z,{variant:"body1",color:"text.secondary","text-align":"left",children:"Already have an account ?"}),(0,i.jsx)(h.Z,{onClick:function(){e.push("/auth/login")},fullWidth:!0,variant:"outlined",sx:{mt:2,mb:2},href:"",children:"Login"})]})]}),(0,i.jsxs)(m.Z,{open:Q,onClose:Ie,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(b.Z,{id:"alert-dialog-title",children:"Verify Your Referral ID !"}),(0,i.jsx)(j.Z,{children:(0,i.jsx)(y.Z,{id:"alert-dialog-description",children:"You have not added any Referral ID Code"})}),(0,i.jsx)(C.Z,{children:(0,i.jsx)(S.Z,{onClick:Ie,children:"OK"})})]}),(0,i.jsx)(R.x7,{})]})}}}]);