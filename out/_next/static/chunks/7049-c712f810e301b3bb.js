"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7049],{27266:function(e,r,t){t.r(r);var n=t(34051),a=t.n(n),o=t(85893),i=t(67294),l=t(52441),s=t(50319),u=t(8987),c=t(86886),f=t(55113),d=t(87357),h=t(15861),v=t(50135),m=t(11057),p=t(50657),x=t(86501);function y(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function b(e,r,t,n,a,o,i){try{var l=e[o](i),s=l.value}catch(u){return void t(u)}l.done?r(s):Promise.resolve(s).then(n,a)}function g(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==t.return||t.return()}finally{if(l)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return y(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.default=function(e){var r=e.open,t=e.setOpen,n=(0,i.useState)(!1),y=n[0],w=n[1],j=(0,i.useState)(""),Z=j[0],P=j[1],S=g((0,s.D)(l.v5),1)[0],k=function(){t(!1)},I=function(){var e,r=(e=a().mark((function e(){var r,t,n,o,i,l,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(Z),r=!!Z||(console.log(Z),void x.Am.error("PW Id is not valid")),w(!0),!r){e.next=31;break}return e.prev=3,e.next=6,S({variables:{pw_id:Z}});case 6:for(t=e.sent,n=t.data.passwordresetRequest,console.log(n.value),o=!0,i=!1,l=void 0,e.prev=10,s=Object.keys(n)[Symbol.iterator]();!(o=(u=s.next()).done);o=!0)c=u.value,localStorage.setItem(c,n[c]);e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),i=!0,l=e.t0;case 18:e.prev=18,e.prev=19,o||null==s.return||s.return();case 21:if(e.prev=21,!i){e.next=24;break}throw l;case 24:return e.finish(21);case 25:return e.finish(18);case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(3),x.Am.error(e.t1.message);case 31:w(!1);case 32:case"end":return e.stop()}}),e,null,[[3,28],[10,14,18,26],[19,,21,25]])})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){b(o,n,a,i,l,"next",e)}function l(e){b(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(p.Z,{onClose:k,open:r,children:(0,o.jsx)(c.ZP,{component:f.Z,elevation:6,square:!0,children:(0,o.jsxs)(d.Z,{sx:{my:2,p:1,mx:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(h.Z,{variant:"h3",sx:{my:2},children:"Forgot Password?"}),(0,o.jsx)(h.Z,{variant:"h6",color:"text.secondary",fontWeight:"normal",children:"Please Fill This Form to Reset Your Password            "}),(0,o.jsxs)(d.Z,{component:"form",noValidate:!0,onSubmit:I,children:[(0,o.jsx)(v.Z,{margin:"normal",required:!0,fullWidth:!0,id:"referralId",label:"PlanetWay Refferal Id or Email",autoFocus:!0,onChange:function(e){P(e.target.value)}}),(0,o.jsx)(u.Z,{loading:y,type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:1},children:"Reset Password"}),(0,o.jsx)(m.Z,{color:"error",onClick:k,fullWidth:!0,variant:"outlined",sx:{mt:0,mb:2},children:"Cancel"})]})]})})})})}},97049:function(e,r,t){t.r(r),t.d(r,{default:function(){return P}});var n=t(34051),a=t.n(n),o=t(85893),i=t(52441),l=t(50319),s=t(8987),u=t(87357),c=t(11057),f=t(86886),d=t(55113),h=t(50135),v=t(15861),m=t(41664),p=t.n(m),x=t(11163),y=t(67294),b=t(86501),g=t(27266);function w(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function j(e,r,t,n,a,o,i){try{var l=e[o](i),s=l.value}catch(u){return void t(u)}l.done?r(s):Promise.resolve(s).then(n,a)}function Z(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==t.return||t.return()}finally{if(l)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return w(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(){var e=(0,x.useRouter)(),r=Z(y.useState(""),2),t=r[0],n=r[1],m=Z(y.useState(""),2),w=m[0],P=m[1],S=Z(y.useState(!1),2),k=S[0],I=S[1],A=Z(y.useState(!1),2),C=A[0],W=A[1],F=Z((0,l.D)(i.ym),1)[0],O=function(){if(t){if(w&&!(w.length<8))return!0;b.ZP.error("Password is not valid!")}else b.ZP.error("PW ID is not valid!")},q=function(){var r,n=(r=a().mark((function r(){var n,o,i,l,s,u,c,f,d;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=O(),W(!0),!n){r.next=31;break}return r.prev=3,r.next=6,F({variables:{pw_id:t,password:w}});case 6:for(o=r.sent,i=o.data.login,l=!0,s=!1,u=void 0,r.prev=9,c=Object.keys(i)[Symbol.iterator]();!(l=(f=c.next()).done);l=!0)d=f.value,localStorage.setItem(d,i[d]);r.next=17;break;case 13:r.prev=13,r.t0=r.catch(9),s=!0,u=r.t0;case 17:r.prev=17,r.prev=18,l||null==c.return||c.return();case 20:if(r.prev=20,!s){r.next=23;break}throw u;case 23:return r.finish(20);case 24:return r.finish(17);case 25:e.reload(),r.next=31;break;case 28:r.prev=28,r.t1=r.catch(3),b.ZP.error(r.t1.message);case 31:W(!1);case 32:case"end":return r.stop()}}),r,null,[[3,28],[9,13,17,25],[18,,20,24]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){j(o,n,a,i,l,"next",e)}function l(e){j(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,o.jsxs)(f.ZP,{component:d.Z,elevation:6,square:!0,children:[(0,o.jsxs)(u.Z,{sx:{my:8,p:2,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(v.Z,{variant:"h1",sx:{my:2},children:"Login"}),(0,o.jsx)(v.Z,{variant:"h4",color:"text.secondary",fontWeight:"normal",sx:{mb:0},children:"For the purpose of industry regulation, your details are required."}),(0,o.jsxs)(u.Z,{component:"form",noValidate:!0,sx:{mt:0},children:[(0,o.jsx)(h.Z,{margin:"normal",required:!0,fullWidth:!0,id:"referralId",label:"PlanetWay Refferal Id",name:"referralId",autoFocus:!0,onChange:function(e){n(e.target.value)}}),(0,o.jsx)(h.Z,{margin:"normal",required:!0,fullWidth:!0,onChange:function(e){P(e.target.value)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),(0,o.jsx)(s.Z,{loading:C,fullWidth:!0,onClick:function(){q()},disabled:C,variant:"contained",sx:{mt:3,mb:2},children:"Login"}),(0,o.jsx)(v.Z,{variant:"body1",color:"text.secondary","text-align":"left",children:"Don't Have An Account?"}),(0,o.jsx)(f.ZP,{item:!0,xs:!0,children:(0,o.jsx)(p(),{href:"#",children:(0,o.jsx)("a",{onClick:function(){I(!0)},children:" Forgot Password"})})}),(0,o.jsx)(c.Z,{onClick:function(){e.push("/auth/signup")},fullWidth:!0,variant:"outlined",sx:{mt:2,mb:2},children:"Register"}),(0,o.jsx)(g.default,{open:k,setOpen:I})]})]}),(0,o.jsx)(b.x7,{})]})}}}]);