"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1434],{91434:function(n,e,t){t.r(e);var r=t(34051),a=t.n(r),i=t(85893),o=t(71236),c=t(11057),s=t(15861),u=(t(19662),t(37070),t(93491),t(67294)),d=t(52441),l=t(42480),f=t(46230),m=t(55511),h=t(50319),p=t(8987),v=t(55113),y=t(7906),x=t(295),b=t(53252),g=t(72882),Z=t(53184),j=t(53816),w=t(86501);function k(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function A(n,e,t,r,a,i,o){try{var c=n[i](o),s=c.value}catch(u){return void t(u)}c.done?e(s):Promise.resolve(s).then(r,a)}function _(n){return function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(n){A(i,r,a,o,c,"next",n)}function c(n){A(i,r,a,o,c,"throw",n)}o(void 0)}))}}function C(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,i=[],o=!0,c=!1;try{for(t=t.call(n);!(o=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(s){c=!0,a=s}finally{try{o||null==t.return||t.return()}finally{if(c)throw a}}return i}}(n,e)||S(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(n){return function(n){if(Array.isArray(n))return k(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||S(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(n,e){if(n){if("string"===typeof n)return k(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(n,e):void 0}}var I=[{config:l.Z.avatar,status:-1},{config:l.Z.aadhar,status:-1},{config:l.Z.pancard,status:-1},{config:l.Z.passbook,status:-1,isOptional:!0},{config:l.Z.voterId,status:-1,isOptional:!0},{config:l.Z.driving_license,status:-1,isOptional:!0}],D=function(n){var e=n.data,t=n.documents,r=void 0===t?[]:t,l=(0,u.useState)([]),f=l[0],v=l[1],y=(0,u.useState)([]),x=y[0],g=y[1],Z=C((0,h.D)(d.Is),1)[0],k=C((0,h.D)(d.yW),1)[0],A=(0,u.useState)(!1),S=A[0],I=A[1];(0,u.useEffect)((function(){var n=[],e=!0,t=!1,a=void 0;try{for(var i,o=r[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var c=i.value;n.push(c.url)}}catch(s){t=!0,a=s}finally{try{e||null==o.return||o.return()}finally{if(t)throw a}}v(n)}),[r]);var D=function(){var n=_(a().mark((function n(e,t){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Z({variables:{title:e,url:t}});case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),L=function(){var n=_(a().mark((function n(e,t,r){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k({variables:{id:e,title:t,url:r}});case 2:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),O=function(){var n=_(a().mark((function n(){var t,i,o,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:I(!0),n.prev=1,t=0;case 3:if(!(t<x.length)){n.next=22;break}if(!x[t]){n.next=19;break}return console.log("images",r),i=e.config.items[t].id,n.next=9,(0,m.Z)(f[t]);case 9:if(o=n.sent,w.ZP.success("".concat(i," Updated")),!(c=r.find((function(n){if(n.title.toLowerCase()===i.toLowerCase())return!0})))){n.next=17;break}return n.next=15,L(c.id,i,o);case 15:n.next=19;break;case 17:return n.next=19,D(i,o);case 19:t++,n.next=3;break;case 22:n.next=26;break;case 24:n.prev=24,n.t0=n.catch(1);case 26:I(!1);case 27:case"end":return n.stop()}}),n,null,[[1,24]])})));return function(){return n.apply(this,arguments)}}();return(0,i.jsxs)(j.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,i.jsxs)(b.Z,{component:"th",scope:"row",children:[e.config.name," ",e.isOptional?"(Optional)":""]}),(0,i.jsx)(b.Z,{children:function(){for(var n=[],t=e.config.items,r=0;r<t.length;r++){var a=f[r];a&&n.push((0,i.jsx)("img",{src:"object"==typeof a?URL.createObjectURL(a):a,height:100,width:100}))}return 0==n.length?(0,i.jsx)(s.Z,{variant:"subtitle1",children:"No Document"}):n}()}),(0,i.jsx)(b.Z,{children:function(){for(var n=function(n){t.push((0,i.jsxs)(c.Z,{component:"label",children:["Choose ",r[n].name,(0,i.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){if(e.target.files.length>0){var t=P(f);t[n]=e.target.files[0],v(t);var r=P(x);r[n]=!0,g(r)}}})]}))},t=[],r=e.config.items,a=0;a<r.length;a++)n(a);return t}()}),(0,i.jsx)(b.Z,{children:(0,i.jsx)(p.Z,{loading:S,disabled:!function(){var n=x.find((function(n){if(n)return!0}));if(f.length==e.config.items.length&&n)return!0}(),variant:"contained",onClick:function(){O()},children:"Upload"})}),(0,i.jsx)(b.Z,{children:function(n){var e="Upload";return-1!=n&&(e="Pending"),(0,i.jsx)(o.Z,{badgeContent:e,color:"secondary"})}(e.status)})]},e.config.name)};e.default=function(){var n=(0,f.C)((function(n){return n.user.data})),e=function(e){var t=[];if(n&&n.documents){var r=!0,a=!1,i=void 0;try{for(var o,c=function(e,r){var a=r.value,i=n.documents.find((function(n){if(n.title.toLowerCase()===a.id.toLowerCase())return!0}));i&&t.push(i)},s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)c(0,o)}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}}return t};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{variant:"h4",sx:{my:2},children:"Kindly Upload the documents requested below"}),(0,i.jsxs)(g.Z,{component:v.Z,children:[(0,i.jsxs)(y.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,i.jsx)(Z.Z,{children:(0,i.jsxs)(j.Z,{children:[(0,i.jsx)(b.Z,{children:"Document Name"}),(0,i.jsx)(b.Z,{children:"Preview"}),(0,i.jsx)(b.Z,{children:"Action"}),(0,i.jsx)(b.Z,{children:"Upload Action"}),(0,i.jsx)(b.Z,{children:"Status"})]})}),(0,i.jsx)(x.Z,{children:I.map((function(n,t){return(0,i.jsx)(D,{data:n,documents:e(n.config.items)},t)}))}),(0,i.jsx)(j.Z,{})]}),(0,i.jsx)(w.x7,{position:"bottom-center",reverseOrder:!1})]})]})}},42480:function(n,e){e.Z={aadhar:{id:"aadhar",name:"Aadhar Card",items:[{id:"aadhar_front",name:"AADHAR Card Front"},{id:"aadhar_back",name:"AADHAR Card Back"}]},pancard:{name:"Pancard",items:[{id:"pancard",name:"Pan Card"}]},avatar:{name:"Photo",items:[{id:"avatar",name:"Passport Size Photo"}]},voterId:{id:"voterId",name:"Voter Id Card",items:[{id:"voterid_front",name:"Voter Id Front"},{id:"voterid_back",name:"Voted Id Card Back"}]},passbook:{name:"Passbook",id:"passbook",items:[{id:"passbook",name:"Bank Passbook"}]},payment_proof:{name:"Payment Proof",id:"payment_proof",items:[{id:"payment_proof",name:"Payment Proof"}]},driving_license:{name:"Driving License",id:"driving_license",items:[{id:"driving_license_front",name:"Driving License Front"},{id:"driving_license_back",name:"Driving License Back"}]},nominee_aadhar:{name:"Nominee Aadhar",items:[{id:"nominee_aadhar_front",name:"AADHAR Card Front"},{id:"nominee_aadhar_back",name:"AADHAR Card Back"}]}}},55511:function(n,e,t){var r=t(34051),a=t.n(r),i=t(7155),o=t(70594);function c(n,e,t,r,a,i,o){try{var c=n[i](o),s=c.value}catch(u){return void t(u)}c.done?e(s):Promise.resolve(s).then(r,a)}var s=function(){var n,e=(n=a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new FormData).append("document",e),n.next=4,o.Z.post("".concat(i.Z.API_URL,"/documents/upload"),t,{headers:{"Content-Type":"multipart/form-data"}});case 4:return r=n.sent,n.abrupt("return",r.data.url);case 6:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(n){c(i,r,a,o,s,"next",n)}function s(n){c(i,r,a,o,s,"throw",n)}o(void 0)}))});return function(n){return e.apply(this,arguments)}}();e.Z=s}}]);