(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5789],{87262:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wallet",function(){return t(91272)}])},43725:function(n,e,t){"use strict";t.r(e);var i=t(85893);e.default=function(n){var e=n.children;return(0,i.jsx)(i.Fragment,{children:e})}},91272:function(n,e,t){"use strict";t.r(e);var i=t(14924),r=t(85893),s=t(91875),o=t(37652),l=t(9395),a=t(2734),d=t(87357),c=t(15861),u=t(53156),v=t(9008),x=t.n(v),h=t(41294),f=t(43725),m=t(52246),p=t(67294),Z=t(9473),g=t(4749),E=t(37887),j=t(32559),P=t(26183);function y(){var n,e=(0,P.T)(),t=(0,a.Z)(),l=(0,Z.v9)((function(n){var e,t;return null===(e=n.user)||void 0===e||null===(t=e.agencyCode)||void 0===t?void 0:t.agencyCode})),v=(0,E.a)(g.dE,{variables:{agencyCode:l}}).data,y=null===v||void 0===v||null===(n=v.GetFinalWalletBalanceOfAgency)||void 0===n?void 0:n.finalBalance,A=(0,Z.v9)((function(n){return n.walletBalance.walletBalance}));return(0,p.useEffect)((function(){e((0,j.FC)(y))}),[y]),(0,r.jsxs)(f.default,{children:[(0,r.jsx)(x(),{children:(0,r.jsx)("title",{children:"Transaction"})}),(0,r.jsxs)(o.Z,{sx:{},children:[(0,r.jsxs)(d.Z,{sx:(0,i.Z)({width:"100%",display:"flex",flexDirection:"column",padding:"2%",alignItems:"flex-start"},t.breakpoints.down("sm"),{width:"100%",padding:"0px"}),children:[(0,r.jsx)(d.Z,{sx:(0,i.Z)({display:"flex",width:"100%"},t.breakpoints.down("sm"),{justifyContent:"center"}),children:(0,r.jsxs)(c.Z,{sx:(0,i.Z)({textAlign:"center",fontSize:"24px",fontWeight:"600"},t.breakpoints.down("sm"),{fontSize:"18px"}),children:["Wallet Amount ",(0,r.jsx)("sup",{style:{fontSize:"14px"},children:"*"})," : \u20b9"," ",0|A]})}),(0,r.jsx)(d.Z,{children:(0,r.jsxs)(c.Z,{sx:(0,i.Z)({fontSize:"10px",marginLeft:"20px",fontWeight:"600",color:"primary.main",textAlign:"center"},t.breakpoints.down("sm"),{fontSize:"8px"}),children:[(0,r.jsx)("sup",{style:{fontSize:"14px"},children:"*"})," Withdrawals are only processed on the 1st day of each month."]})})]}),(0,r.jsx)(h.Z,{})]}),(0,r.jsx)(u.Z,{maxWidth:!1,children:(0,r.jsx)(m.default,{})}),(0,r.jsx)(s.Z,{})]})}y.getLayout=function(n){return(0,r.jsx)(l.Z,{children:n})},e.default=y},91875:function(n,e,t){"use strict";var i=t(85893),r=t(90948),s=t(53156),o=t(87357),l=t(15861),a=(0,r.ZP)(s.Z)((function(n){var e=n.theme;return"\n        margin-top: ".concat(e.spacing(4),";\n")}));e.Z=function(){return(0,i.jsx)(a,{className:"footer-wrapper",children:(0,i.jsxs)(o.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,i.jsx)(o.Z,{}),(0,i.jsx)(l.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1"})]})})}},37652:function(n,e,t){"use strict";var i=t(85893),r=t(45697),s=t.n(r),o=t(90948),l=t(87357),a=t(53156),d=(0,o.ZP)(l.Z)((function(n){var e=n.theme;return"\n        padding: ".concat(e.spacing(4),";\n")})),c=function(n){var e=n.children;return(0,i.jsx)(d,{className:"MuiPageTitle-wrapper",children:(0,i.jsx)(a.Z,{maxWidth:!1,children:e})})};c.propTypes={children:s().node.isRequired},e.Z=c},41294:function(n,e,t){"use strict";var i=t(47568),r=t(14924),s=t(828),o=t(97582),l=t(85893),a=t(26183),d=t(2734),c=t(87357),u=t(15861),v=t(71236),x=t(11057),h=t(50657),f=t(37645),m=t(6514),p=t(58951),Z=t(31425),g=t(50319),E=t(86501),j=t(7500),P=t(16538),y=t(9473),A=t(11163),b=t(67294),D=t(34753);e.Z=function(){var n=(0,a.C)((function(n){var e;return null===(e=n.user)||void 0===e?void 0:e.data})),e=(0,d.Z)(),t=(0,s.Z)((0,g.D)(P.QX),1)[0],O=(0,b.useState)(""),_=O[0],C=O[1],R=(0,b.useState)(""),k=R[0],N=R[1],w=(0,y.v9)((function(n){return n.foundUser.foundUser})),T=(0,A.useRouter)(),I=(0,b.useState)(!1),S=I[0],V=I[1],G=function(){V(!0)},B=function(){V(!1)},M=function(){var n=(0,i.Z)((function(){var n;return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,t({variables:{id:w.id,kyc:k}})];case 1:return n=e.sent(),B(),"APPROVED"===k&&E.ZP.success("KYC APPROVED"),"REJECTED"===k&&E.ZP.error("KYC REJECTED"),"ONGOING"===k&&E.ZP.success("KYC ONGOING"),C(n.data.updateStatus.kyc),[2]}}))}));return function(){return n.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:["/dashboard"===T.pathname&&(0,l.jsxs)(c.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,l.jsx)(c.Z,{display:"flex",alignItems:"center",children:(0,l.jsxs)(c.Z,{children:[(0,l.jsxs)(u.Z,{variant:"h3",component:"h3",gutterBottom:!0,sx:(0,r.Z)({},e.breakpoints.down("sm"),{fontSize:20}),children:["Welcome, ",(null===n||void 0===n?void 0:n.name)?null===n||void 0===n?void 0:n.name:null===n||void 0===n?void 0:n.rm_id,"!"]}),(0,l.jsxs)(u.Z,{variant:"h5",component:"h5",align:"left",children:["Share Holder Type :"," ",(0,l.jsx)(v.Z,{badgeContent:null===n||void 0===n?void 0:n.membership,sx:{marginLeft:4},color:"success"})]}),(0,l.jsx)(u.Z,{variant:"subtitle2",mt:1,sx:(0,r.Z)({},e.breakpoints.down("sm"),{fontSize:12}),children:"APPROVED"===(null===n||void 0===n?void 0:n.kyc)?"Your KYC has been Approved":"Complete Your KYC By Filling the form below"})]})}),(0,l.jsxs)(c.Z,{mt:{xs:3,md:0},children:[(0,l.jsxs)(u.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:["Status :"," ",(0,l.jsx)("span",{style:{color:(null===n||void 0===n?void 0:n.kyc)?"APPROVED"===(null===n||void 0===n?void 0:n.kyc)?"green":"REJECTED"===(null===n||void 0===n?void 0:n.kyc)&&"red":""},children:"NOT_INITIALIZED"===(null===n||void 0===n?void 0:n.kyc)?"NOT STARTED":null===n||void 0===n?void 0:n.kyc})]})," "]})]}),"/agency/[index]"===T.pathname&&(0,l.jsxs)(c.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,l.jsxs)(c.Z,{display:"flex",alignItems:"center",children:[(0,l.jsx)(u.Z,{variant:"h3",component:"h3",sx:{textTransform:"uppercase"},gutterBottom:!0,children:"Agency Dashboard"}),(0,l.jsx)(u.Z,{variant:"subtitle2",children:(0,l.jsx)(j.C,{href:"/agency",children:(0,l.jsx)(x.Z,{variant:"outlined",color:"primary",sx:{ml:2},children:"USERLIST"})})})]}),"/agency/[index]"===T.pathname&&(0,l.jsxs)(c.Z,{margin:" 0 0 0 auto",children:[(0,l.jsx)(c.Z,{children:(0,l.jsx)(u.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:(0,l.jsxs)("span",{style:{color:_?("APPROVED"===_?"green":"REJECTED"===_&&"red")||"ONGOING"===_&&"orange"||"AGENT_APPROVED"===_&&"green":("APPROVED"===w.kyc?"green":"REJECTED"===w.kyc&&"red")||"ONGOING"===w.kyc&&"orange"||"AGENT_APPROVED"===w.kyc&&"green"},children:["Status :"," ",_?("AGENT_APPROVED"===_?"AGENT APPROVED":"NOT_INITIALIZED"===_&&"NOT INITIALIZED")||_:(null===w||void 0===w?void 0:w.kyc)?"AGENT_APPROVED"===(null===w||void 0===w?void 0:w.kyc)?"AGENT APPROVED":null===w||void 0===w?void 0:w.kyc:"UNKNOWN"]})})}),w.kyc!==D.Z.status.APPROVED&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.Z,{onClick:function(){G(),N("AGENT_APPROVED")},variant:"outlined",disabled:!function(){var n,e,t,i=!1,r=!1,s=!1,o=!1,l=!1,a=!1,d=!1,c=!1,u=!1;return(null===w||void 0===w?void 0:w.name)&&(null===w||void 0===w?void 0:w.email)&&(null===w||void 0===w?void 0:w.mobile_number)&&(null===w||void 0===w?void 0:w.date_of_birth)&&(null===w||void 0===w||null===(n=w.nominee)||void 0===n?void 0:n.name)&&(null===w||void 0===w||null===(e=w.nominee)||void 0===e?void 0:e.relationship)&&(null===w||void 0===w?void 0:w.demat_account)&&(i=!0),null===w||void 0===w||null===(t=w.documents)||void 0===t||t.map((function(n){n.title.includes("payment_proof")&&n.status===D.Z.status.APPROVED&&(r=!0),n.title.includes("avatar")&&n.status===D.Z.status.APPROVED&&(s=!0),n.title.includes("aadhar_front")&&n.status===D.Z.status.APPROVED&&(o=!0),n.title.includes("aadhar_back")&&n.status===D.Z.status.APPROVED&&(l=!0),n.title.includes("pancard")&&n.status===D.Z.status.APPROVED&&(a=!0),n.title.includes("passbook")&&n.status===D.Z.status.APPROVED&&(d=!0),n.title.includes("nominee_aadhar_front")&&n.status===D.Z.status.APPROVED&&(c=!0),n.title.includes("demat")&&n.status===D.Z.status.APPROVED&&(u=!0)})),i&&r&&s&&o&&l&&a&&d&&c&&u}(),color:"success",sx:{ml:2},children:"Approve"}),(0,l.jsx)(x.Z,{onClick:function(){G(),N("REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]}),(0,l.jsx)("div",{children:(0,l.jsxs)(h.Z,{open:S,onClose:B,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,l.jsx)(f.Z,{id:"alert-dialog-title",children:"Submit KYC Status"}),(0,l.jsx)(m.Z,{children:(0,l.jsxs)(p.Z,{id:"alert-dialog-description",children:["KYC Status will be set to ",k,"."]})}),(0,l.jsxs)(Z.Z,{children:[(0,l.jsx)(x.Z,{onClick:B,children:"Dismiss"}),(0,l.jsx)(x.Z,{onClick:M,autoFocus:!0,children:"Submit"})]})]})})]}),(0,l.jsx)(c.Z,{mt:{xs:3,md:0}})]})]})}},50319:function(n,e,t){"use strict";t.d(e,{D:function(){return c}});var i=t(97582),r=t(67294),s=t(14012),o=t(30020),l=t(14692),a=t(30990),d=t(66252);function c(n,e){var t=(0,d.x)(null===e||void 0===e?void 0:e.client);(0,l.Vp)(n,l.n_.Mutation);var c=r.useState({called:!1,loading:!1,client:t}),u=c[0],v=c[1],x=r.useRef({result:u,mutationId:0,isMounted:!0,client:t,mutation:n,options:e});Object.assign(x.current,{client:t,options:e,mutation:n});var h=r.useCallback((function(n){void 0===n&&(n={});var e=x.current,t=e.options,r=e.mutation,l=(0,i.__assign)((0,i.__assign)({},t),{mutation:r}),d=n.client||x.current.client;x.current.result.loading||l.ignoreResults||!x.current.isMounted||v(x.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:d});var c=++x.current.mutationId,u=(0,s.J)(l,n);return d.mutate(u).then((function(e){var t,i,r=e.data,s=e.errors,l=s&&s.length>0?new a.cA({graphQLErrors:s}):void 0,h=n.onError||(null===(t=x.current.options)||void 0===t?void 0:t.onError);if(l&&h&&h(l,u),c===x.current.mutationId&&!u.ignoreResults){var f={called:!0,loading:!1,data:r,error:l,client:d};x.current.isMounted&&!(0,o.D)(x.current.result,f)&&v(x.current.result=f)}var m=n.onCompleted||(null===(i=x.current.options)||void 0===i?void 0:i.onCompleted);return l||null===m||void 0===m||m(e.data,u),e})).catch((function(e){var t;if(c===x.current.mutationId&&x.current.isMounted){var i={loading:!1,error:e,data:void 0,called:!0,client:d};(0,o.D)(x.current.result,i)||v(x.current.result=i)}var r=n.onError||(null===(t=x.current.options)||void 0===t?void 0:t.onError);if(r)return r(e,u),{data:void 0,errors:e};throw e}))}),[]),f=r.useCallback((function(){x.current.isMounted&&v({called:!1,loading:!1,client:t})}),[]);return r.useEffect((function(){return x.current.isMounted=!0,function(){x.current.isMounted=!1}}),[]),[h,(0,i.__assign)({reset:f},u)]}}},function(n){n.O(0,[8244,9990,9260,9213,6827,4753,6549,7058,2453,788,9036,8584,8415,5571,7924,886,4850,1477,5795,9395,2246,9774,2888,179],(function(){return e=87262,n(n.s=e);var e}));var e=n.O();_N_E=e}]);