(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6810],{23495:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agency-income/components/UserTable",function(){return i(67682)}])},67682:function(n,e,i){"use strict";i.r(e);var t=i(47568),o=i(14924),l=i(26042),r=i(69396),a=i(828),d=i(97582),c=i(85893),s=i(8987),u=i(2734),v=i(11057),h=i(50657),m=i(37645),x=i(6514),p=i(58951),g=i(31425),j=i(4749),f=i(27603),y=i(66242),Z=i(87357),b=i(94054),w=i(47312),A=i(80788),W=i(30431),D=i(67720),T=i(7906),P=i(15861),k=i(72882),S=i(53184),C=i(53816),I=i(53252),_=i(295),N=i(41664),L=i.n(N),E=i(67294),B=i(86501),O=i(50319),R=i(37887),K=i(26183),F=i(9473),Y=i(32559),H=i(39855);e.default=function(){var n,e,i,N,U,M,G,J,z,V,X,q,Q,$,nn,en,tn,on,ln,rn,an,dn,cn,sn,un,vn,hn,mn,xn=(0,K.T)(),pn=(0,F.v9)((function(n){var e,i;return null===(e=n.user)||void 0===e||null===(i=e.agencyCode)||void 0===i?void 0:i.agencyCode})),gn=(0,a.Z)((0,O.D)(j.xb),1)[0],jn=(0,E.useState)({}),fn=jn[0],yn=jn[1],Zn=(0,E.useState)({}),bn=Zn[0],wn=Zn[1],An=(0,E.useState)(!1),Wn=An[0],Dn=An[1],Tn=(0,u.Z)(),Pn=(0,E.useState)(!1),kn=Pn[0],Sn=Pn[1],Cn=(0,E.useState)(""),In=Cn[0],_n=Cn[1],Nn=(0,R.a)(j.i6),Ln=(0,E.useState)(H.monthsData.months[H.monthsData.months.length-1]),En=Ln[0],Bn=Ln[1],On=(0,a.Z)(En.split("-"),2),Rn=On[0],Kn=On[1],Fn=(0,R.a)(j.bi,{variables:{agencyCode:pn,month:parseInt(Kn,10),year:parseInt(Rn,10)}}),Yn=null===Fn||void 0===Fn||null===(n=Fn.data)||void 0===n||null===(e=n.AgencyPayment)||void 0===e?void 0:e.kycRewardAmount,Hn=null===Fn||void 0===Fn||null===(i=Fn.data)||void 0===i||null===(N=i.AgencyPayment)||void 0===N?void 0:N.kycAmount,Un=null===Fn||void 0===Fn||null===(U=Fn.data)||void 0===U||null===(M=U.AgencyPayment)||void 0===M?void 0:M.agraProjectAmount,Mn=null===Fn||void 0===Fn||null===(G=Fn.data)||void 0===G||null===(J=G.AgencyPayment)||void 0===J?void 0:J.hajipurProjectAmount,Gn=Hn+Un+Mn,Jn=null===Fn||void 0===Fn||null===(z=Fn.data)||void 0===z||null===(V=z.AgencyPayment)||void 0===V?void 0:V.selfAgencyAgraPaymentAmount,zn=null===Fn||void 0===Fn||null===(X=Fn.data)||void 0===X||null===(q=X.AgencyPayment)||void 0===q?void 0:q.selfAgencyHajipurPaymentAmount,Vn=null===Fn||void 0===Fn||null===(Q=Fn.data)||void 0===Q||null===($=Q.AgencyPayment)||void 0===$?void 0:$.BasicKycApprovedUser,Xn=null===Fn||void 0===Fn||null===(nn=Fn.data)||void 0===nn||null===(en=nn.AgencyPayment)||void 0===en?void 0:en.AdvanceKycApprovedUser,qn=[];null===Vn||void 0===Vn||Vn.map((function(n){return qn.push(n)})),null===Xn||void 0===Xn||Xn.map((function(n){return qn.push(n)}));var Qn=null===Fn||void 0===Fn||null===(tn=Fn.data)||void 0===tn||null===(on=tn.AgencyPayment)||void 0===on?void 0:on.basicHajipurprojectDocument,$n=null===Fn||void 0===Fn||null===(ln=Fn.data)||void 0===ln||null===(rn=ln.AgencyPayment)||void 0===rn?void 0:rn.advanceHajipurprojectDocument,ne=[];null===Qn||void 0===Qn||Qn.map((function(n){return ne.push(n)})),null===$n||void 0===$n||$n.map((function(n){return ne.push(n)}));var ee=null===Fn||void 0===Fn||null===(an=Fn.data)||void 0===an||null===(dn=an.AgencyPayment)||void 0===dn?void 0:dn.basicAgraprojectDocument,ie=null===Fn||void 0===Fn||null===(cn=Fn.data)||void 0===cn||null===(sn=cn.AgencyPayment)||void 0===sn?void 0:sn.advanceAgraprojectDocument,te=[];null===ee||void 0===ee||ee.map((function(n){return te.push(n)})),null===ie||void 0===ie||ie.map((function(n){return te.push(n)}));var oe=null===Fn||void 0===Fn||null===(un=Fn.data)||void 0===un||null===(vn=un.AgencyPayment)||void 0===vn?void 0:vn.selfHajipurInvestmentDocument,le=[];null===oe||void 0===oe||oe.map((function(n){return le.push(n)}));var re=null===Fn||void 0===Fn||null===(hn=Fn.data)||void 0===hn||null===(mn=hn.AgencyPayment)||void 0===mn?void 0:mn.selfAgraInvestmentDocument,ae=[];null===re||void 0===re||re.map((function(n){return ae.push(n)}));var de=new Date("2024-01-01"),ce=(new Date("2024-02-01"),de.toISOString().slice(0,7)),se=En>=ce,ue=new Date,ve=ue.getFullYear(),he=ue.getMonth()+1,me="".concat(ve,"-").concat(he<10?"0":"").concat(he),xe=se&&En<me,pe=function(){var n=(0,t.Z)((function(n,e,i){var t,a,c,s,u;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:if(yn((0,r.Z)((0,l.Z)({},fn),(0,o.Z)({},n.id,!0))),wn((0,r.Z)((0,l.Z)({},bn),(0,o.Z)({},n.id,!1))),t="","kyc"===i&&(t="DEPOSIT_KYC"),"project"===i&&(t="DEPOSIT_PROJECT"),a=In.includes("kyc")?Yn:In.includes("hajipur")?.01*(null===n||void 0===n?void 0:n.amount):In.includes("agra")?.1*(null===n||void 0===n?void 0:n.amount):In.includes("selfHajipur")?.01*(null===n||void 0===n?void 0:n.amount):In.includes("selfAgra")?.1*(null===n||void 0===n?void 0:n.amount):"",c=(new Date).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),s=[{userId:e},{timeStamp:c}],"project"===i&&s.push({documentId:n.id}),0===a||""===a||null===a)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,gn({variables:{agencyCode:pn,category:t,type:"DEPOSIT",amount:a,metaData:s}})];case 2:return d.sent(),B.Am.success(" \u20b9 ".concat(a," Transfer To your  Wallet")),xn((0,Y.bj)(a)),[3,4];case 3:return u=d.sent(),B.Am.error(u.message),[3,4];case 4:return[3,6];case 5:Dn(!0),d.label=6;case 6:return yn((0,r.Z)((0,l.Z)({},fn),(0,o.Z)({},n.id,!1))),wn((0,r.Z)((0,l.Z)({},bn),(0,o.Z)({},n.id,!0))),[2]}}))}));return function(e,i,t){return n.apply(this,arguments)}}(),ge=function(){Dn(!1)};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(y.Z,{children:[(0,c.jsxs)(Z.Z,{display:"flex",gap:"20px",alignItems:"center",flexDirection:"row",padding:2,sx:(0,o.Z)({},Tn.breakpoints.down("sm"),{flexDirection:"column"}),children:[(0,c.jsx)(Z.Z,{fontSize:23,fontWeight:600,children:"Agency Income List"}),(0,c.jsx)(Z.Z,{minWidth:"160px",children:(0,c.jsxs)(b.Z,{fullWidth:!0,variant:"outlined",children:[(0,c.jsx)(w.Z,{id:"month-year-dropdown-label",children:"Month and Year"}),(0,c.jsx)(A.Z,{labelId:"month-year-dropdown-label",id:"month-year-dropdown",label:"Month and Year",value:En,onChange:function(n){return Bn(n.target.value)},children:H.monthsData.months.map((function(n){return(0,c.jsx)(W.Z,{value:n,children:new Date(n).toLocaleString("default",{month:"long",year:"numeric"})},n)}))})]})}),(0,c.jsxs)(v.Z,{variant:"outlined",sx:{cursor:"unset",padding:1.5,minWidth:"160px"},children:["Amount : \u20b9 ",0|Gn]})]}),(0,c.jsx)(D.Z,{}),(0,c.jsxs)(Z.Z,{sx:(0,o.Z)({width:"100%",display:"flex",flexDirection:"row"},Tn.breakpoints.down("sm"),{flexDirection:"column"}),children:[(0,c.jsxs)(T.Z,{sx:(0,o.Z)({width:kn?"22%":"100%",display:"flex",flexDirection:"column",padding:"2%",alignItems:"center"},Tn.breakpoints.down("sm"),{width:"100%"}),children:[(0,c.jsx)(P.Z,{textAlign:"center",fontSize:18,fontWeight:600,children:"Check Income Details"}),(0,c.jsxs)(s.Z,{onClick:function(){Sn(!0),_n("kyc")},variant:"contained",sx:{mt:2,mb:2,width:"180px"},children:["KYC : \u20b9",0|Hn]}),(0,c.jsxs)(s.Z,{onClick:function(){Sn(!0),_n("hajipur")},variant:"contained",sx:{mt:2,mb:2,width:"180px"},children:["HAJIPUR : \u20b9",0|Mn]}),(0,c.jsxs)(s.Z,{onClick:function(){Sn(!0),_n("agra")},variant:"contained",sx:{mt:2,mb:2,width:"180px"},children:["AGRA : \u20b9",0|Un]}),(0,c.jsxs)(s.Z,{onClick:function(){Sn(!0),_n("selfHajipur")},variant:"contained",sx:{mt:2,mb:2,width:"180px"},children:["SELF HAJIPUR : \u20b9",0|zn]}),(0,c.jsxs)(s.Z,{onClick:function(){Sn(!0),_n("selfAgra")},variant:"contained",sx:{mt:2,mb:2,width:"180px"},children:["SELF AGRA : \u20b9",0|Jn]})]}),kn&&(0,c.jsxs)(k.Z,{sx:(0,o.Z)({width:"78%",borderLeft:"1px solid #2c3151"},Tn.breakpoints.down("sm"),{border:"none",width:"100%"}),children:[In.includes("kyc")&&(0,c.jsxs)(T.Z,{children:[(0,c.jsx)(S.Z,{children:(0,c.jsxs)(C.Z,{children:[(0,c.jsx)(I.Z,{children:"S.No."}),xe&&(0,c.jsx)(I.Z,{children:"Transfer To Wallet"}),(0,c.jsx)(I.Z,{children:"Name"}),(0,c.jsx)(I.Z,{children:"PWID"}),(0,c.jsx)(I.Z,{children:"KYC Status"}),(0,c.jsx)(I.Z,{children:"Membership"}),(0,c.jsx)(I.Z,{children:"Carry Forward"}),(0,c.jsx)(I.Z,{align:"center",children:"KYC Income"})]})}),(0,c.jsxs)(_.Z,{children:[qn.map((function(n,e){return(0,c.jsxs)(C.Z,{hover:!0,sx:{cursor:"pointer"},children:[(0,c.jsx)(I.Z,{children:(0,c.jsx)(P.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,width:30,children:e+1})}),xe&&(0,c.jsx)(I.Z,{children:(0,c.jsx)(s.Z,{loading:fn[n.id],variant:"contained",sx:{fontSize:12,cursor:"unset",padding:1,minWidth:200},disabled:bn[n.id]||Nn.data.getAllKycReferral.find((function(e){return e.userId===n.id})),onClick:function(){return pe(n,n.id,"kyc")},children:"Transfer Amount To Wallet"})}),(0,c.jsx)(I.Z,{children:(0,c.jsx)(P.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:"NULL"===(null===n||void 0===n?void 0:n.name)?null:null===n||void 0===n?void 0:n.name})}),(0,c.jsx)(L(),{href:"",scroll:!1,children:(0,c.jsx)(I.Z,{align:"left",onClick:function(){B.Am.success(" ".concat(n.pw_id," Copied")),navigator.clipboard.writeText(n.pw_id)},children:(0,c.jsx)(P.Z,{variant:"body1",width:"100px",fontWeight:"bold",color:"text.primary",noWrap:!0,children:"NULL"===(null===n||void 0===n?void 0:n.pw_id)?null:null===n||void 0===n?void 0:n.pw_id})})}),(0,c.jsx)(I.Z,{children:(0,c.jsx)(P.Z,{style:{color:"APPROVED"===(null===n||void 0===n?void 0:n.kyc)?"limegreen":"REJECTED"===(null===n||void 0===n?void 0:n.kyc)?"red":"ONGOING"===(null===n||void 0===n?void 0:n.kyc)?"orange":"white"},variant:"body1",fontWeight:"bold",width:"100px",color:"text.success",gutterBottom:!0,noWrap:!0,children:null===n||void 0===n?void 0:n.kyc})}),(0,c.jsx)(I.Z,{children:(0,c.jsx)(P.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:"80px",noWrap:!0,children:null===n||void 0===n?void 0:n.membership})}),(0,c.jsx)(I.Z,{children:(0,c.jsx)(P.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:(null===n||void 0===n?void 0:n.createdAt.slice(0,7))===En?"--":"Carry Forward ".concat((i=null===n||void 0===n?void 0:n.createdAt,new Date(i).toLocaleString("default",{month:"long"})))})}),(0,c.jsx)(I.Z,{align:"center",children:(0,c.jsx)(P.Z,{variant:"body1",fontWeight:"bold",width:"100px",color:"text.success",gutterBottom:!0,noWrap:!0,children:Yn})})]},null===n||void 0===n?void 0:n.id);var i})),(0,c.jsx)(B.x7,{position:"bottom-center",reverseOrder:!1})]})]}),In.includes("hajipur")&&(0,c.jsx)(f.default,{projectName:"hajipur",data:ne,walletTransferShowButton:se,isLoading:fn,isDisable:bn,handleTransferToWallet:pe}),In.includes("agra")&&(0,c.jsx)(f.default,{projectName:"agra",data:te,walletTransferShowButton:se,isLoading:fn,isDisable:bn,handleTransferToWallet:pe}),In.includes("selfHajipur")&&(0,c.jsx)(f.default,{projectName:"selfHajipur",data:le,walletTransferShowButton:se,isLoading:fn,isDisable:bn,handleTransferToWallet:pe}),In.includes("selfAgra")&&(0,c.jsx)(f.default,{projectName:"selfAgra",data:ae,walletTransferShowButton:se,isLoading:fn,isDisable:bn,handleTransferToWallet:pe})]})]}),(0,c.jsxs)(h.Z,{open:Wn,onClose:ge,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,c.jsx)(m.Z,{id:"alert-dialog-title",children:"Zero Amount Issue?"}),(0,c.jsx)(x.Z,{children:(0,c.jsxs)(p.Z,{id:"alert-dialog-description",children:["Kindly Contact to Kyc Person",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),"Regarding Mention Amount Of Project"]})}),(0,c.jsx)(g.Z,{children:(0,c.jsx)(v.Z,{onClick:ge,autoFocus:!0,children:"OK"})})]})]})})}},39855:function(n,e,i){"use strict";i.r(e),i.d(e,{initialDate:function(){return u},monthsData:function(){return v}});for(var t=i(85893),o=new Date,l=[],r=2023;r<=o.getFullYear();r++)for(var a=2023===r?9:0,d=r===o.getFullYear()?o.getMonth():11,c=a;c<=d;c++){var s="".concat(r,"-").concat(String(c+1).padStart(2,"0"));l.push(s)}var u={month:o.getMonth(),year:o.getFullYear()},v={months:l};e.default=function(){return(0,t.jsx)(t.Fragment,{})}},27603:function(n,e,i){"use strict";i.r(e);var t=i(85893),o=(i(67294),i(8987)),l=i(41664),r=i.n(l),a=i(86501),d=i(7906),c=i(53184),s=i(53816),u=i(53252),v=i(295),h=i(15861),m=i(37887),x=i(4749);e.default=function(n){n.projectName;var e=n.data,i=n.walletTransferShowButton,l=n.isLoading,p=n.isDisable,g=n.handleTransferToWallet,j=(0,m.a)(x.LS);return(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(c.Z,{children:(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(u.Z,{children:"S.No."}),i&&(0,t.jsx)(u.Z,{children:"Transfer To Wallet"}),(0,t.jsx)(u.Z,{children:"Name"}),(0,t.jsx)(u.Z,{children:"PWID"}),(0,t.jsx)(u.Z,{children:"KYC Status"}),(0,t.jsx)(u.Z,{children:"Membership"}),(0,t.jsx)(u.Z,{children:"Invest Amount"})]})}),(0,t.jsxs)(v.Z,{children:[e.map((function(n,e){var d,c,v,m,x,f,y,Z,b,w;return(0,t.jsxs)(s.Z,{hover:!0,sx:{cursor:"pointer"},children:[(0,t.jsx)(u.Z,{children:(0,t.jsx)(h.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,width:30,children:e+1})}),i&&(0,t.jsx)(u.Z,{children:(0,t.jsx)(o.Z,{loading:l[n.id],variant:"contained",sx:{fontSize:12,cursor:"unset",padding:1,minWidth:200},disabled:p[n.id]||(null===(d=j.data)||void 0===d?void 0:d.getAllProjectReferral.find((function(e){return e.documentId===n.id}))),onClick:function(){var e;return g(n,null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.id,"project")},children:"Transfer Amount To Wallet"})}),(0,t.jsx)(u.Z,{children:(0,t.jsx)(h.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:"NULL"===(null===n||void 0===n||null===(c=n.user)||void 0===c?void 0:c.name)?null:null===n||void 0===n||null===(v=n.user)||void 0===v?void 0:v.name})}),(0,t.jsx)(r(),{href:"",scroll:!1,children:(0,t.jsx)(u.Z,{align:"left",onClick:function(){a.Am.success("PWID ".concat(n.user.pw_id," Copied")),navigator.clipboard.writeText(n.user.pw_id)},children:(0,t.jsx)(h.Z,{variant:"body1",width:"100px",fontWeight:"bold",color:"text.primary",noWrap:!0,children:"NULL"===(null===n||void 0===n||null===(m=n.user)||void 0===m?void 0:m.pw_id)?null:null===n||void 0===n||null===(x=n.user)||void 0===x?void 0:x.pw_id})})}),(0,t.jsx)(u.Z,{children:(0,t.jsx)(h.Z,{style:{color:"APPROVED"===(null===n||void 0===n||null===(f=n.user)||void 0===f?void 0:f.kyc)?"limegreen":"REJECTED"===(null===n||void 0===n||null===(y=n.user)||void 0===y?void 0:y.kyc)?"red":"ONGOING"===(null===n||void 0===n||null===(Z=n.user)||void 0===Z?void 0:Z.kyc)?"orange":"white"},variant:"body1",fontWeight:"bold",width:"100px",color:"text.success",gutterBottom:!0,noWrap:!0,children:null===n||void 0===n||null===(b=n.user)||void 0===b?void 0:b.kyc})}),(0,t.jsx)(u.Z,{align:"left",children:(0,t.jsx)(h.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:"80px",noWrap:!0,children:null===n||void 0===n||null===(w=n.user)||void 0===w?void 0:w.membership})}),(0,t.jsx)(u.Z,{align:"center",children:(0,t.jsx)(h.Z,{variant:"body1",fontWeight:"bold",width:"100px",color:"text.success",gutterBottom:!0,noWrap:!0,children:null===n||void 0===n?void 0:n.amount})})]},null===n||void 0===n?void 0:n.id)})),(0,t.jsx)(a.x7,{position:"bottom-center",reverseOrder:!1})]})]})}}},function(n){n.O(0,[8244,9990,9260,9213,6827,4753,6549,7305,7058,788,8584,8292,4850,4160,9774,2888,179],(function(){return e=23495,n(n.s=e);var e}));var e=n.O();_N_E=e}]);