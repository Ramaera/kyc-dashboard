(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7235],{94140:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project-operation-report/components/DataTable",function(){return r(88091)}])},88091:function(t,e,r){"use strict";r.r(e);var n=r(47568),o=r(14924),a=r(828),i=r(97582),s=r(85893),l=r(98396),c=r(2734),d=r(66242),u=r(87357),h=r(11057),x=r(67720),p=r(72882),f=r(7906),j=r(53184),m=r(53816),Z=r(53252),v=r(295),b=r(15861),g=r(67294),y=r(4749),w=r(37887),_=r(73359),S=r(86501),W=r(9473);e.default=function(){(0,l.Z)("(min-width:600px)");var t=(0,c.Z)(),e=(0,g.useRef)(null),r=(0,g.useState)(0),k=r[0],B=(r[1],(0,g.useState)(1)),N=(B[0],B[1],(0,g.useState)(100)),E=N[0],A=(N[1],(0,g.useState)(!1)),C=(A[0],A[1],(0,g.useState)("")),T=C[0],P=(C[1],(0,g.useState)()),O=(P[0],P[1],(0,g.useState)(null)),D=O[0],F=O[1],I=(0,g.useState)(""),R=I[0],z=I[1],V=(0,g.useState)(""),X=V[0],q=(V[1],(0,g.useState)(""));q[0],q[1],(0,w.a)(y.lw,{variables:{skip:k*E,take:E,input:{searchTerm:X.includes("totalAvdance")?"ADVANCE":X.includes("totalBasic")?"BASIC":"ADVANCE"}}});(0,g.useEffect)((function(){var t=function(){var t=(0,n.Z)((function(){var t,e,r,n;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch("https://erp.ramaera.com/api/resource/Purchase Order/".concat(R),{headers:{Authorization:"token ".concat("602ac7d2d573f32:6acaed00eb0733d")}})];case 1:if(!(t=o.sent()).ok)throw console.log("err"),new Error("Network response was not ok");return[4,t.json()];case 2:return e=o.sent(),r=e.data,J(r),[3,4];case 3:return n=o.sent(),console.error("Error fetching data:",n),[3,4];case 4:return[2]}}))}));return function(){return t.apply(this,arguments)}}();t()}),[R]),(0,g.useEffect)((function(){var t=function(){var t=(0,n.Z)((function(){var t,e,r,n;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch('https://erp.ramaera.com/api/resource/Purchase Order?fields=["status","name","transaction_date","supplier_name","grand_total"]&filters=[["status","IN",["To Receive","To Receive and Bill"]]]&limit=60&order_by=transaction_date%20asc',{headers:{Authorization:"token ".concat("602ac7d2d573f32:6acaed00eb0733d")}})];case 1:if(!(t=o.sent()).ok)throw console.log("err"),new Error("Network response was not ok");return[4,t.json()];case 2:return e=o.sent(),r=e.data,Y(r),[3,4];case 3:return n=o.sent(),console.error("Error fetching data:",n),[3,4];case 4:return[2]}}))}));return function(){return t.apply(this,arguments)}}();t()}),[]);var K=(0,a.Z)((0,_.t)(y.Ay,{variables:{searchTerm:T}}),2),Q=(K[0],K[1].data,(0,W.v9)((function(t){return t.allUsers.totalNumbers})),(0,g.useState)([])),U=Q[0],Y=Q[1],G=(0,g.useState)([]),H=G[0],J=G[1],L=(0,g.useState)({totalKYC:0,totalAdvance:0,totalBasic:0}),M=(L[0],L[1],(0,g.useState)(!1)),$=(M[0],M[1],U),tt=H,et=(0,g.useState)({status:null,hajipur:null,agra:null,hyderabad:null});et[0],et[1];return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(u.Z,{mx:2,sx:(0,o.Z)({display:"flex",justifyContent:"space-between"},t.breakpoints.down("sm"),{flexDirection:"column"}),children:(0,s.jsx)(u.Z,{my:2,display:"flex",gap:2,sx:(0,o.Z)({},t.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:(0,s.jsx)(h.Z,{variant:X.includes("total")?"contained":"outlined",sx:{textTransform:"uppercase",padding:2},children:"Purchase Orders"})})}),(0,s.jsx)(x.Z,{}),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(p.Z,{children:(0,s.jsxs)(f.Z,{ref:e,children:[(0,s.jsx)(j.Z,{children:(0,s.jsxs)(m.Z,{children:[(0,s.jsx)(Z.Z,{children:"S.No."}),(0,s.jsx)(Z.Z,{children:"Purchase Date"}),(0,s.jsx)(Z.Z,{children:"Purchase Order Number"}),(0,s.jsx)(Z.Z,{children:"Supplier Name"}),(0,s.jsx)(Z.Z,{children:"Bill Amount"})]})}),(0,s.jsx)(v.Z,{children:null===$||void 0===$?void 0:$.map((function(t,e){var r;return(0,s.jsxs)(g.Fragment,{children:[(0,s.jsxs)(m.Z,{onClick:function(){return function(t,e){F((function(e){return e===t?null:t})),z(e)}(e,null===t||void 0===t?void 0:t.name)},children:[(0,s.jsx)(Z.Z,{children:(0,s.jsx)(b.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:50,children:e+1})}),(0,s.jsx)(Z.Z,{children:(0,s.jsx)(b.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:null===t||void 0===t?void 0:t.transaction_date})}),(0,s.jsx)(Z.Z,{children:(0,s.jsx)(b.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:200,children:null===t||void 0===t?void 0:t.name})}),(0,s.jsx)(Z.Z,{children:(0,s.jsx)(b.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:null===t||void 0===t?void 0:t.supplier_name})}),(0,s.jsx)(Z.Z,{children:(0,s.jsxs)(b.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:["\u20b9 ",null===t||void 0===t?void 0:t.grand_total]})})]},e),D===e&&(0,s.jsx)(m.Z,{children:(0,s.jsx)(Z.Z,{colSpan:5,children:(0,s.jsxs)(f.Z,{children:[(0,s.jsx)(j.Z,{children:(0,s.jsxs)(m.Z,{style:{backgroundColor:"#7063C0"},children:[(0,s.jsx)(Z.Z,{children:"S.No."}),(0,s.jsx)(Z.Z,{children:"Items"}),(0,s.jsx)(Z.Z,{children:"Qty"}),(0,s.jsx)(Z.Z,{children:"Price"}),(0,s.jsx)(Z.Z,{children:"Total"})]})}),(0,s.jsx)(v.Z,{children:null===tt||void 0===tt||null===(r=tt.items)||void 0===r?void 0:r.map((function(t,e){return(0,s.jsxs)(m.Z,{children:[(0,s.jsx)(Z.Z,{children:(0,s.jsx)(b.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:10,children:e+1})}),(0,s.jsx)(Z.Z,{children:(0,s.jsx)(b.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:300,children:t.description})}),(0,s.jsx)(Z.Z,{children:(0,s.jsxs)(b.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:[t.qty," ",t.uom]})}),(0,s.jsx)(Z.Z,{children:(0,s.jsxs)(b.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:["\u20b9 ",t.rate]})}),(0,s.jsx)(Z.Z,{children:(0,s.jsxs)(b.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:["\u20b9 ",t.amount]})})]})}))})]})})})]})}))})]})})}),(0,s.jsx)(S.x7,{position:"bottom-center",reverseOrder:!1})]})})}}},function(t){t.O(0,[8244,9990,9260,2453,3994,9774,2888,179],(function(){return e=94140,t(t.s=e);var e}));var e=t.O();_N_E=e}]);