(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8846],{14014:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agency/[index]",function(){return t(90109)}])},37610:function(e,n,t){"use strict";t.r(n);var r=t(34051),i=t.n(r),a=t(85893),o=t(77502),c=t(42480),u=t(99099),s=t(61636),l=t(85109),d=t(55511),f=t(50319),p=t(8987),m=t(86886),h=t(50135),v=t(87357),x=t(11057),b=t(67294),y=t(86501),j=t(71455),g=t(9473);function Z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function w(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){P(a,r,i,o,c,"next",e)}function c(e){P(a,r,i,o,c,"throw",e)}o(void 0)}))}}function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){S(e,n,t[n])}))}return e}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(u){c=!0,i=u}finally{try{o||null==t.return||t.return()}finally{if(c)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Z(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.default=function(){var e=(0,g.I0)(),n=(0,g.v9)((function(e){return e.foundUser.foundUser})),t=(0,g.v9)((function(e){return e.allUsers.allTheUsers})),r=(0,b.useState)(null),Z=r[0],P=r[1],S=(0,b.useState)(null),O=S[0],A=S[1],C=(0,b.useState)(),D=C[0],R=C[1],U=(0,b.useState)(!1),I=U[0],T=U[1],_=(0,b.useState)(!1),N=_[0],L=_[1],F=(0,b.useState)(!1),V=F[0],H=F[1],B=k((0,f.D)(o.p1),1)[0],J=k((0,f.D)(o.HF),2),W=J[0],M=J[1].data,G=function(e,t,r){var i,a=n,o=[];return null===n||void 0===n||null===(i=n.documents)||void 0===i||i.map((function(n){n.id===e?o.push(E({},n,{url:t})):o.push(n)})),E({},a,{documents:o,demat_account:r})},Y=function(e,t){var r,i=n,a=[];return null===n||void 0===n||null===(r=n.documents)||void 0===r||r.map((function(n){n.id===e?a.push(E({},n,{status:t})):a.push(n)})),E({},i,{documents:a})},K=function(e){return!!e||(alert("Invalid Image"),!1)},$=function(){var n=w(i().mark((function n(r,a){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W({variables:{id:r,status:a}});case 2:e((0,s.Hn)(Y(D.id,a))),e((0,u.UF)((0,l.Z)(t,Y(D.id,a))));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),X=function(){var r=w(i().mark((function r(){var a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(K(O)){r.next=3;break}return r.abrupt("return");case 3:if(L(!0),r.prev=4,!Z){r.next=10;break}return r.next=8,B({variables:{id:n.id,demat_account:Z}});case 8:e((0,s.Hn)(E({},n,{demat_account:Z}))),e((0,u.UF)((0,l.Z)(t,E({},n,{demat_account:Z}))));case 10:if(a="",!I){r.next=17;break}return r.next=14,(0,d.Z)(O);case 14:a=r.sent,r.next=18;break;case 17:a=O;case 18:if(!D){r.next=26;break}return r.next=21,B({variables:{id:n.id,documentId:D.id,url:a}});case 21:e((0,s.Hn)(G(D.id,a,Z))),e((0,u.UF)((0,l.Z)(t,G(D.id,a,Z)))),y.ZP.success("Demat Details Updated "),r.next=27;break;case 26:console.log("can't create document");case 27:r.next=31;break;case 29:r.prev=29,r.t0=r.catch(4);case 31:L(!1);case 32:case"end":return r.stop()}}),r,null,[[4,29]])})));return function(){return r.apply(this,arguments)}}();return(0,b.useEffect)((function(){var e,t;(n&&P(n.demat_account),n&&n.documents&&(null===n||void 0===n||null===(e=n.documents)||void 0===e?void 0:e.length)>0)&&(null===n||void 0===n||null===(t=n.documents)||void 0===t||t.find((function(e){e.title.toLowerCase()===c.Z.demat_document.items[0].id&&(R(e),A(e.url))})))}),[n]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(h.Z,{id:"outlined",label:"Demat Account No.",type:"text",fullWidth:!0,value:Z,variant:"outlined",onChange:function(e){P(e.target.value),H(!0)}})}),O&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.TV,{children:(0,a.jsx)(j.HI,{src:"object"==typeof O?URL.createObjectURL(O):O,children:(0,a.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof O?URL.createObjectURL(O):O,height:200,width:200})})}),(0,a.jsxs)(v.Z,{children:["Status :"," ",(0,a.jsx)("span",{style:{color:D?"APPROVED"===D.status?"green":"REJECTED"===D.status&&"red":""},children:M?M.updateDocumentStatusByAdmin.status:D?D.status:null})]}),(0,a.jsx)(v.Z,{children:(0,a.jsxs)(m.ZP,{children:[(0,a.jsx)(x.Z,{onClick:function(){return $(D.id,"APPROVED")},variant:"outlined",color:"success",children:"Approve"}),(0,a.jsx)(x.Z,{onClick:function(){return $(D.id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})})]}),(0,a.jsxs)(m.ZP,{container:!0,pt:3,pb:2,pr:2,spacing:2,children:[O&&(0,a.jsx)(m.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:(0,a.jsxs)(x.Z,{variant:"contained",component:"label",children:["Upload Demat Account Details",(0,a.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(A(e.target.files[0]),T(!0),H(!0))}})]})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:(0,a.jsx)(v.Z,{component:"form",children:(0,a.jsx)(p.Z,{loading:N,fullWidth:!0,disabled:!V,variant:"contained",onClick:function(){X()},children:"Submit"})})}),(0,a.jsx)(y.x7,{position:"bottom-right",reverseOrder:!1})]}),(0,a.jsx)(m.ZP,{item:!0,xs:4})]})}},57857:function(e,n,t){"use strict";t.r(n);var r=t(34051),i=t.n(r),a=t(85893),o=t(42480),c=t(55511),u=t(50319),s=t(8987),l=t(2734),d=t(11057),f=t(87357),p=t(15861),m=t(50456),h=t(55113),v=t(7906),x=t(295),b=t(53252),y=t(72882),j=t(53184),g=t(53816),Z=(t(19662),t(37070),t(93491),t(67294)),P=t(86501),w=t(9473),S=t(77502),E=t(61636),k=t(99099),O=t(85109),A=t(71455);function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function D(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function R(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){D(a,r,i,o,c,"next",e)}function c(e){D(a,r,i,o,c,"throw",e)}o(void 0)}))}}function U(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){U(e,n,t[n])}))}return e}function T(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(u){c=!0,i=u}finally{try{o||null==t.return||t.return()}finally{if(c)throw i}}return a}}(e,n)||N(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,n){if(e){if("string"===typeof e)return C(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(e,n):void 0}}var L=[{config:o.Z.avatar,status:-1},{config:o.Z.aadhar,status:-1},{config:o.Z.pancard,status:-1},{config:o.Z.passbook,status:-1},{config:o.Z.voterId,status:-1,isOptional:!0},{config:o.Z.driving_license,status:-1,isOptional:!0}],F=function(e){var n=e.user,t=e.data,r=e.documents,o=void 0===r?[]:r,m=(0,l.Z)(),h=(0,w.v9)((function(e){return e.allUsers.allTheUsers})),v=(0,Z.useState)([]),x=v[0],y=v[1],j=(0,Z.useState)([]),C=j[0],D=j[1],N=(0,w.I0)();if(!o[0])return null;var L=T((0,u.D)(S.p1),1)[0],F=T((0,u.D)(S.HF),1)[0],V=(0,Z.useState)(!1),H=V[0],B=V[1],J=function(e,t){var r,i=n,a=[];return null===n||void 0===n||null===(r=n.documents)||void 0===r||r.map((function(n){n.id===e?a.push(I({},n,{status:t})):a.push(n)})),I({},i,{documents:a})},W=function(e,t){var r,i=n,a=[];return null===n||void 0===n||null===(r=n.documents)||void 0===r||r.map((function(n){n.id===e?a.push(I({},n,{url:t})):a.push(n)})),I({},i,{documents:a})};(0,Z.useEffect)((function(){var e=[],n=!0,t=!1,r=void 0;try{for(var i,a=o[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;e.push(c.url)}}catch(u){t=!0,r=u}finally{try{n||null==a.return||a.return()}finally{if(t)throw r}}y(e)}),[o]);var M=function(){var e=R(i().mark((function e(n,t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({variables:{id:n,status:t}});case 2:e.sent,N((0,E.Hn)(J(n,t))),N((0,k.UF)((0,O.Z)(h,J(n,t))));case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),G=function(){var e=R(i().mark((function e(t,r,a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({variables:{id:n.id,documentId:t,url:a}});case 2:e.sent,N((0,E.Hn)(W(t,a))),N((0,k.UF)((0,O.Z)(h,W(t,a)))),P.ZP.success("".concat(r," Updated"));case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),Y=function(){var e=R(i().mark((function e(){var n,r,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(!0),e.prev=1,n=0;case 3:if(!(n<C.length)){e.next=19;break}if(!C[n]){e.next=16;break}return r=t.config.items[n].id,e.next=8,(0,c.Z)(x[n]);case 8:if(a=e.sent,!(u=o.find((function(e){if(e.title.toLowerCase()===r.toLowerCase())return!0})))){e.next=15;break}return e.next=13,G(u.id,r,a);case 13:e.next=16;break;case 15:console.log("can't create documents");case 16:n++,e.next=3;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.log("error",e.t0);case 24:B(!1);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)(g.Z,{sx:U({"&:last-child td, &:last-child th":{border:0}},m.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,a.jsxs)(b.Z,{component:"th",scope:"row",children:[t.config.name," ",t.isOptional?"(Optional)":""]}),(0,a.jsx)(b.Z,{children:function(){for(var e=[],n=t.config.items,r=0;r<n.length;r++){var i=x[r];i&&e.push((0,a.jsx)(A.TV,{children:(0,a.jsx)(A.HI,{src:"object"==typeof i?URL.createObjectURL(i):i,children:(0,a.jsx)("img",{src:"object"==typeof i?URL.createObjectURL(i):i,height:100,style:{marginRight:"5px"},width:100})})}))}return 0==e.length?(0,a.jsx)(p.Z,{variant:"subtitle1",children:"No Document"}):e}()}),(0,a.jsx)(b.Z,{children:function(){for(var e=function(e){n.push((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d.Z,{component:"label",children:["Choose ",r[e].name,(0,a.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(n){if(n.target.files.length>0){var t=_(x);t[e]=n.target.files[0],y(t);var r=_(C);r[e]=!0,D(r)}}})]}),(0,a.jsxs)(f.Z,{display:"flex",children:[(0,a.jsx)(d.Z,{onClick:function(){return M(o[e].id,"APPROVED")},variant:"outlined",color:"success",children:"Approve"}),(0,a.jsx)(d.Z,{onClick:function(){return M(o[e].id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})]}))},n=[],r=t.config.items,i=0;i<r.length;i++)e(i);return n}()}),(0,a.jsx)(b.Z,{children:(0,a.jsx)(s.Z,{loading:H,disabled:!function(){var e=C.find((function(e){if(e)return!0}));if(x.length==t.config.items.length&&e)return!0}(),variant:"contained",onClick:function(){Y()},children:"Upload"})}),(0,a.jsx)(b.Z,{children:(0,a.jsx)("span",{style:{color:o[0]?"APPROVED"===o[0].status?"green":"REJECTED"===o[0].status&&"red":""},children:o[0]&&o[0].status})})]},t.config.name)};n.default=function(){var e=(0,w.v9)((function(e){return e.foundUser.foundUser})),n=function(n){var t=[];if(e&&e.documents){var r=!0,i=!1,a=void 0;try{for(var o,c=function(n,r){var i,a=r.value,o=null===e||void 0===e||null===(i=e.documents)||void 0===i?void 0:i.find((function(e){if(e.title.toLowerCase()===a.id.toLowerCase())return!0}));o&&t.push(o)},u=n[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)c(0,o)}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}return t};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(y.Z,{component:h.Z,children:[(0,a.jsxs)(v.Z,{"aria-label":"simple table",children:[(0,a.jsx)(j.Z,{children:(0,a.jsxs)(g.Z,{children:[(0,a.jsx)(b.Z,{children:"Document Name"}),(0,a.jsxs)(m.Z,{smDown:!0,children:[(0,a.jsx)(b.Z,{children:"Preview"}),(0,a.jsx)(b.Z,{style:{padding:"0 0 0 2rem"},children:"Action"}),(0,a.jsx)(b.Z,{style:{padding:"0 0 0 0"},children:"Upload Action"}),(0,a.jsx)(b.Z,{children:"Status"})]})," "]})}),(0,a.jsx)(x.Z,{children:L.map((function(t,r){return(0,a.jsx)(F,{user:e,data:t,documents:n(t.config.items)},r)}))})]}),(0,a.jsx)(P.x7,{position:"bottom-center",reverseOrder:!1})]})})}},69507:function(e,n,t){"use strict";t.r(n);var r=t(34051),i=t.n(r),a=t(85893),o=t(86886),c=t(50135),u=t(87357),s=t(8987),l=t(67294),d=t(50319),f=t(86501),p=t(77502),m=t(9473),h=t(61636),v=t(99099),x=t(85109);function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function y(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){j(e,n,t[n])}))}return e}function Z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(u){c=!0,i=u}finally{try{o||null==t.return||t.return()}finally{if(c)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return b(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.default=function(){var e=(0,m.I0)(),n=(0,m.v9)((function(e){return e.foundUser.foundUser})),t=(0,m.v9)((function(e){return e.allUsers.allTheUsers})),r=(0,l.useState)(""),b=r[0],j=r[1],P=(0,l.useState)(""),w=P[0],S=P[1],E=(0,l.useState)(!1),k=E[0],O=E[1],A=(0,l.useState)(""),C=A[0],D=A[1],R=(0,l.useState)(""),U=R[0],I=R[1],T=(0,l.useState)(""),_=T[0],N=T[1],L=(0,l.useState)(""),F=L[0],V=L[1],H=(0,l.useState)(""),B=H[0],J=H[1],W=(0,l.useState)(!1),M=W[0],G=W[1],Y=Z((0,d.D)(p.p1),1)[0],K=function(){var r,a=(r=i().mark((function r(){var a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return G(!0),r.prev=1,r.next=4,Y({variables:{id:b,name:w,father_or_husband_name:C,date_of_birth:U,mobile_number:_,alternate_mobile_number:F,email:B}});case 4:f.Am.success("Details Updated"),a=g({},n,{name:w,father_or_husband_name:C,date_of_birth:U,mobile_number:_,alternate_mobile_number:F,email:B}),e((0,h.Hn)(a)),e((0,v.UF)((0,x.Z)(t,a))),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),f.Am.error(r.t0.message);case 13:G(!1);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})),function(){var e=this,n=arguments;return new Promise((function(t,i){var a=r.apply(e,n);function o(e){y(a,t,i,o,c,"next",e)}function c(e){y(a,t,i,o,c,"throw",e)}o(void 0)}))});return function(){return a.apply(this,arguments)}}();return(0,l.useEffect)((function(){var e;n&&(j(n.id),S(n.name),I(null===n||void 0===n||null===(e=n.date_of_birth)||void 0===e?void 0:e.slice(0,10)),D(n.father_or_husband_name),N(n.mobile_number),V(n.alternate_mobile_number),J(n.email))}),[n]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.ZP,{container:!0,p:2,spacing:2,children:[(0,a.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(c.Z,{id:"outlined",label:"Full Name*",fullWidth:!0,value:w,variant:"outlined",onChange:function(e){S(e.target.value),O(!0)}})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(c.Z,{label:"Father's/Husband's Name*",variant:"outlined",fullWidth:!0,value:C,onChange:function(e){D(e.target.value),O(!0)}})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(c.Z,{required:!0,hidden:!0,label:"Date of Birth",variant:"outlined",fullWidth:!0,placeholder:"",value:U,onChange:function(e){I(e.target.value),O(!0)}})})]}),(0,a.jsxs)(o.ZP,{container:!0,p:2,spacing:2,children:[(0,a.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(c.Z,{type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Mobile Number*",variant:"outlined",fullWidth:!0,value:_,onChange:function(e){N(e.target.value),O(!0)}})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(c.Z,{id:"outlined",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Alternate Number*",fullWidth:!0,variant:"outlined",value:F,onChange:function(e){V(e.target.value),O(!0)}})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(c.Z,{type:"email",label:"Email ID*",variant:"outlined",fullWidth:!0,value:B,onChange:function(e){J(e.target.value),O(!0)}})})]}),(0,a.jsxs)(o.ZP,{container:!0,p:2,spacing:2,children:[(0,a.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(u.Z,{component:"form",children:(0,a.jsx)(s.Z,{loading:M,fullWidth:!0,disabled:!k,variant:"contained",onClick:function(){K()},children:"Update Details"})})}),(0,a.jsx)(o.ZP,{item:!0,xs:4}),(0,a.jsx)(f.x7,{position:"bottom-center",reverseOrder:!1})]})]})}},6397:function(e,n,t){"use strict";t.r(n);var r=t(34051),i=t.n(r),a=t(85893),o=t(2734),c=t(86886),u=t(50135),s=t(87357),l=t(11057),d=t(67720),f=(t(93491),t(37070),t(19662),t(8987)),p=t(67294),m=t(50319),h=t(42480),v=t(86501),x=t(77502),b=t(9473),y=t(55511),j=t(61636),g=t(99099),Z=t(85109),P=t(71455);function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function S(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function E(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){S(a,r,i,o,c,"next",e)}function c(e){S(a,r,i,o,c,"throw",e)}o(void 0)}))}}function k(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){k(e,n,t[n])}))}return e}function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(u){c=!0,i=u}finally{try{o||null==t.return||t.return()}finally{if(c)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.default=function(){var e=(0,b.I0)(),n=(0,b.v9)((function(e){return e.foundUser.foundUser})),t=(0,b.v9)((function(e){return e.allUsers.allTheUsers})),r=A((0,m.D)(x.p1),1)[0],w=A((0,m.D)(x.HF),2),S=w[0],k=w[1].data,C=(0,p.useState)(""),D=C[0],R=C[1],U=(0,p.useState)(""),I=U[0],T=U[1],_=(0,p.useState)(!1),N=_[0],L=_[1],F=((0,o.Z)(),(0,p.useState)(!1)),V=F[0],H=F[1],B=(0,p.useState)(!1),J=B[0],W=B[1],M=(0,p.useState)(""),G=M[0],Y=M[1],K=(0,p.useState)(""),$=K[0],X=K[1],q=(0,p.useState)(!1),z=q[0],Q=q[1],ee=(0,p.useState)(),ne=ee[0],te=ee[1],re=(0,p.useState)(),ie=re[0],ae=re[1],oe=function(e,t){var r,i=n,a=[];return null===n||void 0===n||null===(r=n.documents)||void 0===r||r.map((function(n){n.id===e?a.push(O({},n,{status:t})):a.push(n)})),O({},i,{documents:a})},ce=function(e,t){var r,i=n,a=[];return null===n||void 0===n||null===(r=n.documents)||void 0===r||r.map((function(n){n.id===e?a.push(O({},n,{url:t})):a.push(n)})),O({},i,{documents:a})},ue=function(){var n=E(i().mark((function n(r,a){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S({variables:{id:r,status:a}});case 2:e((0,j.Hn)(oe(r,a))),e((0,g.UF)((0,Z.Z)(t,oe(r,a))));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),se=function(){var a=E(i().mark((function a(o,c){var u;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r({variables:{id:n.id,documentId:o,url:c}});case 2:return u=i.sent,e((0,j.Hn)(ce(o,c))),e((0,g.UF)((0,Z.Z)(t,ce(o,c)))),i.abrupt("return",u);case 6:case"end":return i.stop()}}),a)})));return function(e,n){return a.apply(this,arguments)}}(),le=function(){var e=E(i().mark((function e(n){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n?V:J){e.next=3;break}return e.abrupt("return");case 3:return t=n?G:$,r=n?ne:ie,n?h.Z.nominee_aadhar.items[0].id:h.Z.nominee_aadhar.items[1].id,e.next=8,(0,y.Z)(t);case 8:if(a=e.sent,!t){e.next=14;break}return e.next=12,se(r.id,a);case 12:e.next=15;break;case 14:console.log("docs can only be updated, not created");case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),de=function(){var a=E(i().mark((function a(){return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(D?I?ne||V?!(!ie&&!J)||(alert("Please Select Nominee Aadhar Back"),null):(alert("Please Select Nominee Aadhar Front"),null):(alert("Please Enter Nominee Relation"),null):(alert("Please Enter Nominee Name"),null)){i.next=3;break}return i.abrupt("return");case 3:return L(!0),i.prev=4,i.next=7,r({variables:{id:n.id,nomineeName:D,nomineeRelationship:I}});case 7:return i.next=9,e((0,j.Hn)(O({},n,{nomineeName:D,nomineeRelationship:I})));case 9:return i.next=11,e((0,g.UF)((0,Z.Z)(t,O({},n,{nomineeName:D,nomineeRelationship:I}))));case 11:return i.next=13,le(!0);case 13:return i.next=15,le(!1);case 15:v.ZP.success("Nominee Updated Succesfully"),i.next=21;break;case 18:i.prev=18,i.t0=i.catch(4),console.log(i.t0);case 21:L(!1);case 22:case"end":return i.stop()}}),a,null,[[4,18]])})));return function(){return a.apply(this,arguments)}}();return(0,p.useEffect)((function(){k&&k.updateDocumentStatusByAdmin.id===ne.id&&te(O({},ne,{status:k.updateDocumentStatusByAdmin.status})),k&&k.updateDocumentStatusByAdmin.id===ie.id&&ae(O({},ie,{status:k.updateDocumentStatusByAdmin.status}))}),[k]),(0,p.useEffect)((function(){var e,t;n&&(n.nomineeName?(R(n.nomineeName),T(n.nomineeRelationship)):n.nominee&&(R(n.nominee.name),T(n.nominee.relationship)),n.documents&&(null===n||void 0===n||null===(e=n.documents)||void 0===e?void 0:e.length)>0&&(null===n||void 0===n||null===(t=n.documents)||void 0===t||t.find((function(e){e.title.toLowerCase()===h.Z.nominee_aadhar.items[1].id&&(X(e.url),ae(e)),e.title.toLowerCase()===h.Z.nominee_aadhar.items[0].id&&(Y(e.url),te(e))}))))}),[n]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.ZP,{container:!0,p:2,spacing:2,children:[(0,a.jsx)(c.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(u.Z,{id:"outlined",label:"Full Name*",fullWidth:!0,value:D,variant:"outlined",onChange:function(e){R(e.target.value),Q(!0)}})}),(0,a.jsx)(c.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(u.Z,{label:"Relationship",variant:"outlined",fullWidth:!0,value:I,onChange:function(e){T(e.target.value),Q(!0)}})}),(0,a.jsx)(c.ZP,{item:!0,xs:4})]}),(0,a.jsxs)(c.ZP,{container:!0,p:2,spacing:2,children:[(0,a.jsx)(c.ZP,{item:!0,xs:12,sm:4,children:G&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.TV,{children:(0,a.jsx)(P.HI,{src:"object"==typeof G?URL.createObjectURL(G):G,children:(0,a.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof G?URL.createObjectURL(G):G,height:200,width:200})})}),(0,a.jsxs)(s.Z,{children:["Status :"," ",(0,a.jsxs)("span",{style:{color:ne?"APPROVED"===ne.status?"green":"REJECTED"===ne.status&&"red":""},children:[" ",k&&k.updateDocumentStatusByAdmin.id===ne.id?k.updateDocumentStatusByAdmin.status:ne?ne.status:null]})]}),(0,a.jsxs)(l.Z,{variant:"contained",component:"label",sx:{margin:"10px 0"},children:["Upload Aadhar Card Front",(0,a.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(Y(e.target.files[0]),H(!0))}})]}),(0,a.jsxs)(c.ZP,{children:[(0,a.jsx)(l.Z,{variant:"outlined",onClick:function(){return ue(ne.id,"APPROVED")},color:"success",sx:{ml:2},children:"Approve"}),(0,a.jsx)(l.Z,{variant:"outlined",onClick:function(){return ue(ne.id,"REJECTED")},color:"error",sx:{ml:2},children:"Reject"})]})]})}),(0,a.jsx)(c.ZP,{item:!0,xs:12,sm:4,children:$&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.TV,{children:(0,a.jsx)(P.HI,{src:"object"==typeof $?URL.createObjectURL($):$,children:(0,a.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof $?URL.createObjectURL($):$,height:200,width:200})})}),(0,a.jsxs)(s.Z,{children:["Status :"," ",(0,a.jsx)("span",{style:{color:ie?"APPROVED"===ie.status?"green":"REJECTED"===ie.status&&"red":""},children:k&&k.updateDocumentStatusByAdmin.id===ie.id?k.updateDocumentStatusByAdmin.status:ie?ie.status:null})]}),(0,a.jsxs)(l.Z,{variant:"contained",component:"label",sx:{margin:"10px 0"},children:["Upload Aadhar Card Back",(0,a.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(X(e.target.files[0]),W(!0),Q(!0))}})]}),(0,a.jsxs)(c.ZP,{children:[(0,a.jsx)(l.Z,{variant:"outlined",onClick:function(){return ue(ie.id,"APPROVED")},color:"success",sx:{ml:2},children:"Approve"}),(0,a.jsx)(l.Z,{variant:"outlined",onClick:function(){return ue(ie.id,"REJECTED")},color:"error",sx:{ml:2},children:"Reject"})]})]})}),(0,a.jsx)(c.ZP,{item:!0,xs:4}),(0,a.jsx)(d.Z,{}),(0,a.jsxs)(s.Z,{component:"form",mt:2,children:[(0,a.jsx)(f.Z,{loading:N,variant:"contained",component:"label",disabled:!z,onClick:function(){de()},children:"Submit"}),(0,a.jsx)(v.x7,{position:"bottom-center",reverseOrder:!1})]})]})]})}},51248:function(e,n,t){"use strict";t.r(n),t.d(n,{rows:function(){return U}});var r=t(34051),i=t.n(r),a=t(85893),o=t(87357),c=t(86886),u=t(50135),s=t(11057),l=t(15861),d=t(53816),f=t(53252),p=t(67294),m=t(50319),h=t(42480),v=t(86501),x=t(77502),b=t(55511),y=t(9473),j=t(61636),g=t(99099),Z=t(85109),P=t(71455),w=t(8987);function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function E(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function k(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){E(a,r,i,o,c,"next",e)}function c(e){E(a,r,i,o,c,"throw",e)}o(void 0)}))}}function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function A(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){O(e,n,t[n])}))}return e}function C(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(u){c=!0,i=u}finally{try{o||null==t.return||t.return()}finally{if(c)throw i}}return a}}(e,n)||R(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,n){if(e){if("string"===typeof e)return S(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,n):void 0}}var U=[{config:h.Z.additional_documents}],I=function(e){var n=e.data,t=e.documents,r=void 0===t?[]:t,h=e.user,y=e.rowNo,j=(0,p.useState)([]),g=j[0],Z=j[1],S=(0,p.useState)([]),E=S[0],O=S[1],R=(0,p.useState)(0),U=R[0],I=R[1],T=(0,p.useState)([]),_=T[0],N=T[1],L=(0,p.useState)([null,null,null,null]),F=L[0],V=L[1];(0,p.useEffect)((function(){I(y)}),[y]);var H=C((0,m.D)(x.p1),1)[0],B=C((0,m.D)(x.HF),1)[0],J=(0,p.useState)(!1),W=J[0],M=J[1];(0,p.useEffect)((function(){var e=[],t=!0,i=!1,a=void 0;try{for(var o,c=r[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var u=o.value;e.push(u.url)}}catch(l){i=!0,a=l}finally{try{t||null==c.return||c.return()}finally{if(i)throw a}}Z(e);var s=[null,null,null,null];n.config.items.map((function(e){var n;null===h||void 0===h||null===(n=h.documents)||void 0===n||n.map((function(n){n.title===e.id&&(s[parseInt(e.id.slice(22,24))-2]=n.amount)}))})),V(s)}),[r,h]);var G=function(){var e=k(i().mark((function e(n,t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Y=function(){var e=k(i().mark((function e(n,t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({variables:{id:h.id,documentId:n,url:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),K=function(e){var n,t;return null===h||void 0===h||null===(n=h.documents)||void 0===n||n.map((function(n){n.title===e&&(t=n.id)})),t},$=function(){var e=k(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<U)){e.next=11;break}if(r=n.config.items[t].id,!F[t]){e.next=8;break}return e.next=6,H({variables:{id:h.id,documentId:K(r),amount:F[t]}});case 6:e.sent,v.ZP.success("Amount Updated");case 8:t++,e.next=1;break;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=k(i().mark((function e(n,t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B({variables:{id:n,status:t}});case 3:e.sent&&("APPROVED"===t?v.ZP.success("Document Status ".concat(t)):v.ZP.error("Document Status ".concat(t)),N((function(e){return D(e).concat([{id:n,status:t}])}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v.ZP.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),q=function(e){var n=!1;return null===_||void 0===_||_.map((function(t){e===t.id&&(n=t.status)})),n},z=function(){var e=k(i().mark((function e(){var t,a,o,c,u,s,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(!0),e.prev=1,t=0;case 3:if(!(t<U)){e.next=32;break}if(!E[t]){e.next=29;break}return a=n.config.items[t].id,e.next=8,(0,b.Z)(g[t]);case 8:if(o=e.sent,c=r.find((function(e){if(e.title.toLowerCase()===a.toLowerCase())return!0})),(u=h.documents)||(u=[]),!c){e.next=22;break}return e.next=15,Y(c.id,o);case 15:s=e.sent,v.ZP.success("".concat(a," Uploaded")),(l=u.filter((function(e){return e.id!==document.id}))).push(s.data.updateDocument),u=l,e.next=27;break;case 22:return e.next=24,G(a,o);case 24:d=e.sent,v.ZP.success("".concat(a," Uploaded")),u=D(u).concat([d.data.createDocument]);case 27:A({},h).documents=u;case 29:t++,e.next=3;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(1),console.log("error",e.t0);case 37:M(!1);case 38:case"end":return e.stop()}}),e,null,[[1,34]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[r[0]&&(0,a.jsxs)(l.Z,{sx:{fontWeight:"bold",marginTop:5},children:[n.config.name," ",n.isOptional?"(Optional)":""]}),r[0]&&(0,a.jsxs)(d.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsx)(f.Z,{width:300,children:function(){for(var e=[],n=0;n<U;n++){var t=g[n];t&&e.push((0,a.jsx)("div",{style:{marginTop:15},children:(0,a.jsx)(P.TV,{children:(0,a.jsx)(P.HI,{src:"object"==typeof t?URL.createObjectURL(t):t,children:(0,a.jsx)("img",{src:"object"==typeof t?URL.createObjectURL(t):t,height:150,style:{marginLeft:"5px"}})})})}))}return 0==e.length?(0,a.jsx)(l.Z,{variant:"subtitle1",children:"No Document"}):e}()}),(0,a.jsx)(f.Z,{style:{},children:function(){for(var e=function(e){var n,l=D(F);t.push((0,a.jsxs)("div",{style:{height:160,marginTop:10},children:[(0,a.jsxs)("div",{style:{marginBottom:10},children:["Status:"," ",(0,a.jsx)("span",{style:{color:"APPROVED"===q(r[e].id)?"green":"REJECTED"===q(r[e].id)?"red":r[e]?"APPROVED"===r[e].status?"green":"REJECTED"===r[e].status&&"red":""},children:q(r[e].id)||(null===(n=r[e])||void 0===n?void 0:n.status)})]}),(0,a.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",marginBottom:"10px"},children:(0,a.jsxs)(c.ZP,{children:[(0,a.jsx)(u.Z,{id:"outlined",label:"Amount*",value:F[e],variant:"outlined",type:"number",onChange:function(n){n.target.value?l[e]=parseInt(n.target.value):l[e]=null,V(l)}}),(0,a.jsx)(s.Z,{onClick:function(){X(r[e].id,"APPROVED")},variant:"outlined",color:"success",sx:{ml:2},children:"Approve"}),(0,a.jsx)(s.Z,{onClick:function(){return X(r[e].id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})}),(0,a.jsxs)(s.Z,{fullWidth:!0,style:{marginTop:"10px"},component:"label",children:["Choose ",i[e].name,(0,a.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(n){if(n.target.files.length>0){var t=D(g);t[e]=n.target.files[0],Z(t);var r=D(E);r[e]=!0,O(r)}}})]})]}))},t=[],i=n.config.items,l=0;l<U;l++)e(l);return t}()}),(0,a.jsx)(f.Z,{children:(0,a.jsx)(w.Z,{loading:W,variant:"contained",onClick:function(){z(),$()},children:"Update"})})]},n.config.name)]})},T=function(e){var n=(0,y.v9)((function(e){return e.foundUser.foundUser})),t=[];if(n&&n.documents){var r=!0,i=!1,a=void 0;try{for(var o,c=function(e,r){var i,a=r.value,o=null===n||void 0===n||null===(i=n.documents)||void 0===i?void 0:i.find((function(e){if(e.title.toLowerCase()===a.id.toLowerCase())return!0}));o&&t.push(o)},u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)c(0,o)}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}return t};n.default=function(){var e=(0,y.I0)(),n=(0,y.v9)((function(e){return e.foundUser.foundUser})),t=(0,y.v9)((function(e){return e.allUsers.allTheUsers})),r=(0,p.useState)(0),d=r[0],f=r[1],w=(0,p.useState)(!1),S=(w[0],w[1]),E=(0,p.useState)(!1),O=(E[0],E[1],(0,p.useState)("")),D=O[0],R=O[1],_=(0,p.useState)(!1),N=(_[0],_[1],(0,p.useState)()),L=N[0],F=N[1],V=(0,p.useState)(),H=V[0],B=V[1],J=(0,p.useState)(!1),W=J[0],M=J[1],G=(0,p.useState)(!1),Y=G[0],K=G[1],$=C((0,m.D)(x.p1),1)[0],X=C((0,m.D)(x.HF),1)[0],q=function(){var e=k(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,null===n||void 0===n||null===(t=n.documents)||void 0===t||t.map((function(e){"additional_payment_doc"===e.title.slice(0,22)&&(r+=1)})),f(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,p.useEffect)((function(){q()}),[]);var z=function(e,t){var r,i=n,a=[];return null===n||void 0===n||null===(r=n.documents)||void 0===r||r.map((function(n){n.id===e?a.push(A({},n,{url:t})):a.push(n)})),A({},i,{documents:a})},Q=function(e,t){var r,i=n,a=[];return null===n||void 0===n||null===(r=n.documents)||void 0===r||r.map((function(n){n.id===e?a.push(A({},n,{amount:t})):a.push(n)})),A({},i,{documents:a})},ee=function(e,t){var r,i=n,a=[];return null===n||void 0===n||null===(r=n.documents)||void 0===r||r.map((function(n){n.id===e?a.push(A({},n,{status:t})):a.push(n)})),A({},i,{documents:a})},ne=function(){var n=k(i().mark((function n(r,a){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X({variables:{id:r,status:a}});case 2:n.sent,e((0,j.Hn)(ee(H.id,a))),e((0,g.UF)((0,Z.Z)(t,ee(H.id,a))));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),te=function(){var r=k(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,$({variables:{id:n.id,documentId:H.id,amount:parseInt(L)}});case 3:r.sent,e((0,j.Hn)(Q(H.id,parseInt(L)))),e((0,g.UF)((0,Z.Z)(t,Q(H.id,parseInt(L))))),v.ZP.success("Amount Updated"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),v.ZP.error(r.t0);case 12:S(!1);case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}(),re=function(){var r=k(i().mark((function r(){var a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(S(!0),r.prev=1,a="",!W){r.next=15;break}return r.prev=4,r.next=7,(0,b.Z)(D);case 7:a=r.sent,r.next=13;break;case 10:r.prev=10,r.t0=r.catch(4),a="lorem";case 13:r.next=16;break;case 15:a=D;case 16:if(!H){r.next=23;break}return r.next=19,$({variables:{id:n.id,documentId:H.id,url:a}});case 19:e((0,j.Hn)(z(H.id,a))),e((0,g.UF)((0,Z.Z)(t,z(H.id,a)))),r.next=24;break;case 23:console.log("we need access token of user to create any doc");case 24:v.ZP.success("Payment Slip Updated "),r.next=30;break;case 27:r.prev=27,r.t1=r.catch(1),v.ZP.error(r.t1);case 30:S(!1);case 31:case"end":return r.stop()}}),r,null,[[1,27],[4,10]])})));return function(){return r.apply(this,arguments)}}();return(0,p.useEffect)((function(){var e,t;n&&n.documents&&(null===n||void 0===n||null===(e=n.documents)||void 0===e?void 0:e.length)>0&&(null===n||void 0===n||null===(t=n.documents)||void 0===t||t.find((function(e){e.title.toLowerCase()===h.Z.payment_proof.items[0].id&&(B(e),R(e.url),F(e.amount))})))}),[n]),(0,a.jsxs)(a.Fragment,{children:[D?(0,a.jsx)(P.TV,{children:(0,a.jsx)(P.HI,{src:"object"==typeof D?URL.createObjectURL(D):D,children:(0,a.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof D?URL.createObjectURL(D):D,width:200})})}):null,H&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.Z,{variant:"h4",sx:{my:2},children:["Status :"," ",(0,a.jsx)("span",{style:{color:H?"APPROVED"===H.status?"green":"REJECTED"===H.status&&"red":""},children:H&&H.status})]}),(0,a.jsx)(o.Z,{children:(0,a.jsxs)(c.ZP,{children:[(0,a.jsx)(s.Z,{onClick:function(){return ne(H.id,"APPROVED")},variant:"outlined",color:"success",children:"Approve"}),(0,a.jsx)(s.Z,{onClick:function(){return ne(H.id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})})]}),D&&(0,a.jsxs)(c.ZP,{container:!0,p:2,mt:2,pl:0,spacing:2,children:[(0,a.jsx)(u.Z,{id:"outlined",label:"Amount*",value:L,variant:"outlined",type:"number",onChange:function(e){F(e.target.value)}}),(0,a.jsx)(c.ZP,{item:!0,children:(0,a.jsx)(s.Z,{fullWidth:!0,variant:"contained",component:"label",onClick:function(){te()},children:"Submit Amount"})})]}),(0,a.jsxs)(c.ZP,{container:!0,p:2,pl:0,spacing:2,children:[H&&(0,a.jsx)(c.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsxs)(s.Z,{variant:"contained",component:"label",children:["Select Payment Slip",(0,a.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(K(!0),R(e.target.files[0]),M(!0))}})]})}),D&&(0,a.jsx)(c.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(s.Z,{fullWidth:!0,variant:"contained",disabled:!Y,onClick:function(){re()},children:"Submit"})}),(0,a.jsx)(v.x7,{position:"bottom-center",reverseOrder:!1})]}),(0,a.jsx)(a.Fragment,{children:U.map((function(e,t){return(0,a.jsx)(I,{data:e,rowNo:d,user:n,documents:T(e.config.items)},t)}))})]})}},90109:function(e,n,t){"use strict";t.r(n);var r=t(85893),i=(t(11936),t(9008)),a=t.n(i),o=t(49104),c=t(67294),u=t(28488),s=t(46225),l=t(11163),d=t(90948),f=t(87357),p=t(2734),m=t(53156),h=t(88409),v=t(40044),x=t(66242),b=t(86886),y=t(78273),j=t(69507),g=t(37610),Z=t(51248),P=t(77471),w=t(57857),S=t(6397),E=t(82245),k=t(9473),O=t(61636),A=(0,d.ZP)(f.Z)((function(e){var n=e.theme;return"\n      padding: 0 ".concat(n.spacing(2),";\n      position: relative;\n      bottom: -1px;\n\n      .MuiTabs-root {\n        height: 44px;\n        min-height: 44px;\n      }\n\n      .MuiTabs-scrollableX {\n        overflow-x: auto !important;\n      }\n\n      .MuiTabs-indicator {\n          min-height: 4px;\n          height: 4px;\n          box-shadow: none;\n          bottom: -4px;\n          background: none;\n          border: 0;\n\n          &:after {\n            position: absolute;\n            left: 50%;\n            width: 28px;\n            content: ' ';\n            margin-left: -14px;\n            background: ").concat(n.colors.primary.main,";\n            border-radius: inherit;\n            height: 100%;\n          }\n      }\n\n      .MuiTab-root {\n          &.MuiButtonBase-root {\n              height: 44px;\n              min-height: 44px;\n              background: ").concat(n.colors.alpha.white[50],";\n              border: 1px solid ").concat(n.colors.alpha.black[10],";\n              border-bottom: 0;\n              position: relative;\n              margin-right: ").concat(n.spacing(1),";\n              font-size: ").concat(n.typography.pxToRem(14),";\n              color: ").concat(n.colors.alpha.black[80],";\n              border-bottom-left-radius: 0;\n              border-bottom-right-radius: 0;\n\n              .MuiTouchRipple-root {\n                opacity: .1;\n              }\n\n              &:after {\n                position: absolute;\n                left: 0;\n                right: 0;\n                width: 100%;\n                bottom: 0;\n                height: 1px;\n                content: '';\n                background: ").concat(n.colors.alpha.black[10],";\n              }\n\n              &:hover {\n                color: ").concat(n.colors.alpha.black[100],";\n              }\n          }\n\n          &.Mui-selected {\n              color: ").concat(n.colors.alpha.black[100],";\n              background: ").concat(n.colors.alpha.white[100],";\n              border-bottom-color: ").concat(n.colors.alpha.white[100],";\n\n              &:after {\n                height: 0;\n              }\n          }\n      }\n  ")}));function C(){var e=(0,l.useRouter)(),n=((0,p.Z)(),(0,k.I0)()),t=(0,k.v9)((function(e){return e.allUsers.allTheUsers})),i=e.query.index,o=t.find((function(e){return e.id===i}));(0,c.useEffect)((function(){o&&n((0,O.Hn)(o))}),[]);var d=(0,c.useState)("basicInfo"),C=d[0],D=d[1];return(0,r.jsxs)(E.default,{children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"KYC Agency Dashboard"})}),(0,r.jsx)(y.Z,{children:(0,r.jsx)(u.Z,{})}),(0,r.jsxs)(m.Z,{maxWidth:"lg",children:[(0,r.jsx)(A,{children:(0,r.jsx)(h.Z,{onChange:function(e,n){D(n)},value:C,variant:"scrollable",scrollButtons:"auto",textColor:"primary",indicatorColor:"primary",children:[{value:"basicInfo",label:"Basic Info"},{value:"payment",label:"Payment"},{value:"projects",label:"Projects"},{value:"documents",label:"Documents"},{value:"nominee",label:"Nominee"},{value:"demat",label:"Demat Account Details"}].map((function(e){return(0,r.jsx)(v.Z,{label:e.label,value:e.value},e.value)}))})}),(0,r.jsx)(x.Z,{variant:"outlined",children:(0,r.jsxs)(b.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:0,children:["basicInfo"===C&&(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{p:4,children:(0,r.jsx)(j.default,{})})}),"payment"===C&&(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{p:4,children:(0,r.jsx)(Z.default,{})})}),"projects"===C&&(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{p:4,children:(0,r.jsx)(P.default,{})})}),"documents"===C&&(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{p:4,children:(0,r.jsx)(w.default,{})})}),"nominee"===C&&(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{p:4,children:(0,r.jsx)(S.default,{})})}),"demat"===C&&(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{p:4,children:(0,r.jsx)(g.default,{})})})]})})]}),(0,r.jsx)(s.Z,{})]})}C.getLayout=function(e){return(0,r.jsx)(o.Z,{children:e})},n.default=C},82245:function(e,n,t){"use strict";t.r(n);var r=t(85893);n.default=function(e){var n=e.children;return(0,r.jsx)(r.Fragment,{children:n})}},46225:function(e,n,t){"use strict";var r=t(85893),i=t(90948),a=t(53156),o=t(87357),c=t(15861),u=(0,i.ZP)(a.Z)((function(e){var n=e.theme;return"\n        margin-top: ".concat(n.spacing(4),";\n")}));n.Z=function(){return(0,r.jsx)(u,{className:"footer-wrapper",children:(0,r.jsxs)(o.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)(c.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1"})]})})}},78273:function(e,n,t){"use strict";var r=t(85893),i=t(45697),a=t.n(i),o=t(90948),c=t(87357),u=t(53156),s=(0,o.ZP)(c.Z)((function(e){var n=e.theme;return"\n        padding: ".concat(n.spacing(4),";\n")})),l=function(e){var n=e.children;return(0,r.jsx)(s,{className:"MuiPageTitle-wrapper",children:(0,r.jsx)(u.Z,{maxWidth:"lg",children:n})})};l.propTypes={children:a().node.isRequired},n.Z=l},28488:function(e,n,t){"use strict";var r=t(34051),i=t.n(r),a=t(85893),o=t(46230),c=t(2734),u=t(87357),s=t(15861),l=t(71236),d=t(11057),f=t(50657),p=t(37645),m=t(6514),h=t(58951),v=t(31425),x=t(50319),b=t(86501),y=t(68586),j=t(77502),g=t(9473),Z=t(11163),P=t(67294);function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function S(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(u){c=!0,i=u}finally{try{o||null==t.return||t.return()}finally{if(c)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.Z=function(){var e=(0,o.C)((function(e){return e.user.data})),n=(0,c.Z)(),t=k((0,x.D)(j.QX),1)[0],r=(0,P.useState)(""),w=r[0],O=r[1],A=(0,P.useState)(""),C=A[0],D=A[1],R=(0,g.v9)((function(e){return e.foundUser.foundUser})),U=(0,Z.useRouter)(),I=(0,P.useState)(!1),T=I[0],_=I[1],N=function(){_(!0)},L=function(){_(!1)},F=function(){var e,n=(e=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:{id:R.id,kyc:C}});case 2:n=e.sent,L(),"APPROVED"===C&&b.ZP.success("KYC APPROVED"),"REJECTED"===C&&b.ZP.error("KYC REJECTED"),"ONGOING"===C&&b.ZP.success("KYC ONGOING"),O(n.data.updateStatus.kyc);case 8:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){S(a,r,i,o,c,"next",e)}function c(e){S(a,r,i,o,c,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:["/dashboard"===U.pathname&&(0,a.jsxs)(u.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,a.jsx)(u.Z,{display:"flex",alignItems:"center",children:(0,a.jsxs)(u.Z,{children:[(0,a.jsxs)(s.Z,{variant:"h3",component:"h3",gutterBottom:!0,sx:E({},n.breakpoints.down("sm"),{fontSize:20}),children:["Welcome, ",(null===e||void 0===e?void 0:e.name)?null===e||void 0===e?void 0:e.name:null===e||void 0===e?void 0:e.rm_id,"!"]}),(0,a.jsxs)(s.Z,{variant:"h5",component:"h5",align:"left",children:["Membership Type :"," ",(0,a.jsx)(l.Z,{badgeContent:null===e||void 0===e?void 0:e.membership,sx:{marginLeft:4},color:"success"})]}),(0,a.jsx)(s.Z,{variant:"subtitle2",mt:1,sx:E({},n.breakpoints.down("sm"),{fontSize:12}),children:"APPROVED"===(null===e||void 0===e?void 0:e.kyc)?"Your KYC has been Approved":"Complete Your KYC By Filling the form below"})]})}),(0,a.jsxs)(u.Z,{mt:{xs:3,md:0},children:[(0,a.jsxs)(s.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:["Status :"," ",(0,a.jsx)("span",{style:{color:(null===e||void 0===e?void 0:e.kyc)?"APPROVED"===(null===e||void 0===e?void 0:e.kyc)?"green":"REJECTED"===(null===e||void 0===e?void 0:e.kyc)&&"red":""},children:"NOT_INITIALIZED"===(null===e||void 0===e?void 0:e.kyc)?"NOT STARTED":null===e||void 0===e?void 0:e.kyc})]})," "]})]}),"/agency/[index]"===U.pathname&&(0,a.jsxs)(u.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,a.jsxs)(u.Z,{display:"flex",alignItems:"center",children:[(0,a.jsx)(s.Z,{variant:"h3",component:"h3",sx:{textTransform:"uppercase"},gutterBottom:!0,children:"Agency Dashboard"}),(0,a.jsx)(s.Z,{variant:"subtitle2",children:(0,a.jsx)(y.C,{href:"/agency",children:(0,a.jsx)(d.Z,{variant:"outlined",color:"primary",sx:{ml:2},children:"USERLIST"})})})]}),"/agency/[index]"===U.pathname&&(0,a.jsxs)(u.Z,{margin:" 0 0 0 auto",children:[(0,a.jsx)(u.Z,{children:(0,a.jsx)(s.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:(0,a.jsxs)("span",{style:{color:w?("APPROVED"===w?"green":"REJECTED"===w&&"red")||"ONGOING"===w&&"orange"||"AGENT_APPROVED"===w&&"green":("APPROVED"===R.kyc?"green":"REJECTED"===R.kyc&&"red")||"ONGOING"===R.kyc&&"orange"||"AGENT_APPROVED"===R.kyc&&"green"},children:["Status :"," ",w?("AGENT_APPROVED"===w?"AGENT APPROVED":"NOT_INITIALIZED"===w&&"NOT INITIALIZED")||w:(null===R||void 0===R?void 0:R.kyc)?"AGENT_APPROVED"===(null===R||void 0===R?void 0:R.kyc)?"AGENT APPROVED":null===R||void 0===R?void 0:R.kyc:"UNKNOWN"]})})}),(0,a.jsx)(d.Z,{onClick:function(){N(),D("AGENT_APPROVED")},variant:"outlined",color:"success",sx:{ml:2},children:"Approve"}),(0,a.jsx)(d.Z,{onClick:function(){N(),D("ONGOING")},variant:"outlined",color:"warning",sx:{ml:2},children:"Ongoing"}),(0,a.jsx)(d.Z,{onClick:function(){N(),D("REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"}),(0,a.jsx)("div",{children:(0,a.jsxs)(f.Z,{open:T,onClose:L,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,a.jsx)(p.Z,{id:"alert-dialog-title",children:"Submit KYC Status"}),(0,a.jsx)(m.Z,{children:(0,a.jsxs)(h.Z,{id:"alert-dialog-description",children:["KYC Status will be set to ",C,"."]})}),(0,a.jsxs)(v.Z,{children:[(0,a.jsx)(d.Z,{onClick:L,children:"Dismiss"}),(0,a.jsx)(d.Z,{onClick:F,autoFocus:!0,children:"Submit"})]})]})})]}),(0,a.jsx)(u.Z,{mt:{xs:3,md:0}})]})]})}},11936:function(){}},function(e){e.O(0,[2005,403,9990,9448,9213,5233,1880,6549,7058,9708,315,6565,2835,8584,8549,4284,6261,6154,6233,6572,3864,6515,7322,9104,7471,9774,2888,179],(function(){return n=14014,e(e.s=n);var n}));var n=e.O();_N_E=n}]);