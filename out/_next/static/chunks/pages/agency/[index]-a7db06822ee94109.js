(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8846],{14014:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agency/[index]",function(){return n(61037)}])},643:function(e,t,n){"use strict";n.r(t);var r=n(47568),i=n(26042),s=n(69396),a=n(828),u=n(97582),o=n(85893),c=n(16538),l=n(44709),d=n(34753),h=n(21191),f=n(11213),m=n(81118),p=n(29792),v=n(50319),x=n(8987),Z=n(86886),j=n(50135),g=n(87357),b=n(11057),y=n(67294),P=n(86501),E=n(71455),D=n(9473);t.default=function(){var e=(0,D.I0)(),t=(0,D.v9)((function(e){return e.foundUser.foundUser})),n=(0,D.v9)((function(e){return e.allUsers.allTheUsers})),R=(0,y.useState)(null),_=R[0],C=R[1],A=(0,y.useState)(null),S=A[0],O=A[1],U=(0,y.useState)(),w=U[0],k=U[1],T=(0,y.useState)(!1),V=T[0],I=T[1],N=(0,y.useState)(!1),L=N[0],F=N[1],H=(0,y.useState)(!1),W=H[0],B=H[1],J=(0,a.Z)((0,v.D)(c.aM),1)[0],G=(0,a.Z)((0,v.D)(c.ye),1)[0],Y=(0,a.Z)((0,v.D)(c.HF),2),M=Y[0],K=Y[1].data,X=function(e,n,r){var a=t,u=[];return t.documents.map((function(t){t.id===e?u.push((0,s.Z)((0,i.Z)({},t),{url:n})):u.push(t)})),(0,s.Z)((0,i.Z)({},a),{documents:u,demat_account:r})},q=function(e,n){var r=t,a=[];return t.documents.map((function(t){t.id===e?a.push((0,s.Z)((0,i.Z)({},t),{status:n})):a.push(t)})),(0,s.Z)((0,i.Z)({},r),{documents:a})},z=function(){var t=(0,r.Z)((function(t,r){return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return[4,M({variables:{id:t,status:r}})];case 1:return i.sent(),e((0,f.Hn)(q(w.id,r))),e((0,h.UF)((0,m.Z)(n,q(w.id,r)))),[2]}}))}));return function(e,n){return t.apply(this,arguments)}}(),Q=function(){var a=(0,r.Z)((function(){var r,a;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:if(r=function(e){return!!e||(alert("Invalid Image"),!1)}(S),!r)return[2];F(!0),u.label=1;case 1:return u.trys.push([1,9,,10]),_?[4,J({variables:{userId:t.id,demat_account:_}})]:[3,3];case 2:u.sent(),e((0,f.Hn)((0,s.Z)((0,i.Z)({},t),{demat_account:_}))),e((0,h.UF)((0,m.Z)(n,(0,s.Z)((0,i.Z)({},t),{demat_account:_})))),u.label=3;case 3:return a="",V?[4,(0,p.Z)(S)]:[3,5];case 4:return a=u.sent(),[3,6];case 5:a=S,u.label=6;case 6:return w?[4,G({variables:{id:t.id,documentId:w.id,url:a}})]:[3,8];case 7:return u.sent(),e((0,f.Hn)(X(w.id,a,_))),e((0,h.UF)((0,m.Z)(n,X(w.id,a,_)))),P.ZP.success("Demat Details Updated "),[3,8];case 8:return[3,10];case 9:return u.sent(),[3,10];case 10:return F(!1),[2]}}))}));return function(){return a.apply(this,arguments)}}();return(0,y.useEffect)((function(){t&&C(t.demat_account),t&&t.documents&&t.documents.length>0&&t.documents.find((function(e){e.title.toLowerCase()===l.Z.demat_document.items[0].id&&(k(e),O(e.url))}))}),[t]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,o.jsx)(j.Z,{id:"outlined",label:"Demat Account No.",type:"text",fullWidth:!0,disabled:(null===t||void 0===t?void 0:t.kyc)===d.Z.status.APPROVED,value:_,variant:"outlined",onChange:function(e){C(e.target.value),B(!0)}})}),S&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(E.TV,{children:(0,o.jsx)(E.HI,{src:"object"==typeof S?URL.createObjectURL(S):S,children:(0,o.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof S?URL.createObjectURL(S):S,height:200,width:200})})}),(0,o.jsxs)(g.Z,{children:["Status :"," ",(0,o.jsx)("span",{style:{color:w?"APPROVED"===w.status?"limegreen":"REJECTED"===w.status&&"red":""},children:K?K.updateDocumentStatusByAdmin.status:w?w.status:null})]}),(0,o.jsx)(g.Z,{children:(null===t||void 0===t?void 0:t.kyc)!==d.Z.status.APPROVED&&(0,o.jsxs)(Z.ZP,{children:[(0,o.jsx)(b.Z,{onClick:function(){return z(w.id,"APPROVED")},variant:"outlined",color:"success",children:"Approve"}),(0,o.jsx)(b.Z,{onClick:function(){return z(w.id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})})]}),(null===t||void 0===t?void 0:t.kyc)!==d.Z.status.APPROVED&&(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(Z.ZP,{container:!0,pt:3,pb:2,pr:2,spacing:2,children:[S&&(0,o.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:(0,o.jsxs)(b.Z,{variant:"contained",component:"label",children:["Upload Demat Account Details",(0,o.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(O(e.target.files[0]),I(!0),B(!0))}})]})}),(0,o.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:(0,o.jsx)(g.Z,{component:"form",children:(0,o.jsx)(x.Z,{loading:L,fullWidth:!0,disabled:!W,variant:"contained",onClick:function(){Q()},sx:{paddingX:20.5},children:"Submit"})})}),(0,o.jsx)(P.x7,{position:"bottom-right",reverseOrder:!1})]})}),(0,o.jsx)(Z.ZP,{item:!0,xs:4})]})}},83778:function(e,t,n){"use strict";n.r(t);var r=n(47568),i=n(14924),s=n(26042),a=n(69396),u=n(828),o=n(29815),c=n(82222),l=n(97582),d=n(85893),h=n(16538),f=n(44709),m=n(34753),p=n(21191),v=n(11213),x=n(81118),Z=n(29792),j=n(50319),g=n(8987),b=n(2734),y=n(11057),P=n(87357),E=n(15861),D=n(55113),R=n(7906),_=n(295),C=n(53252),A=n(72882),S=n(53184),O=n(53816),U=(n(68680),n(3924),n(72484),n(67294)),w=n(86501),k=n(71455),T=n(9473),V=[{config:f.Z.avatar,status:-1},{config:f.Z.aadhar,status:-1},{config:f.Z.pancard,status:-1},{config:f.Z.passbook,status:-1},{config:f.Z.voterId,status:-1,isOptional:!0},{config:f.Z.driving_license,status:-1,isOptional:!0}],I=function(e){var t=e.user,n=e.data,f=e.documents,D=void 0===f?[]:f,R=(0,b.Z)(),_=(0,T.v9)((function(e){return e.allUsers.allTheUsers})),A=(0,T.I0)(),S=(0,U.useState)([]),V=S[0],I=S[1],N=(0,U.useState)([]),L=N[0],F=N[1],H=(0,u.Z)((0,j.D)(h.ye),1)[0],W=(0,u.Z)((0,j.D)(h.HF),1)[0],B=(0,U.useState)(!1),J=B[0],G=B[1],Y=function(e,n){var r=t,i=[];return t.documents.map((function(t){t.id===e?i.push((0,a.Z)((0,s.Z)({},t),{status:n})):i.push(t)})),(0,a.Z)((0,s.Z)({},r),{documents:i})},M=function(e,n){var r=t,i=[];return t.documents.map((function(t){t.id===e?i.push((0,a.Z)((0,s.Z)({},t),{url:n})):i.push(t)})),(0,a.Z)((0,s.Z)({},r),{documents:i})};(0,U.useEffect)((function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,s=D[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var a=i.value;e.push(a.url)}}catch(u){n=!0,r=u}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}I(e)}),[D]);var K=function(){var e=(0,r.Z)((function(e,t){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,W({variables:{id:e,status:t}})];case 1:return n.sent(),A((0,v.Hn)(Y(e,t))),A((0,p.UF)((0,x.Z)(_,Y(e,t)))),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=(0,r.Z)((function(e,n,r){return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return[4,H({variables:{id:t.id,documentId:e,url:r}})];case 1:return i.sent(),A((0,v.Hn)(M(e,r))),A((0,p.UF)((0,x.Z)(_,M(e,r)))),w.ZP.success("".concat(n," Updated")),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),q=function(){var e=(0,r.Z)((function(){var e,t,r;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:G(!0),i.label=1;case 1:i.trys.push([1,6,,7]),e=function(e){var t,r,i;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:return L[e]?(t=n.config.items[e].id,[4,(0,Z.Z)(V[e])]):[3,3];case 1:return r=s.sent(),(i=D.find((function(e){if(e.title.toLowerCase()===t.toLowerCase())return!0})))?[4,X(i.id,t,r)]:[3,3];case 2:return s.sent(),[3,3];case 3:return[2]}}))},t=0,i.label=2;case 2:return t<L.length?[5,(0,l.__values)(e(t))]:[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[3,7];case 6:return r=i.sent(),console.log("error",r),[3,7];case 7:return G(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,d.jsxs)(O.Z,{sx:(0,i.Z)({"&:last-child td, &:last-child th":{border:0}},R.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,d.jsxs)(C.Z,{component:"th",scope:"row",children:[n.config.name," ",n.isOptional?"(Optional)":""]}),(0,d.jsx)(C.Z,{children:function(){for(var e=[],t=n.config.items,r=0;r<t.length;r++){var i=V[r];i&&e.push((0,d.jsx)(k.TV,{children:(0,d.jsx)(k.HI,{src:"object"==typeof i?URL.createObjectURL(i):i,children:(0,d.jsx)("img",{src:"object"==typeof i?URL.createObjectURL(i):i,height:100,style:{marginRight:"5px"},width:100})})}))}return 0==e.length?(0,d.jsx)(E.Z,{variant:"subtitle1",children:"No Document"}):e}()}),(0,d.jsx)(C.Z,{children:function(){for(var e=function(e){if(!D[e])return{v:void 0};r.push((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(y.Z,{component:"label",children:["Choose ",i[e].name,(0,d.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(t){if(t.target.files.length>0){var n=(0,o.Z)(V);n[e]=t.target.files[0],I(n);var r=(0,o.Z)(L);r[e]=!0,F(r)}}})]}),(0,d.jsxs)(P.Z,{display:"flex",children:[(0,d.jsx)(y.Z,{onClick:function(){return K(D[e].id,"APPROVED")},variant:"outlined",color:"success",children:"Approve"}),(0,d.jsx)(y.Z,{onClick:function(){return K(D[e].id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})]}))},r=[],i=n.config.items,s=0;s<i.length;s++){var a=e(s);if("object"===(0,c.Z)(a))return a.v}if((null===t||void 0===t?void 0:t.kyc)!==m.Z.status.APPROVED)return r}()}),(0,d.jsx)(C.Z,{children:(0,d.jsx)(g.Z,{loading:J,disabled:!function(){var e=L.find((function(e){if(e)return!0}));if(V.length==n.config.items.length&&e)return!0}(),variant:"contained",onClick:function(){q()},children:"Upload"})}),(0,d.jsx)(C.Z,{children:(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:50},children:[(0,d.jsx)("span",{style:{color:D[0]?"APPROVED"===D[0].status?"limegreen":"REJECTED"===D[0].status&&"red":""},children:D[0]&&D[0].status}),D[1]&&(0,d.jsx)("span",{style:{color:D[1]?"APPROVED"===D[1].status?"limegreen":"REJECTED"===D[1].status&&"red":""},children:D[1]&&D[1].status})]})})]},n.config.name)};t.default=function(){var e=(0,T.v9)((function(e){return e.foundUser.foundUser})),t=function(t){var n=[];if(e&&e.documents){var r=!0,i=!1,s=void 0;try{for(var a,u=function(){var t=a.value,r=e.documents.find((function(e){if(e.title.toLowerCase()===t.id.toLowerCase())return!0}));r&&n.push(r)},o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)u()}catch(c){i=!0,s=c}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}}return n};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(A.Z,{component:D.Z,children:[(0,d.jsxs)(R.Z,{"aria-label":"simple table",children:[(0,d.jsx)(S.Z,{children:(0,d.jsxs)(O.Z,{children:[(0,d.jsx)(C.Z,{children:"Document Name"}),(0,d.jsx)(C.Z,{children:"Preview"}),(0,d.jsx)(C.Z,{style:{padding:"0 0 0 2rem"},children:"Action"}),(0,d.jsx)(C.Z,{style:{padding:"0 0 0 0"},children:"Upload Action"}),(0,d.jsx)(C.Z,{children:"Status"})]})}),(0,d.jsx)(_.Z,{children:V.map((function(n,r){return(0,d.jsx)(I,{user:e,data:n,documents:t(n.config.items)},r)}))})]}),(0,d.jsx)(w.x7,{position:"bottom-center",reverseOrder:!1})]})})}},8463:function(e,t,n){"use strict";n.r(t);var r=n(47568),i=n(26042),s=n(69396),a=n(828),u=n(97582),o=n(85893),c=n(16538),l=n(34753),d=n(21191),h=n(11213),f=n(81118),m=n(50319),p=n(8987),v=n(86886),x=n(50135),Z=n(87357),j=n(67294),g=n(86501),b=n(9473);t.default=function(){var e=(0,b.I0)(),t=(0,b.v9)((function(e){return e.foundUser.foundUser})),n=(0,b.v9)((function(e){return e.allUsers.allTheUsers})),y=(0,j.useState)(""),P=y[0],E=y[1],D=(0,j.useState)(""),R=D[0],_=D[1],C=(0,j.useState)(!1),A=C[0],S=C[1],O=(0,j.useState)(""),U=O[0],w=O[1],k=(0,j.useState)(""),T=k[0],V=k[1],I=(0,j.useState)(""),N=I[0],L=I[1],F=(0,j.useState)(""),H=F[0],W=F[1],B=(0,j.useState)(""),J=B[0],G=B[1],Y=(0,j.useState)(""),M=Y[0],K=Y[1],X=(0,j.useState)(!1),q=X[0],z=X[1],Q=(0,a.Z)((0,m.D)(c.Fw),1)[0],$=function(){var a=(0,r.Z)((function(){var r,a;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:z(!0),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Q({variables:{id:P,name:R,father_or_husband_name:U,date_of_birth:T,mobile_number:N,alternate_mobile_number:H,email:J}})];case 2:return u.sent(),g.Am.success("Details Updated"),r=(0,s.Z)((0,i.Z)({},t),{name:R,father_or_husband_name:U,date_of_birth:T,mobile_number:N,alternate_mobile_number:H,email:J}),e((0,h.Hn)(r)),e((0,d.UF)((0,f.Z)(n,r))),[3,4];case 3:return a=u.sent(),g.Am.error(a.message),[3,4];case 4:return z(!1),[2]}}))}));return function(){return a.apply(this,arguments)}}();return(0,j.useEffect)((function(){var e;t&&(E(t.id||""),_(t.name||""),V((null===t||void 0===t||null===(e=t.date_of_birth)||void 0===e?void 0:e.slice(0,10))||""),w(t.father_or_husband_name||""),L(t.mobile_number||""),W(t.alternate_mobile_number||""),G(t.email||""),K(t.referralAgencyCode||""))}),[t]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(v.ZP,{container:!0,p:2,spacing:2,children:[(0,o.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(x.Z,{id:"outlined",label:"Full Name*",disabled:(null===t||void 0===t?void 0:t.kyc)===l.Z.status.APPROVED,fullWidth:!0,value:R,variant:"outlined",onChange:function(e){_(e.target.value),S(!0)}})}),(0,o.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(x.Z,{label:"Father's/Husband's Name*",variant:"outlined",disabled:(null===t||void 0===t?void 0:t.kyc)===l.Z.status.APPROVED,fullWidth:!0,value:U,onChange:function(e){w(e.target.value),S(!0)}})}),(0,o.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(x.Z,{required:!0,hidden:!0,label:"Date of Birth",disabled:(null===t||void 0===t?void 0:t.kyc)===l.Z.status.APPROVED,variant:"outlined",fullWidth:!0,placeholder:"",value:T,onChange:function(e){V(e.target.value),S(!0)}})})]}),(0,o.jsxs)(v.ZP,{container:!0,p:2,spacing:2,children:[(0,o.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(x.Z,{type:"number",disabled:(null===t||void 0===t?void 0:t.kyc)===l.Z.status.APPROVED,inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Mobile Number*",variant:"outlined",fullWidth:!0,value:N,onChange:function(e){L(e.target.value),S(!0)}})}),(0,o.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(x.Z,{id:"outlined",type:"number",disabled:(null===t||void 0===t?void 0:t.kyc)===l.Z.status.APPROVED,inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Alternate Number*",fullWidth:!0,variant:"outlined",value:H,onChange:function(e){W(e.target.value),S(!0)}})}),(0,o.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(x.Z,{type:"email",label:"Email ID*",variant:"outlined",disabled:(null===t||void 0===t?void 0:t.kyc)===l.Z.status.APPROVED,fullWidth:!0,value:J,onChange:function(e){G(e.target.value),S(!0)}})}),(0,o.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(x.Z,{type:"referral",label:"Referral Code*",variant:"outlined",fullWidth:!0,disabled:!0,value:M})})]}),(0,o.jsxs)(v.ZP,{container:!0,p:2,spacing:2,children:[(null===t||void 0===t?void 0:t.kyc)!==l.Z.status.APPROVED&&(0,o.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(Z.Z,{component:"form",children:(0,o.jsx)(p.Z,{loading:q,fullWidth:!0,disabled:!A,variant:"contained",onClick:function(){$()},children:"Update Details"})})}),(0,o.jsx)(v.ZP,{item:!0,xs:12,sm:4}),(0,o.jsx)(g.x7,{position:"bottom-center",reverseOrder:!1})]})]})}},22059:function(e,t,n){"use strict";n.r(t);var r=n(47568),i=n(26042),s=n(69396),a=n(828),u=n(97582),o=n(85893),c=n(8987),l=n(86886),d=n(50135),h=n(87357),f=n(11057),m=n(67720),p=(n(68680),n(3924),n(72484),n(67294)),v=n(50319),x=n(16538),Z=n(44709),j=n(21191),g=n(11213),b=n(81118),y=n(29792),P=n(86501),E=n(71455),D=n(9473),R=n(34753);t.default=function(){var e=(0,D.I0)(),t=(0,D.v9)((function(e){return e.foundUser.foundUser})),n=(0,D.v9)((function(e){return e.allUsers.allTheUsers})),_=(0,a.Z)((0,v.D)(x.ye),1)[0],C=(0,a.Z)((0,v.D)(x.qp),1)[0],A=(0,a.Z)((0,v.D)(x.HF),2),S=A[0],O=A[1].data,U=(0,p.useState)(""),w=U[0],k=U[1],T=(0,p.useState)(""),V=T[0],I=T[1],N=(0,p.useState)(!1),L=N[0],F=N[1],H=(0,p.useState)(!1),W=H[0],B=H[1],J=(0,p.useState)(!1),G=J[0],Y=J[1],M=(0,p.useState)(""),K=M[0],X=M[1],q=(0,p.useState)(""),z=q[0],Q=q[1],$=(0,p.useState)(!1),ee=$[0],te=$[1],ne=(0,p.useState)(),re=ne[0],ie=ne[1],se=(0,p.useState)(),ae=se[0],ue=se[1],oe=function(e,n){var r=t,a=[];return t.documents.map((function(t){t.id===e?a.push((0,s.Z)((0,i.Z)({},t),{status:n})):a.push(t)})),(0,s.Z)((0,i.Z)({},r),{documents:a})},ce=function(e,n){var r=t,a=[];return t.documents.map((function(t){t.id===e?a.push((0,s.Z)((0,i.Z)({},t),{url:n})):a.push(t)})),(0,s.Z)((0,i.Z)({},r),{documents:a})},le=function(){var t=(0,r.Z)((function(t,r){return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return[4,S({variables:{id:t,status:r}})];case 1:return i.sent(),e((0,g.Hn)(oe(t,r))),e((0,j.UF)((0,b.Z)(n,oe(t,r)))),[2]}}))}));return function(e,n){return t.apply(this,arguments)}}(),de=function(){var t=(0,r.Z)((function(t,r){var i;return(0,u.__generator)(this,(function(s){switch(s.label){case 0:return[4,_({variables:{documentId:t,url:r}})];case 1:return i=s.sent(),e((0,g.Hn)(ce(t,r))),e((0,j.UF)((0,b.Z)(n,ce(t,r)))),[2,i]}}))}));return function(e,n){return t.apply(this,arguments)}}(),he=function(){var e=(0,r.Z)((function(e){var t,n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return(e?W:G)?(t=e?K:z,n=e?re:ae,[4,(0,y.Z)(t)]):[2];case 1:return r=i.sent(),t?[4,de(n.id,r)]:[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),fe=function(){var a=(0,r.Z)((function(){var r;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:if(!(w?V?re||W?!(!ae&&!G)||(alert("Please Select Nominee Aadhar Back"),null):(alert("Please Select Nominee Aadhar Front"),null):(alert("Please Enter Nominee Relation"),null):(alert("Please Enter Nominee Name"),null)))return[2];F(!0),a.label=1;case 1:return a.trys.push([1,7,,8]),[4,C({variables:{userId:t.id,name:w,relationship:V}})];case 2:return a.sent(),[4,e((0,g.Hn)((0,s.Z)((0,i.Z)({},t),{nomineeName:w,nomineeRelationship:V})))];case 3:return a.sent(),[4,e((0,j.UF)((0,b.Z)(n,(0,s.Z)((0,i.Z)({},t),{nomineeName:w,nomineeRelationship:V}))))];case 4:return a.sent(),[4,he(!0)];case 5:return a.sent(),[4,he(!1)];case 6:return a.sent(),P.ZP.success("Nominee Updated Succesfully"),[3,8];case 7:return r=a.sent(),console.log(r),[3,8];case 8:return F(!1),[2]}}))}));return function(){return a.apply(this,arguments)}}();return(0,p.useEffect)((function(){O&&O.updateDocumentStatusByAdmin.id===re.id&&ie((0,s.Z)((0,i.Z)({},re),{status:O.updateDocumentStatusByAdmin.status})),O&&O.updateDocumentStatusByAdmin.id===ae.id&&ue((0,s.Z)((0,i.Z)({},ae),{status:O.updateDocumentStatusByAdmin.status}))}),[O]),(0,p.useEffect)((function(){t&&(t.nomineeName?(k(t.nomineeName),I(t.nomineeRelationship)):t.nominee&&(k(t.nominee.name),I(t.nominee.relationship)),t.documents&&t.documents.length>0&&t.documents.find((function(e){e.title.toLowerCase()===Z.Z.nominee_aadhar.items[1].id&&(Q(e.url),ue(e)),e.title.toLowerCase()===Z.Z.nominee_aadhar.items[0].id&&(X(e.url),ie(e))})))}),[t]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.ZP,{container:!0,p:0,spacing:2,children:[(0,o.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(d.Z,{id:"outlined",label:"Full Name*",fullWidth:!0,disabled:(null===t||void 0===t?void 0:t.kyc)===R.Z.status.APPROVED,value:w,variant:"outlined",onChange:function(e){k(e.target.value),te(!0)}})}),(0,o.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(d.Z,{label:"Relationship",variant:"outlined",disabled:(null===t||void 0===t?void 0:t.kyc)===R.Z.status.APPROVED,fullWidth:!0,value:V,onChange:function(e){I(e.target.value),te(!0)}})}),(0,o.jsx)(l.ZP,{item:!0,xs:12,sm:4})]}),(0,o.jsxs)(l.ZP,{container:!0,p:2,spacing:2,children:[(0,o.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:K&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(E.TV,{children:(0,o.jsx)(E.HI,{src:"object"==typeof K?URL.createObjectURL(K):K,children:(0,o.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof K?URL.createObjectURL(K):K,height:200,width:200})})}),(0,o.jsxs)(h.Z,{children:["Status :"," ",(0,o.jsxs)("span",{style:{color:re?"APPROVED"===re.status?"limegreen":"REJECTED"===re.status&&"red":""},children:[" ",O&&O.updateDocumentStatusByAdmin.id===re.id?O.updateDocumentStatusByAdmin.status:re?re.status:null]})]}),(null===t||void 0===t?void 0:t.kyc)!==R.Z.status.APPROVED&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(f.Z,{variant:"contained",component:"label",sx:{margin:"10px 0"},children:["Upload Aadhar Card Front",(0,o.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(X(e.target.files[0]),B(!0))}})]}),(0,o.jsxs)(l.ZP,{children:[(0,o.jsx)(f.Z,{variant:"outlined",onClick:function(){return le(re.id,"APPROVED")},color:"success",sx:{ml:2},children:"Approve"}),(0,o.jsx)(f.Z,{variant:"outlined",onClick:function(){return le(re.id,"REJECTED")},color:"error",sx:{ml:2},children:"Reject"})]})]})]})}),(0,o.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:z&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(E.TV,{children:(0,o.jsx)(E.HI,{src:"object"==typeof z?URL.createObjectURL(z):z,children:(0,o.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof z?URL.createObjectURL(z):z,height:200,width:200})})}),(0,o.jsxs)(h.Z,{children:["Status :"," ",(0,o.jsx)("span",{style:{color:ae?"APPROVED"===ae.status?"limegreen":"REJECTED"===ae.status&&"red":""},children:O&&O.updateDocumentStatusByAdmin.id===ae.id?O.updateDocumentStatusByAdmin.status:ae?ae.status:null})]}),(null===t||void 0===t?void 0:t.kyc)!==R.Z.status.APPROVED&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(f.Z,{variant:"contained",component:"label",sx:{margin:"10px 0"},children:["Upload Aadhar Card Back",(0,o.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(Q(e.target.files[0]),Y(!0),te(!0))}})]}),(0,o.jsxs)(l.ZP,{children:[(0,o.jsx)(f.Z,{variant:"outlined",onClick:function(){return le(ae.id,"APPROVED")},color:"success",sx:{ml:2},children:"Approve"}),(0,o.jsx)(f.Z,{variant:"outlined",onClick:function(){return le(ae.id,"REJECTED")},color:"error",sx:{ml:2},children:"Reject"})]})]})]})}),(0,o.jsx)(l.ZP,{item:!0,xs:12,sm:4}),(0,o.jsx)(m.Z,{}),(null===t||void 0===t?void 0:t.kyc)!==R.Z.status.APPROVED&&(0,o.jsxs)(h.Z,{component:"form",mt:1,children:[(0,o.jsx)(c.Z,{loading:L,sx:{paddingX:17},variant:"contained",component:"label",disabled:!ee,onClick:function(){fe()},children:"Submit"}),(0,o.jsx)(P.x7,{position:"bottom-center",reverseOrder:!1})]})]})]})}},67190:function(e,t,n){"use strict";n.r(t),n.d(t,{rows:function(){return S}});var r=n(47568),i=n(26042),s=n(69396),a=n(828),u=n(29815),o=n(97582),c=n(85893),l=n(50319),d=n(87357),h=n(86886),f=n(11057),m=n(50135),p=n(15861),v=n(53816),x=n(53252),Z=n(67294),j=n(16538),g=n(44709),b=n(21191),y=n(11213),P=n(81118),E=n(29792),D=n(8987),R=n(86501),_=n(71455),C=n(9473),A=n(34753),S=[{config:g.Z.additional_payment_documents}],O=function(e){var t=e.data,n=e.documents,s=void 0===n?[]:n,g=e.user,b=e.rowNo,y=(0,Z.useState)([]),P=y[0],C=y[1],S=(0,Z.useState)([]),O=S[0],U=S[1],w=(0,Z.useState)(0),k=w[0],T=w[1],V=(0,Z.useState)([]),I=V[0],N=V[1],L=(0,Z.useState)([null,null,null,null]),F=L[0],H=L[1],W=(0,Z.useState)(["","","",""]),B=W[0],J=W[1];(0,Z.useEffect)((function(){T(b)}),[b]);var G=(0,a.Z)((0,l.D)(j.rb),1)[0],Y=(0,a.Z)((0,l.D)(j.ye),1)[0],M=(0,a.Z)((0,l.D)(j.HF),1)[0],K=(0,Z.useState)(!1),X=K[0],q=K[1];(0,Z.useEffect)((function(){var e=[],n=!0,r=!1,i=void 0;try{for(var a,u=s[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var o=a.value;e.push(o.url)}}catch(d){r=!0,i=d}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}C(e);var c=[null,null,null,null],l=["","","",""];J(l),H(c),t.config.items.map((function(e){var t;null===g||void 0===g||null===(t=g.documents)||void 0===t||t.map((function(t){t.title===e.id&&(c[parseInt(e.id.slice(22,24))-2]=t.amount||"",l[parseInt(e.id.slice(22,24))-2]=t.utrNo||"")}))})),J(l),H(c)}),[s,g]);var z=function(){var e=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){return[2]}))}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,r.Z)((function(e,t){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,Y({variables:{documentId:e,url:t}})];case 1:return[2,n.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}(),$=function(e){var t,n;return null===g||void 0===g||null===(t=g.documents)||void 0===t||t.map((function(t){t.title===e&&(n=t.id)})),n},ee=function(){var e=(0,r.Z)((function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:e=0,r.label=1;case 1:return e<k?(n=t.config.items[e].id,F[e]?[4,G({variables:{utrNo:B[e],amount:parseInt(F[e]),documentId:$(n)}})]:[3,3]):[3,4];case 2:r.sent(),R.ZP.success("Details Updated"),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,r.Z)((function(e,t){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,M({variables:{id:e,status:t}})];case 1:return r.sent()&&("APPROVED"===t?R.ZP.success("Document Status ".concat(t)):R.ZP.error("Document Status ".concat(t)),N((function(n){return(0,u.Z)(n).concat([{id:e,status:t}])}))),[3,3];case 2:return n=r.sent(),R.ZP.error(n.message),[3,3];case 3:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),ne=function(e){var t=null;return null===I||void 0===I||I.map((function(n){e===n.id&&(t=n.status)})),t},re=function(){var e=(0,r.Z)((function(){var e,n,r;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:q(!0),a.label=1;case 1:a.trys.push([1,6,,7]),e=function(e){var n,r,a,c,l,d,h;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return O[e]?(n=t.config.items[e].id,[4,(0,E.Z)(P[e])]):[3,6];case 1:return r=o.sent(),a=s.find((function(e){if(e.title.toLowerCase()===n.toLowerCase())return!0})),(c=g.documents)||(c=[]),a?[4,Q(a.id,r)]:[3,3];case 2:return l=o.sent(),R.ZP.success("".concat(n," Uploaded")),(d=c.filter((function(e){return e.id}))).push(l.data.updateDocument),c=d,[3,5];case 3:return[4,z()];case 4:h=o.sent(),R.ZP.success("".concat(n," Uploaded")),c=(0,u.Z)(c).concat([h.data.createDocument]),o.label=5;case 5:(0,i.Z)({},g).documents=c,o.label=6;case 6:return[2]}}))},n=0,a.label=2;case 2:return n<k?[5,(0,o.__values)(e(n))]:[3,5];case 3:a.sent(),a.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:return r=a.sent(),console.log("error",r),[3,7];case 7:return q(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,c.jsxs)(c.Fragment,{children:[s[0]&&(0,c.jsxs)(p.Z,{sx:{fontWeight:"bold",marginTop:5},children:[t.config.name," ",t.isOptional?"(Optional)":""]}),s[0]&&(0,c.jsxs)(v.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,c.jsx)(x.Z,{width:300,children:function(){for(var e=[],t=0;t<k;t++){var n=P[t];n&&e.push((0,c.jsx)("div",{style:{marginTop:15},children:(0,c.jsx)(_.TV,{children:(0,c.jsx)(_.HI,{src:"object"==typeof n?URL.createObjectURL(n):n,children:(0,c.jsx)("img",{src:"object"==typeof n?URL.createObjectURL(n):n,height:150,style:{marginLeft:"5px"}})})})}))}return 0==e.length?(0,c.jsx)(p.Z,{variant:"subtitle1",children:"No Document"}):e}()}),(0,c.jsx)(x.Z,{style:{},children:function(){for(var e=function(e){var t,i,a,o,l=(0,u.Z)(F),p=(0,u.Z)(B);n.push((0,c.jsxs)("div",{style:{height:160,marginTop:10},children:[(0,c.jsxs)("div",{style:{marginBottom:10},children:["Status:"," ",(0,c.jsx)("span",{style:{color:"APPROVED"===ne(null===(t=s[e])||void 0===t?void 0:t.id)?"limegreen":"REJECTED"===ne(null===(i=s[e])||void 0===i?void 0:i.id)?"red":s[e]?"APPROVED"===s[e].status?"limegreen":"REJECTED"===s[e].status&&"red":""},children:ne(null===(a=s[e])||void 0===a?void 0:a.id)||(null===(o=s[e])||void 0===o?void 0:o.status)})]}),(null===g||void 0===g?void 0:g.kyc)!==A.Z.status.APPROVED&&(0,c.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",marginBottom:"10px",width:500},children:(0,c.jsxs)(h.ZP,{children:[(0,c.jsx)(f.Z,{onClick:function(){te(s[e].id,"APPROVED")},variant:"outlined",color:"success",sx:{paddingY:"12px"},children:"Approve"}),(0,c.jsx)(f.Z,{onClick:function(){return te(s[e].id,"REJECTED")},variant:"outlined",color:"error",sx:{mx:2,paddingY:"12px"},children:"Reject"}),(0,c.jsx)(m.Z,{sx:{width:120},id:"outlined",label:"UTR No.*",value:B[e],variant:"outlined",type:"number",onChange:function(t){t.target.value?p[e]=t.target.value:p[e]=null,J(p)}}),(0,c.jsx)(m.Z,{sx:{width:120,ml:2},id:"outlined",label:"Amount*",value:F[e],variant:"outlined",type:"number",onChange:function(t){t.target.value?l[e]=parseInt(t.target.value):l[e]=null,H(l)}})]})}),(null===g||void 0===g?void 0:g.kyc)!==A.Z.status.APPROVED&&(0,c.jsxs)(f.Z,{fullWidth:!0,style:{marginTop:"10px"},component:"label",children:["Choose ",r[e].name,(0,c.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(t){if(t.target.files.length>0){var n=(0,u.Z)(P);n[e]=t.target.files[0],C(n);var r=(0,u.Z)(O);r[e]=!0,U(r)}}})]})]}))},n=[],r=t.config.items,i=0;i<k;i++)e(i);return n}()}),(null===g||void 0===g?void 0:g.kyc)!==A.Z.status.APPROVED&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(x.Z,{children:(0,c.jsx)(D.Z,{loading:X,variant:"contained",onClick:function(){re(),ee()},sx:{paddingX:8},children:"Update"})})})]},t.config.name)]})},U=function(e){var t=(0,C.v9)((function(e){return e.foundUser.foundUser})),n=[];if(t&&t.documents){var r=!0,i=!1,s=void 0;try{for(var a,u=function(){var e=a.value,r=t.documents.find((function(t){if(t.title.toLowerCase()===e.id.toLowerCase())return!0}));r&&n.push(r)},o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)u()}catch(c){i=!0,s=c}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}}return n};t.default=function(){var e=(0,C.I0)(),t=(0,C.v9)((function(e){return e.foundUser.foundUser})),n=(0,C.v9)((function(e){return e.allUsers.allTheUsers})),u=(0,Z.useState)(0),v=u[0],x=u[1],D=(0,Z.useState)(""),w=D[0],k=D[1],T=(0,Z.useState)(),V=T[0],I=T[1],N=(0,Z.useState)(),L=N[0],F=N[1],H=(0,Z.useState)(),W=H[0],B=H[1],J=(0,Z.useState)(!1),G=J[0],Y=J[1],M=(0,Z.useState)(!1),K=M[0],X=M[1],q=(0,a.Z)((0,l.D)(j.rb),1)[0],z=(0,a.Z)((0,l.D)(j.ye),1)[0],Q=(0,a.Z)((0,l.D)(j.HF),1)[0],$=(function(){var e=(0,r.Z)((function(e){return(0,o.__generator)(this,(function(e){return[2]}))}))}(),function(){var e=(0,r.Z)((function(){var e,n;return(0,o.__generator)(this,(function(r){return n=0,null===t||void 0===t||null===(e=t.documents)||void 0===e||e.map((function(e){"additional_payment_doc"===e.title.slice(0,22)&&(n+=1)})),x(n),[2]}))}));return function(){return e.apply(this,arguments)}}());(0,Z.useEffect)((function(){$()}),[]);var ee=function(e,n){var r=t,a=[];return t.documents.map((function(t){t.id===e?a.push((0,s.Z)((0,i.Z)({},t),{url:n})):a.push(t)})),(0,s.Z)((0,i.Z)({},r),{documents:a})},te=function(e,n,r){var a=t,u=[];return t.documents.map((function(t){t.id===e?u.push((0,s.Z)((0,i.Z)({},t),{amount:n,utrNo:r})):u.push(t)})),(0,s.Z)((0,i.Z)({},a),{documents:u})},ne=function(e,n){var r=t,a=[];return t.documents.map((function(t){t.id===e?a.push((0,s.Z)((0,i.Z)({},t),{status:n})):a.push(t)})),(0,s.Z)((0,i.Z)({},r),{documents:a})},re=function(){var t=(0,r.Z)((function(t,r){return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,Q({variables:{id:t,status:r}})];case 1:return i.sent(),e((0,y.Hn)(ne(W.id,r))),e((0,b.UF)((0,P.Z)(n,ne(W.id,r)))),[2]}}))}));return function(e,n){return t.apply(this,arguments)}}(),ie=function(){var t=(0,r.Z)((function(){var t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,q({variables:{utrNo:L,amount:parseInt(V),documentId:W.id}})];case 1:return r.sent(),e((0,y.Hn)(te(W.id,parseInt(V),L))),e((0,b.UF)((0,P.Z)(n,te(W.id,parseInt(V),L)))),R.ZP.success("Details Updated"),[3,3];case 2:return t=r.sent(),console.log("erroridhar",t),R.ZP.error(t),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),se=function(){var t=(0,r.Z)((function(){var t,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:if(i.trys.push([0,9,,10]),t="",!G)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(0,E.Z)(w)];case 2:return t=i.sent(),[3,4];case 3:return i.sent(),R.ZP.error("Error, Try Again!"),[3,4];case 4:return[3,6];case 5:t=w,i.label=6;case 6:return W?[4,z({variables:{documentId:W.id,url:t}})]:[3,8];case 7:return i.sent(),e((0,y.Hn)(ee(W.id,t))),e((0,b.UF)((0,P.Z)(n,ee(W.id,t)))),[3,8];case 8:return R.ZP.success("Payment Slip Updated "),[3,10];case 9:return r=i.sent(),R.ZP.error(r),[3,10];case 10:return[2]}}))}));return function(){return t.apply(this,arguments)}}();return(0,Z.useEffect)((function(){t&&t.documents&&t.documents.length>0&&t.documents.find((function(e){e.title.toLowerCase()===g.Z.payment_proof.items[0].id&&(B(e),k(e.url),I(e.amount),F(e.utrNo))}))}),[t]),(0,c.jsxs)(c.Fragment,{children:[w?(0,c.jsx)(_.TV,{children:(0,c.jsx)(_.HI,{src:"object"==typeof w?URL.createObjectURL(w):w,children:(0,c.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof w?URL.createObjectURL(w):w,width:200})})}):null,W&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(p.Z,{variant:"h4",sx:{my:2},children:["Status :"," ",(0,c.jsx)("span",{style:{color:W?"APPROVED"===W.status?"limegreen":"REJECTED"===W.status&&"red":""},children:W&&W.status})]}),(0,c.jsx)(d.Z,{children:(null===t||void 0===t?void 0:t.kyc)!==A.Z.status.APPROVED&&(0,c.jsxs)(h.ZP,{children:[(0,c.jsx)(f.Z,{onClick:function(){return re(W.id,"APPROVED")},variant:"outlined",color:"success",children:"Approve"}),(0,c.jsx)(f.Z,{onClick:function(){return re(W.id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})})]}),w&&(null===t||void 0===t?void 0:t.kyc)!==A.Z.status.APPROVED&&(0,c.jsxs)(h.ZP,{container:!0,p:2,mt:2,ml:0,pl:0,gap:2,spacing:2,children:[(0,c.jsx)(m.Z,{id:"outlined",label:"UTR No.*",value:L,variant:"outlined",type:"number",onChange:function(e){F(e.target.value)}}),(0,c.jsx)(m.Z,{id:"outlined",label:"Amount*",value:V,variant:"outlined",type:"number",onChange:function(e){I(e.target.value)}}),(0,c.jsx)(h.ZP,{children:(0,c.jsx)(f.Z,{fullWidth:!0,disabled:!V||!L,variant:"contained",component:"label",onClick:function(){ie()},sx:{padding:"14px"},children:"Submit"})})]}),(0,c.jsxs)(h.ZP,{container:!0,p:2,pl:0,spacing:2,children:[W&&(null===t||void 0===t?void 0:t.kyc)!==A.Z.status.APPROVED&&(0,c.jsx)(h.ZP,{item:!0,xs:0,children:(0,c.jsxs)(f.Z,{variant:"contained",component:"label",children:["Select Payment Slip",(0,c.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(X(!0),k(e.target.files[0]),Y(!0))}})]})}),w&&(null===t||void 0===t?void 0:t.kyc)!==A.Z.status.APPROVED&&(0,c.jsx)(h.ZP,{item:!0,xs:2,children:(0,c.jsx)(f.Z,{fullWidth:!0,variant:"contained",disabled:!K,onClick:function(){se()},children:"Submit"})}),(0,c.jsx)(R.x7,{position:"bottom-center",reverseOrder:!1})]}),(0,c.jsx)(c.Fragment,{children:S.map((function(e,n){return(0,c.jsx)(O,{data:e,rowNo:v,user:t,documents:U(e.config.items)},n)}))})]})}},3664:function(e,t,n){"use strict";n.r(t),n.d(t,{rows:function(){return T}});var r=n(47568),i=n(26042),s=n(69396),a=n(828),u=n(29815),o=n(97582),c=n(85893),l=n(50319),d=n(37887),h=n(87357),f=n(86886),m=n(50135),p=n(11057),v=n(15861),x=n(53816),Z=n(53252),j=n(94054),g=n(47312),b=n(80788),y=n(30431),P=n(67294),E=n(16538),D=n(44709),R=n(21191),_=n(11213),C=n(81118),A=n(29792),S=n(8987),O=n(86501),U=n(71455),w=n(9473),k=n(34753),T=[{config:D.Z.project_payment}],V=function(e){var t=e.data,n=e.documents,s=void 0===n?[]:n,d=e.user,j=e.rowNo,g=e.getProjectName,b=e.isPaymentDocument,y=(0,P.useState)(g),D=y[0],R=y[1],_=(0,P.useState)([]),C=_[0],w=_[1],T=(0,P.useState)([]),V=T[0],I=T[1],N=(0,P.useState)(0),L=N[0],F=N[1],H=(0,P.useState)([]),W=H[0],B=H[1],J=(0,P.useState)(["","","",""]),G=J[0],Y=J[1],M=(0,P.useState)([null,null,null,null]),K=M[0],X=M[1];(0,P.useEffect)((function(){F(j),R(g)}),[j,g]);var q=(0,a.Z)((0,l.D)(E.rb),1)[0],z=(0,a.Z)((0,l.D)(E.ye),1)[0],Q=(0,a.Z)((0,l.D)(E.HF),1)[0],$=(0,P.useState)(!1),ee=$[0],te=$[1];(0,P.useEffect)((function(){var e=[],n=!0,r=!1,i=void 0;try{for(var a,u=s[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var o=a.value;e.push(o.url)}}catch(h){r=!0,i=h}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}w(e);var c=[null,null,null,null],l=["","","",""];Y(l),X(c),t.config.items.map((function(e){d.documents.map((function(t){t.title===D+e.id&&(c[parseInt(t.title.slice(16+D.length,17+D.length))-1]=t.amount||"",l[parseInt(t.title.slice(16+D.length,17+D.length))-1]=t.utrNo||"")}))})),Y(l),X(c)}),[s,d,D]);var ne=function(){var e=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){return[2]}))}));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,r.Z)((function(e,t){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,z({variables:{documentId:e,url:t}})];case 1:return[2,n.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}(),ie=function(){var e=(0,r.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<L?K[e]?[4,q({variables:{documentId:s[e].id,amount:parseInt(K[e]),utrNo:G[e]}})]:[3,3]:[3,4];case 2:t.sent(),O.ZP.success("Details Updated"),t.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),se=(function(){var e=(0,r.Z)((function(e,t){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Q({variables:{id:e,status:t}})];case 1:return r.sent()&&("APPROVED"===t?O.ZP.success("Document Status ".concat(t)):O.ZP.error("Document Status ".concat(t)),B((function(n){return(0,u.Z)(n).concat([{id:e,status:t}])}))),[3,3];case 2:return n=r.sent(),O.ZP.error(n.message),[3,3];case 3:return[2]}}))}))}(),function(e){var t=null;return null===W||void 0===W||W.map((function(n){e===n.id&&(t=n.status)})),t}),ae=function(){var e=(0,r.Z)((function(){var e,n,r;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:te(!0),a.label=1;case 1:a.trys.push([1,6,,7]),e=function(e){var n,r,a,c,l,h,f;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return V[e]?(n=t.config.items[e].id,[4,(0,A.Z)(C[e])]):[3,6];case 1:return r=o.sent(),a=s.find((function(e){if(e.title.toLowerCase()===n.toLowerCase())return!0})),(c=d.documents)||(c=[]),a?[4,re(a.id,r)]:[3,3];case 2:return l=o.sent(),O.ZP.success("".concat(n," Uploaded")),(h=c.filter((function(e){return e.id}))).push(l.data.updateDocument),c=h,[3,5];case 3:return[4,ne()];case 4:f=o.sent(),O.ZP.success("".concat(n," Uploaded")),c=(0,u.Z)(c).concat([f.data.createDocument]),o.label=5;case 5:(0,i.Z)({},d).documents=c,o.label=6;case 6:return[2]}}))},n=0,a.label=2;case 2:return n<L?[5,(0,o.__values)(e(n))]:[3,5];case 3:a.sent(),a.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:return r=a.sent(),console.log("error",r),[3,7];case 7:return te(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return b?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(v.Z,{sx:{fontWeight:"bold",marginTop:5},children:[t.config.name," ",t.isOptional?"(Optional)":""]}),(0,c.jsxs)(x.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,c.jsx)(Z.Z,{width:300,children:function(){for(var e=[],t=0;t<L;t++){var n=C[t];n&&e.push((0,c.jsx)("div",{style:{marginTop:15},children:(0,c.jsx)(U.TV,{children:(0,c.jsx)(U.HI,{src:"object"==typeof n?URL.createObjectURL(n):n,children:(0,c.jsx)("img",{src:"object"==typeof n?URL.createObjectURL(n):n,height:150,style:{marginLeft:"5px"}})})})}))}return 0==e.length?(0,c.jsx)(v.Z,{variant:"subtitle1",children:"No Document"}):e}()}),(null===d||void 0===d?void 0:d.kyc)!==k.Z.status.APPROVED&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Z.Z,{style:{},children:function(){for(var e=function(e){var t,i,a,o,l=(0,u.Z)(K),v=(0,u.Z)(G);n.push((0,c.jsxs)("div",{style:{height:160,marginTop:10},children:[(0,c.jsxs)("div",{style:{marginBottom:10},children:["Status:"," ",(0,c.jsx)("span",{style:{color:"APPROVED"===se(null===(t=s[e])||void 0===t?void 0:t.id)?"limegreen":"REJECTED"===se(null===(i=s[e])||void 0===i?void 0:i.id)?"red":s[e]?"APPROVED"===s[e].status?"limegreen":"REJECTED"===s[e].status&&"red":""},children:se(null===(a=s[e])||void 0===a?void 0:a.id)||(null===(o=s[e])||void 0===o?void 0:o.status)})]}),(0,c.jsx)(h.Z,{sx:{display:"flex",justifyContent:"center",marginBottom:"10px"},children:(null===d||void 0===d?void 0:d.kyc)!==k.Z.status.APPROVED&&(0,c.jsxs)(f.ZP,{children:[(0,c.jsx)(m.Z,{sx:{width:120},id:"outlined",label:"UTR No.*",value:G[e],variant:"outlined",type:"number",onChange:function(t){t.target.value?v[e]=t.target.value:v[e]=null,Y(v)}}),(0,c.jsx)(m.Z,{sx:{width:120,ml:2},id:"outlined",label:"Amount*",value:K[e],variant:"outlined",type:"number",onChange:function(t){t.target.value?l[e]=parseInt(t.target.value):l[e]=null,X(l)}})]})}),(0,c.jsxs)(p.Z,{fullWidth:!0,style:{marginTop:"10px"},component:"label",children:["Choose ",r[e].name,(0,c.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(t){if(t.target.files.length>0){var n=(0,u.Z)(C);n[e]=t.target.files[0],w(n);var r=(0,u.Z)(V);r[e]=!0,I(r)}}})]})]}))},n=[],r=t.config.items,i=0;i<L;i++)e(i);return n}()}),(0,c.jsx)(Z.Z,{children:(0,c.jsx)(S.Z,{loading:ee,variant:"contained",onClick:function(){ae(),ie()},children:"Update"})})]})]},t.config.name)]}):(0,c.jsxs)(c.Fragment,{children:[(null===d||void 0===d?void 0:d.name)?d.name+" is ":d.rm_id+" is ","not Enrolled in this Project"]})};t.default=function(e){var t=e.to,n=(0,w.I0)(),u=(0,w.v9)((function(e){return e.foundUser.foundUser})),x=(0,w.v9)((function(e){return e.allUsers.allTheUsers})),Z=(0,P.useState)(0),D=Z[0],S=Z[1],I=(0,P.useState)("hajipur_"),N=I[0],L=I[1],F=(0,P.useState)(""),H=F[0],W=F[1],B=(0,P.useState)(),J=B[0],G=B[1],Y=(0,P.useState)(),M=Y[0],K=Y[1],X=(0,P.useState)(),q=X[0],z=X[1],Q=(0,P.useState)(!1),$=Q[0],ee=Q[1],te=(0,P.useState)(!1),ne=te[0],re=te[1],ie=(0,d.a)(E.t2,{variables:{UserID:u.id}}).data;(0,P.useEffect)((function(){}),[ie]);var se=(0,a.Z)((0,l.D)(E.rb),1)[0],ae=(0,a.Z)((0,l.D)(E.ye),1)[0],ue=(0,a.Z)((0,l.D)(E.HF),1)[0],oe=function(e){var t=(0,w.v9)((function(e){return e.foundUser.foundUser})),n=[];if(t&&t.documents){var r=!0,i=!1,s=void 0;try{for(var a,u=function(){var e=a.value,r=t.documents.find((function(t){if(t.title.toLowerCase()===N+e.id.toLowerCase())return!0}));r&&n.push(r)},o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)u()}catch(c){i=!0,s=c}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}}return n},ce=function(){var e=(0,r.Z)((function(){var e;return(0,o.__generator)(this,(function(t){return e=0,u.documents.map((function(t){t.title.slice(0,16+N.length)===N+T[0].config.items[0].id.slice(0,-1)&&(e+=1)})),S(e),[2]}))}));return function(){return e.apply(this,arguments)}}();(0,P.useEffect)((function(){ce()}),[N]);var le=function(e,t){var n=u,r=[];return u.documents.map((function(n){n.id===e?r.push((0,s.Z)((0,i.Z)({},n),{url:t})):r.push(n)})),(0,s.Z)((0,i.Z)({},n),{documents:r})},de=function(e,t,n){var r=u,a=[];return u.documents.map((function(r){r.id===e?a.push((0,s.Z)((0,i.Z)({},r),{amount:t,urtNo:n})):a.push(r)})),(0,s.Z)((0,i.Z)({},r),{documents:a})},he=function(e,t){var n=u,r=[];return u.documents.map((function(n){n.id===e?r.push((0,s.Z)((0,i.Z)({},n),{status:t})):r.push(n)})),(0,s.Z)((0,i.Z)({},n),{documents:r})},fe=(function(){var e=(0,r.Z)((function(e,t){return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,ue({variables:{id:e,status:t}})];case 1:return r.sent(),n((0,_.Hn)(he(q.id,t))),n((0,R.UF)((0,C.Z)(x,he(q.id,t)))),[2]}}))}))}(),function(){var e=(0,r.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,se({variables:{documentId:q.id,amount:parseInt(J),utrNo:M}})];case 1:return t.sent(),n((0,_.Hn)(de(q.id,parseInt(J),M))),n((0,R.UF)((0,C.Z)(x,de(q.id,parseInt(J),M)))),O.ZP.success("Details Updated"),[3,3];case 2:return e=t.sent(),O.ZP.error(e),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}()),me=function(){var e=(0,r.Z)((function(){var e,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,9,,10]),e="",!$)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,A.Z)(H)];case 2:return e=r.sent(),[3,4];case 3:return r.sent(),O.ZP.error("Error, Try Again!"),[3,4];case 4:return[3,6];case 5:e=H,r.label=6;case 6:return q?[4,ae({variables:{documentId:q.id,url:e}})]:[3,8];case 7:return r.sent(),n((0,_.Hn)(le(q.id,e))),n((0,R.UF)((0,C.Z)(x,le(q.id,e)))),[3,8];case 8:return O.ZP.success("Payment Slip Updated "),[3,10];case 9:return t=r.sent(),O.ZP.error(t),[3,10];case 10:return[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,P.useEffect)((function(){z(null),W(null),G(null),K(null),u&&u.documents&&u.documents.length>0&&u.documents.find((function(e){e.title.toLowerCase()===N+T[0].config.id&&(z(e),e.url?W(e.url):W(""),e.amount?G(e.amount):G(""),e.utrNo?K(e.utrNo):K(""))}))}),[u,N]);return(0,P.useEffect)((function(){t&&L(t+"_")}),[t]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h.Z,{width:150,children:(0,c.jsxs)(j.Z,{variant:"outlined",fullWidth:!0,children:[(0,c.jsx)(g.Z,{children:"Project"}),(0,c.jsx)(b.Z,{value:N,onChange:function(e){return L(e.target.value)},label:"Project",autoWidth:!0,children:[{id:"hajipur_",name:"Hajipur"},{id:"agra_",name:"Agra"}].map((function(e){return(0,c.jsx)(y.Z,{value:e.id,children:e.name},e.id)}))})]})}),H?(0,c.jsx)(U.TV,{children:(0,c.jsx)(U.HI,{src:"object"==typeof H?URL.createObjectURL(H):H,children:(0,c.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof H?URL.createObjectURL(H):H,width:200})})}):null,q&&(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(v.Z,{variant:"h4",sx:{my:2},children:["Status :"," ",(0,c.jsx)("span",{style:{color:q?"APPROVED"===q.status?"limegreen":"REJECTED"===q.status&&"red":""},children:q&&q.status})]})}),H&&(null===u||void 0===u?void 0:u.kyc)!==k.Z.status.APPROVED&&(0,c.jsxs)(f.ZP,{container:!0,p:2,mt:2,ml:0,pl:0,gap:2,spacing:2,children:[(0,c.jsx)(m.Z,{id:"outlined",label:"UTR No.*",value:M,variant:"outlined",type:"number",onChange:function(e){K(e.target.value)}}),(0,c.jsx)(m.Z,{id:"outlined",label:"Amount*",value:J,variant:"outlined",type:"number",onChange:function(e){G(e.target.value)}}),(0,c.jsx)(f.ZP,{children:(0,c.jsx)(p.Z,{fullWidth:!0,disabled:!J&&!M,variant:"contained",component:"label",onClick:function(){fe()},sx:{padding:"14px"},children:"Submit"})})]}),(0,c.jsxs)(f.ZP,{container:!0,p:2,pl:0,spacing:2,children:[q&&(null===u||void 0===u?void 0:u.kyc)!==k.Z.status.APPROVED&&(0,c.jsx)(f.ZP,{item:!0,xs:12,sm:4,children:(0,c.jsxs)(p.Z,{variant:"contained",component:"label",children:["Select Payment Slip",(0,c.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(re(!0),W(e.target.files[0]),ee(!0))}})]})}),q&&(null===u||void 0===u?void 0:u.kyc)!==k.Z.status.APPROVED&&(0,c.jsx)(f.ZP,{item:!0,xs:2,children:(0,c.jsx)(p.Z,{fullWidth:!0,variant:"contained",disabled:!ne,onClick:function(){me()},children:"Submit"})}),(0,c.jsx)(O.x7,{position:"bottom-center",reverseOrder:!1})]}),(0,c.jsx)(c.Fragment,{children:T.map((function(e,t){return(0,c.jsx)(V,{data:e,rowNo:D,isPaymentDocument:q,user:u,getProjectName:N,documents:oe(e.config.items)},t)}))})]})}},61037:function(e,t,n){"use strict";n.r(t);var r=n(85893),i=n(91875),s=n(41294),a=n(9395),u=n(9008),o=n.n(u),c=n(11163),l=n(67294),d=(n(32426),n(37652)),h=n(11213),f=n(90948),m=n(87357),p=n(53156),v=n(88409),x=n(40044),Z=n(66242),j=n(86886),g=n(43725),b=n(9473),y=n(643),P=n(83778),E=n(8463),D=n(22059),R=n(67190),_=n(3664),C=n(88423),A=(0,f.ZP)(m.Z)((function(e){var t=e.theme;return"\n      padding: 0 ".concat(t.spacing(2),";\n      position: relative;\n      bottom: -1px;\n\n      .MuiTabs-root {\n        height: 44px;\n        min-height: 44px;\n      }\n\n      .MuiTabs-scrollableX {\n        overflow-x: auto !important;\n      }\n\n      .MuiTabs-indicator {\n          min-height: 4px;\n          height: 4px;\n          box-shadow: none;\n          bottom: -4px;\n          background: none;\n          border: 0;\n\n          &:after {\n            position: absolute;\n            left: 50%;\n            width: 28px;\n            content: ' ';\n            margin-left: -14px;\n            background: ").concat(t.colors.primary.main,";\n            border-radius: inherit;\n            height: 100%;\n          }\n      }\n\n      .MuiTab-root {\n          &.MuiButtonBase-root {\n              height: 44px;\n              min-height: 44px;\n              background: ").concat(t.colors.alpha.white[50],";\n              border: 1px solid ").concat(t.colors.alpha.black[10],";\n              border-bottom: 0;\n              position: relative;\n              margin-right: ").concat(t.spacing(1),";\n              font-size: ").concat(t.typography.pxToRem(14),";\n              color: ").concat(t.colors.alpha.black[80],";\n              border-bottom-left-radius: 0;\n              border-bottom-right-radius: 0;\n\n              .MuiTouchRipple-root {\n                opacity: .1;\n              }\n\n              &:after {\n                position: absolute;\n                left: 0;\n                right: 0;\n                width: 100%;\n                bottom: 0;\n                height: 1px;\n                content: '';\n                background: ").concat(t.colors.alpha.black[10],";\n              }\n\n              &:hover {\n                color: ").concat(t.colors.alpha.black[100],";\n              }\n          }\n\n          &.Mui-selected {\n              color: ").concat(t.colors.alpha.black[100],";\n              background: ").concat(t.colors.alpha.white[100],";\n              border-bottom-color: ").concat(t.colors.alpha.white[100],";\n\n              &:after {\n                height: 0;\n              }\n          }\n      }\n  ")}));function S(){var e=(0,c.useRouter)(),t=(0,b.I0)(),n=(0,b.v9)((function(e){return e.allUsers.allTheUsers})),a=e.query.index,u=n.find((function(e){return e.id===a}));(0,l.useEffect)((function(){u&&t((0,h.Hn)(u))}),[]);var f=(0,l.useState)("basicInfo"),S=f[0],O=f[1];return(0,l.useEffect)((function(){e.query.payment&&O("projects")}),[]),(0,r.jsxs)(g.default,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"KYC Agency Dashboard"})}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(s.Z,{})}),(0,r.jsxs)(p.Z,{maxWidth:!1,children:[(0,r.jsx)(A,{children:(0,r.jsx)(v.Z,{onChange:function(e,t){O(t)},value:S,variant:"scrollable",scrollButtons:"auto",textColor:"primary",indicatorColor:"primary",children:[{value:"basicInfo",label:"Basic Info"},{value:"payment",label:"Payment"},{value:"projects",label:"Projects"},{value:"documents",label:"Documents"},{value:"nominee",label:"Nominee"},{value:"demat",label:"Demat Account Details"}].map((function(e){return(0,r.jsx)(x.Z,{label:e.label,value:e.value},e.value)}))})}),(0,r.jsx)(Z.Z,{variant:"outlined",children:(0,r.jsxs)(j.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:0,children:["basicInfo"===S&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(E.default,{})})}),"payment"===S&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(R.default,{})})}),"upgradeKyc"===S&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(C.default,{})})}),"projects"===S&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(_.default,{to:e.query.payment})})}),"documents"===S&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(P.default,{})})}),"nominee"===S&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(D.default,{})})}),"demat"===S&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(y.default,{})})})]})})]}),(0,r.jsx)(i.Z,{})]})}S.getLayout=function(e){return(0,r.jsx)(a.Z,{children:e})},t.default=S},88423:function(e,t,n){"use strict";n.r(t);var r=n(85893),i=n(91875),s=n(9395),a=n(53156),u=n(66242),o=n(78445),c=n(86886),l=n(87357),d=n(9008),h=n.n(d),f=n(43725),m=n(19417);function p(){return(0,r.jsxs)(f.default,{children:[(0,r.jsx)(h(),{children:(0,r.jsx)("title",{children:"KYC Dashboard"})}),(0,r.jsx)(a.Z,{maxWidth:!1,sx:{mt:2,pb:2},children:(0,r.jsxs)(u.Z,{variant:"outlined",sx:{pb:2},children:[(0,r.jsx)(o.Z,{title:"UPGRADE TO ADVANCE",sx:{ml:2,textTransform:"uppercase"}}),(0,r.jsx)(c.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:0,children:(0,r.jsx)(c.ZP,{item:!0,xs:12,children:(0,r.jsx)(l.Z,{px:4,children:(0,r.jsx)(m.default,{})})})})]})}),(0,r.jsx)(i.Z,{})]})}p.getLayout=function(e){return(0,r.jsx)(s.Z,{children:e})},t.default=p},43725:function(e,t,n){"use strict";n.r(t);var r=n(85893);t.default=function(e){var t=e.children;return(0,r.jsx)(r.Fragment,{children:t})}},91875:function(e,t,n){"use strict";var r=n(85893),i=n(90948),s=n(53156),a=n(87357),u=n(15861),o=(0,i.ZP)(s.Z)((function(e){var t=e.theme;return"\n        margin-top: ".concat(t.spacing(4),";\n")}));t.Z=function(){return(0,r.jsx)(o,{className:"footer-wrapper",children:(0,r.jsxs)(a.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,r.jsx)(a.Z,{}),(0,r.jsx)(u.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1"})]})})}},37652:function(e,t,n){"use strict";var r=n(85893),i=n(45697),s=n.n(i),a=n(90948),u=n(87357),o=n(53156),c=(0,a.ZP)(u.Z)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4),";\n")})),l=function(e){var t=e.children;return(0,r.jsx)(c,{className:"MuiPageTitle-wrapper",children:(0,r.jsx)(o.Z,{maxWidth:!1,children:t})})};l.propTypes={children:s().node.isRequired},t.Z=l},41294:function(e,t,n){"use strict";var r=n(47568),i=n(14924),s=n(828),a=n(97582),u=n(85893),o=n(26183),c=n(2734),l=n(87357),d=n(15861),h=n(71236),f=n(11057),m=n(50657),p=n(37645),v=n(6514),x=n(58951),Z=n(31425),j=n(50319),g=n(86501),b=n(7500),y=n(16538),P=n(9473),E=n(11163),D=n(67294),R=n(34753);t.Z=function(){var e=(0,o.C)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.data})),t=(0,c.Z)(),n=(0,s.Z)((0,j.D)(y.QX),1)[0],_=(0,D.useState)(""),C=_[0],A=_[1],S=(0,D.useState)(""),O=S[0],U=S[1],w=(0,P.v9)((function(e){return e.foundUser.foundUser})),k=(0,E.useRouter)(),T=(0,D.useState)(!1),V=T[0],I=T[1],N=function(){I(!0)},L=function(){I(!1)},F=function(){var e=(0,r.Z)((function(){var e;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,n({variables:{id:w.id,kyc:O}})];case 1:return e=t.sent(),L(),"APPROVED"===O&&g.ZP.success("KYC APPROVED"),"REJECTED"===O&&g.ZP.error("KYC REJECTED"),"ONGOING"===O&&g.ZP.success("KYC ONGOING"),A(e.data.updateStatus.kyc),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:["/dashboard"===k.pathname&&(0,u.jsxs)(l.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,u.jsx)(l.Z,{display:"flex",alignItems:"center",children:(0,u.jsxs)(l.Z,{children:[(0,u.jsxs)(d.Z,{variant:"h3",component:"h3",gutterBottom:!0,sx:(0,i.Z)({},t.breakpoints.down("sm"),{fontSize:20}),children:["Welcome, ",(null===e||void 0===e?void 0:e.name)?null===e||void 0===e?void 0:e.name:null===e||void 0===e?void 0:e.rm_id,"!"]}),(0,u.jsxs)(d.Z,{variant:"h5",component:"h5",align:"left",children:["Share Holder Type :"," ",(0,u.jsx)(h.Z,{badgeContent:null===e||void 0===e?void 0:e.membership,sx:{marginLeft:4},color:"success"})]}),(0,u.jsx)(d.Z,{variant:"subtitle2",mt:1,sx:(0,i.Z)({},t.breakpoints.down("sm"),{fontSize:12}),children:"APPROVED"===(null===e||void 0===e?void 0:e.kyc)?"Your KYC has been Approved":"Complete Your KYC By Filling the form below"})]})}),(0,u.jsxs)(l.Z,{mt:{xs:3,md:0},children:[(0,u.jsxs)(d.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:["Status :"," ",(0,u.jsx)("span",{style:{color:(null===e||void 0===e?void 0:e.kyc)?"APPROVED"===(null===e||void 0===e?void 0:e.kyc)?"green":"REJECTED"===(null===e||void 0===e?void 0:e.kyc)&&"red":""},children:"NOT_INITIALIZED"===(null===e||void 0===e?void 0:e.kyc)?"NOT STARTED":null===e||void 0===e?void 0:e.kyc})]})," "]})]}),"/agency/[index]"===k.pathname&&(0,u.jsxs)(l.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,u.jsxs)(l.Z,{display:"flex",alignItems:"center",children:[(0,u.jsx)(d.Z,{variant:"h3",component:"h3",sx:{textTransform:"uppercase"},gutterBottom:!0,children:"Agency Dashboard"}),(0,u.jsx)(d.Z,{variant:"subtitle2",children:(0,u.jsx)(b.C,{href:"/agency",children:(0,u.jsx)(f.Z,{variant:"outlined",color:"primary",sx:{ml:2},children:"USERLIST"})})})]}),"/agency/[index]"===k.pathname&&(0,u.jsxs)(l.Z,{margin:" 0 0 0 auto",children:[(0,u.jsx)(l.Z,{children:(0,u.jsx)(d.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:(0,u.jsxs)("span",{style:{color:C?("APPROVED"===C?"green":"REJECTED"===C&&"red")||"ONGOING"===C&&"orange"||"AGENT_APPROVED"===C&&"green":("APPROVED"===w.kyc?"green":"REJECTED"===w.kyc&&"red")||"ONGOING"===w.kyc&&"orange"||"AGENT_APPROVED"===w.kyc&&"green"},children:["Status :"," ",C?("AGENT_APPROVED"===C?"AGENT APPROVED":"NOT_INITIALIZED"===C&&"NOT INITIALIZED")||C:(null===w||void 0===w?void 0:w.kyc)?"AGENT_APPROVED"===(null===w||void 0===w?void 0:w.kyc)?"AGENT APPROVED":null===w||void 0===w?void 0:w.kyc:"UNKNOWN"]})})}),w.kyc!==R.Z.status.APPROVED&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f.Z,{onClick:function(){N(),U("AGENT_APPROVED")},variant:"outlined",disabled:!function(){var e,t,n,r=!1,i=!1,s=!1,a=!1,u=!1,o=!1,c=!1,l=!1,d=!1;return(null===w||void 0===w?void 0:w.name)&&(null===w||void 0===w?void 0:w.email)&&(null===w||void 0===w?void 0:w.mobile_number)&&(null===w||void 0===w?void 0:w.date_of_birth)&&(null===w||void 0===w||null===(e=w.nominee)||void 0===e?void 0:e.name)&&(null===w||void 0===w||null===(t=w.nominee)||void 0===t?void 0:t.relationship)&&(null===w||void 0===w?void 0:w.demat_account)&&(r=!0),null===w||void 0===w||null===(n=w.documents)||void 0===n||n.map((function(e){e.title.includes("payment_proof")&&e.status===R.Z.status.APPROVED&&(i=!0),e.title.includes("avatar")&&e.status===R.Z.status.APPROVED&&(s=!0),e.title.includes("aadhar_front")&&e.status===R.Z.status.APPROVED&&(a=!0),e.title.includes("aadhar_back")&&e.status===R.Z.status.APPROVED&&(u=!0),e.title.includes("pancard")&&e.status===R.Z.status.APPROVED&&(o=!0),e.title.includes("passbook")&&e.status===R.Z.status.APPROVED&&(c=!0),e.title.includes("nominee_aadhar_front")&&e.status===R.Z.status.APPROVED&&(l=!0),e.title.includes("demat")&&e.status===R.Z.status.APPROVED&&(d=!0)})),r&&i&&s&&a&&u&&o&&c&&l&&d}(),color:"success",sx:{ml:2},children:"Approve"}),(0,u.jsx)(f.Z,{onClick:function(){N(),U("REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]}),(0,u.jsx)("div",{children:(0,u.jsxs)(m.Z,{open:V,onClose:L,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,u.jsx)(p.Z,{id:"alert-dialog-title",children:"Submit KYC Status"}),(0,u.jsx)(v.Z,{children:(0,u.jsxs)(x.Z,{id:"alert-dialog-description",children:["KYC Status will be set to ",O,"."]})}),(0,u.jsxs)(Z.Z,{children:[(0,u.jsx)(f.Z,{onClick:L,children:"Dismiss"}),(0,u.jsx)(f.Z,{onClick:F,autoFocus:!0,children:"Submit"})]})]})})]}),(0,u.jsx)(l.Z,{mt:{xs:3,md:0}})]})]})}},81118:function(e,t){"use strict";t.Z=function(e,t){var n=[];return e.map((function(e){t.id===(null===e||void 0===e?void 0:e.id)?n.push(t):n.push(e)})),n}}},function(e){e.O(0,[2005,1385,400,9260,9213,4753,6827,6549,7305,7058,788,8584,1664,8415,5571,7924,8764,886,5121,6572,4850,2659,6376,1477,7053,9395,9417,9774,2888,179],(function(){return t=14014,e(e.s=t);var t}));var t=e.O();_N_E=t}]);