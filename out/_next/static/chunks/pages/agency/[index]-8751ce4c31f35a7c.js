(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8846],{66242:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(87462),i=n(63366),s=n(67294),a=n(93680),o=n(94780),u=n(90948),l=n(71657),c=n(55113),d=n(34867);function h(e){return(0,d.Z)("MuiCard",e)}(0,n(1588).Z)("MuiCard",["root"]);var f=n(85893);const m=["className","raised"],p=(0,u.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"})));var v=s.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiCard"}),{className:s,raised:u=!1}=n,c=(0,i.Z)(n,m),d=(0,r.Z)({},n,{raised:u}),v=(e=>{const{classes:t}=e;return(0,o.Z)({root:["root"]},h,t)})(d);return(0,f.jsx)(p,(0,r.Z)({className:(0,a.Z)(v.root,s),elevation:u?8:void 0,ref:t,ownerState:d},c))}))},14014:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agency/[index]",function(){return n(61037)}])},643:function(e,t,n){"use strict";n.r(t);var r=n(47568),i=n(26042),s=n(69396),a=n(828),o=n(97582),u=n(85893),l=n(16538),c=n(44709),d=n(34753),h=n(21191),f=n(11213),m=n(81118),p=n(29792),v=n(50319),x=n(8987),Z=n(86886),j=n(50135),g=n(87357),b=n(11057),y=n(67294),P=n(86501),E=n(71455),D=n(9473);t.default=function(){var e=(0,D.I0)(),t=(0,D.v9)((function(e){return e.foundUser.foundUser})),n=(0,D.v9)((function(e){return e.allUsers.allTheUsers})),R=(0,y.useState)(null),_=R[0],A=R[1],C=(0,y.useState)(null),S=C[0],O=C[1],U=(0,y.useState)(),k=U[0],w=U[1],T=(0,y.useState)(!1),N=T[0],V=T[1],I=(0,y.useState)(!1),F=I[0],L=I[1],H=(0,y.useState)(!1),B=H[0],W=H[1],J=(0,a.Z)((0,v.D)(l.p1),1)[0],G=(0,a.Z)((0,v.D)(l.HF),2),M=G[0],K=G[1].data,Y=function(e,n,r){var a=t,o=[];return t.documents.map((function(t){t.id===e?o.push((0,s.Z)((0,i.Z)({},t),{url:n})):o.push(t)})),(0,s.Z)((0,i.Z)({},a),{documents:o,demat_account:r})},X=function(e,n){var r=t,a=[];return t.documents.map((function(t){t.id===e?a.push((0,s.Z)((0,i.Z)({},t),{status:n})):a.push(t)})),(0,s.Z)((0,i.Z)({},r),{documents:a})},q=function(){var t=(0,r.Z)((function(t,r){return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,M({variables:{id:t,status:r}})];case 1:return i.sent(),e((0,f.Hn)(X(k.id,r))),e((0,h.UF)((0,m.Z)(n,X(k.id,r)))),[2]}}))}));return function(e,n){return t.apply(this,arguments)}}(),z=function(){var a=(0,r.Z)((function(){var r,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(r=function(e){return!!e||(alert("Invalid Image"),!1)}(S),!r)return[2];L(!0),o.label=1;case 1:return o.trys.push([1,9,,10]),_?[4,J({variables:{id:t.id,demat_account:_}})]:[3,3];case 2:o.sent(),e((0,f.Hn)((0,s.Z)((0,i.Z)({},t),{demat_account:_}))),e((0,h.UF)((0,m.Z)(n,(0,s.Z)((0,i.Z)({},t),{demat_account:_})))),o.label=3;case 3:return a="",N?[4,(0,p.Z)(S)]:[3,5];case 4:return a=o.sent(),[3,6];case 5:a=S,o.label=6;case 6:return k?[4,J({variables:{id:t.id,documentId:k.id,url:a}})]:[3,8];case 7:return o.sent(),e((0,f.Hn)(Y(k.id,a,_))),e((0,h.UF)((0,m.Z)(n,Y(k.id,a,_)))),P.ZP.success("Demat Details Updated "),[3,8];case 8:return[3,10];case 9:return o.sent(),[3,10];case 10:return L(!1),[2]}}))}));return function(){return a.apply(this,arguments)}}();return(0,y.useEffect)((function(){t&&A(t.demat_account),t&&t.documents&&t.documents.length>0&&t.documents.find((function(e){e.title.toLowerCase()===c.Z.demat_document.items[0].id&&(w(e),O(e.url))}))}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,u.jsx)(j.Z,{id:"outlined",label:"Demat Account No.",type:"text",fullWidth:!0,disabled:(null===t||void 0===t?void 0:t.kyc)===d.Z.status.APPROVED,value:_,variant:"outlined",onChange:function(e){A(e.target.value),W(!0)}})}),S&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(E.TV,{children:(0,u.jsx)(E.HI,{src:"object"==typeof S?URL.createObjectURL(S):S,children:(0,u.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof S?URL.createObjectURL(S):S,height:200,width:200})})}),(0,u.jsxs)(g.Z,{children:["Status :"," ",(0,u.jsx)("span",{style:{color:k?"APPROVED"===k.status?"limegreen":"REJECTED"===k.status&&"red":""},children:K?K.updateDocumentStatusByAdmin.status:k?k.status:null})]}),(0,u.jsx)(g.Z,{children:(null===t||void 0===t?void 0:t.kyc)!==d.Z.status.APPROVED&&(0,u.jsxs)(Z.ZP,{children:[(0,u.jsx)(b.Z,{onClick:function(){return q(k.id,"APPROVED")},variant:"outlined",color:"success",children:"Approve"}),(0,u.jsx)(b.Z,{onClick:function(){return q(k.id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})})]}),(null===t||void 0===t?void 0:t.kyc)!==d.Z.status.APPROVED&&(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(Z.ZP,{container:!0,pt:3,pb:2,pr:2,spacing:2,children:[S&&(0,u.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:(0,u.jsxs)(b.Z,{variant:"contained",component:"label",children:["Upload Demat Account Details",(0,u.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(O(e.target.files[0]),V(!0),W(!0))}})]})}),(0,u.jsx)(Z.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:(0,u.jsx)(g.Z,{component:"form",children:(0,u.jsx)(x.Z,{loading:F,fullWidth:!0,disabled:!B,variant:"contained",onClick:function(){z()},sx:{paddingX:20.5},children:"Submit"})})}),(0,u.jsx)(P.x7,{position:"bottom-right",reverseOrder:!1})]})}),(0,u.jsx)(Z.ZP,{item:!0,xs:4})]})}},83778:function(e,t,n){"use strict";n.r(t);var r=n(47568),i=n(14924),s=n(26042),a=n(69396),o=n(828),u=n(29815),l=n(82222),c=n(97582),d=n(85893),h=n(16538),f=n(44709),m=n(34753),p=n(21191),v=n(11213),x=n(81118),Z=n(29792),j=n(50319),g=n(8987),b=n(2734),y=n(11057),P=n(87357),E=n(15861),D=n(55113),R=n(7906),_=n(295),A=n(53252),C=n(72882),S=n(53184),O=n(53816),U=(n(68680),n(3924),n(72484),n(67294)),k=n(86501),w=n(71455),T=n(9473),N=[{config:f.Z.avatar,status:-1},{config:f.Z.aadhar,status:-1},{config:f.Z.pancard,status:-1},{config:f.Z.passbook,status:-1},{config:f.Z.voterId,status:-1,isOptional:!0},{config:f.Z.driving_license,status:-1,isOptional:!0}],V=function(e){var t=e.user,n=e.data,f=e.documents,D=void 0===f?[]:f,R=(0,b.Z)(),_=(0,T.v9)((function(e){return e.allUsers.allTheUsers})),C=(0,T.I0)(),S=(0,U.useState)([]),N=S[0],V=S[1],I=(0,U.useState)([]),F=I[0],L=I[1],H=(0,o.Z)((0,j.D)(h.p1),1)[0],B=(0,o.Z)((0,j.D)(h.HF),1)[0],W=(0,U.useState)(!1),J=W[0],G=W[1],M=function(e,n){var r=t,i=[];return t.documents.map((function(t){t.id===e?i.push((0,a.Z)((0,s.Z)({},t),{status:n})):i.push(t)})),(0,a.Z)((0,s.Z)({},r),{documents:i})},K=function(e,n){var r=t,i=[];return t.documents.map((function(t){t.id===e?i.push((0,a.Z)((0,s.Z)({},t),{url:n})):i.push(t)})),(0,a.Z)((0,s.Z)({},r),{documents:i})};(0,U.useEffect)((function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,s=D[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var a=i.value;e.push(a.url)}}catch(o){n=!0,r=o}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}V(e)}),[D]);var Y=function(){var e=(0,r.Z)((function(e,t){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,B({variables:{id:e,status:t}})];case 1:return n.sent(),C((0,v.Hn)(M(e,t))),C((0,p.UF)((0,x.Z)(_,M(e,t)))),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=(0,r.Z)((function(e,n,r){return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return[4,H({variables:{id:t.id,documentId:e,url:r}})];case 1:return i.sent(),C((0,v.Hn)(K(e,r))),C((0,p.UF)((0,x.Z)(_,K(e,r)))),k.ZP.success("".concat(n," Updated")),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),q=function(){var e=(0,r.Z)((function(){var e,t,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:G(!0),i.label=1;case 1:i.trys.push([1,6,,7]),e=function(e){var t,r,i;return(0,c.__generator)(this,(function(s){switch(s.label){case 0:return F[e]?(t=n.config.items[e].id,[4,(0,Z.Z)(N[e])]):[3,3];case 1:return r=s.sent(),(i=D.find((function(e){if(e.title.toLowerCase()===t.toLowerCase())return!0})))?[4,X(i.id,t,r)]:[3,3];case 2:return s.sent(),[3,3];case 3:return[2]}}))},t=0,i.label=2;case 2:return t<F.length?[5,(0,c.__values)(e(t))]:[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[3,7];case 6:return r=i.sent(),console.log("error",r),[3,7];case 7:return G(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,d.jsxs)(O.Z,{sx:(0,i.Z)({"&:last-child td, &:last-child th":{border:0}},R.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,d.jsxs)(A.Z,{component:"th",scope:"row",children:[n.config.name," ",n.isOptional?"(Optional)":""]}),(0,d.jsx)(A.Z,{children:function(){for(var e=[],t=n.config.items,r=0;r<t.length;r++){var i=N[r];i&&e.push((0,d.jsx)(w.TV,{children:(0,d.jsx)(w.HI,{src:"object"==typeof i?URL.createObjectURL(i):i,children:(0,d.jsx)("img",{src:"object"==typeof i?URL.createObjectURL(i):i,height:100,style:{marginRight:"5px"},width:100})})}))}return 0==e.length?(0,d.jsx)(E.Z,{variant:"subtitle1",children:"No Document"}):e}()}),(0,d.jsx)(A.Z,{children:function(){for(var e=function(e){if(!D[e])return{v:void 0};r.push((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(y.Z,{component:"label",children:["Choose ",i[e].name,(0,d.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(t){if(t.target.files.length>0){var n=(0,u.Z)(N);n[e]=t.target.files[0],V(n);var r=(0,u.Z)(F);r[e]=!0,L(r)}}})]}),(0,d.jsxs)(P.Z,{display:"flex",children:[(0,d.jsx)(y.Z,{onClick:function(){return Y(D[e].id,"APPROVED")},variant:"outlined",color:"success",children:"Approve"}),(0,d.jsx)(y.Z,{onClick:function(){return Y(D[e].id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})]}))},r=[],i=n.config.items,s=0;s<i.length;s++){var a=e(s);if("object"===(0,l.Z)(a))return a.v}if((null===t||void 0===t?void 0:t.kyc)!==m.Z.status.APPROVED)return r}()}),(0,d.jsx)(A.Z,{children:(0,d.jsx)(g.Z,{loading:J,disabled:!function(){var e=F.find((function(e){if(e)return!0}));if(N.length==n.config.items.length&&e)return!0}(),variant:"contained",onClick:function(){q()},children:"Upload"})}),(0,d.jsx)(A.Z,{children:(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:50},children:[(0,d.jsx)("span",{style:{color:D[0]?"APPROVED"===D[0].status?"limegreen":"REJECTED"===D[0].status&&"red":""},children:D[0]&&D[0].status}),D[1]&&(0,d.jsx)("span",{style:{color:D[1]?"APPROVED"===D[1].status?"limegreen":"REJECTED"===D[1].status&&"red":""},children:D[1]&&D[1].status})]})})]},n.config.name)};t.default=function(){var e=(0,T.v9)((function(e){return e.foundUser.foundUser})),t=function(t){var n=[];if(e&&e.documents){var r=!0,i=!1,s=void 0;try{for(var a,o=function(){var t=a.value,r=e.documents.find((function(e){if(e.title.toLowerCase()===t.id.toLowerCase())return!0}));r&&n.push(r)},u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)o()}catch(l){i=!0,s=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw s}}}return n};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(C.Z,{component:D.Z,children:[(0,d.jsxs)(R.Z,{"aria-label":"simple table",children:[(0,d.jsx)(S.Z,{children:(0,d.jsxs)(O.Z,{children:[(0,d.jsx)(A.Z,{children:"Document Name"}),(0,d.jsx)(A.Z,{children:"Preview"}),(0,d.jsx)(A.Z,{style:{padding:"0 0 0 2rem"},children:"Action"}),(0,d.jsx)(A.Z,{style:{padding:"0 0 0 0"},children:"Upload Action"}),(0,d.jsx)(A.Z,{children:"Status"})]})}),(0,d.jsx)(_.Z,{children:N.map((function(n,r){return(0,d.jsx)(V,{user:e,data:n,documents:t(n.config.items)},r)}))})]}),(0,d.jsx)(k.x7,{position:"bottom-center",reverseOrder:!1})]})})}},8463:function(e,t,n){"use strict";n.r(t);var r=n(47568),i=n(26042),s=n(69396),a=n(828),o=n(97582),u=n(85893),l=n(16538),c=n(34753),d=n(21191),h=n(11213),f=n(81118),m=n(50319),p=n(8987),v=n(86886),x=n(50135),Z=n(87357),j=n(67294),g=n(86501),b=n(9473);t.default=function(){var e=(0,b.I0)(),t=(0,b.v9)((function(e){return e.foundUser.foundUser})),n=(0,b.v9)((function(e){return e.allUsers.allTheUsers})),y=(0,j.useState)(""),P=y[0],E=y[1],D=(0,j.useState)(""),R=D[0],_=D[1],A=(0,j.useState)(!1),C=A[0],S=A[1],O=(0,j.useState)(""),U=O[0],k=O[1],w=(0,j.useState)(""),T=w[0],N=w[1],V=(0,j.useState)(""),I=V[0],F=V[1],L=(0,j.useState)(""),H=L[0],B=L[1],W=(0,j.useState)(""),J=W[0],G=W[1],M=(0,j.useState)(""),K=M[0],Y=M[1],X=(0,j.useState)(!1),q=X[0],z=X[1],Q=(0,a.Z)((0,m.D)(l.p1),1)[0],$=function(){var a=(0,r.Z)((function(){var r,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:z(!0),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Q({variables:{id:P,name:R,father_or_husband_name:U,date_of_birth:T,mobile_number:I,alternate_mobile_number:H,email:J}})];case 2:return o.sent(),g.Am.success("Details Updated"),r=(0,s.Z)((0,i.Z)({},t),{name:R,father_or_husband_name:U,date_of_birth:T,mobile_number:I,alternate_mobile_number:H,email:J}),e((0,h.Hn)(r)),e((0,d.UF)((0,f.Z)(n,r))),[3,4];case 3:return a=o.sent(),g.Am.error(a.message),[3,4];case 4:return z(!1),[2]}}))}));return function(){return a.apply(this,arguments)}}();return(0,j.useEffect)((function(){var e;t&&(E(t.id||""),_(t.name||""),N((null===t||void 0===t||null===(e=t.date_of_birth)||void 0===e?void 0:e.slice(0,10))||""),k(t.father_or_husband_name||""),F(t.mobile_number||""),B(t.alternate_mobile_number||""),G(t.email||""),Y(t.referralAgencyCode||""))}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(v.ZP,{container:!0,p:2,spacing:2,children:[(0,u.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,u.jsx)(x.Z,{id:"outlined",label:"Full Name*",disabled:(null===t||void 0===t?void 0:t.kyc)===c.Z.status.APPROVED,fullWidth:!0,value:R,variant:"outlined",onChange:function(e){_(e.target.value),S(!0)}})}),(0,u.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,u.jsx)(x.Z,{label:"Father's/Husband's Name*",variant:"outlined",disabled:(null===t||void 0===t?void 0:t.kyc)===c.Z.status.APPROVED,fullWidth:!0,value:U,onChange:function(e){k(e.target.value),S(!0)}})}),(0,u.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,u.jsx)(x.Z,{required:!0,hidden:!0,label:"Date of Birth",disabled:(null===t||void 0===t?void 0:t.kyc)===c.Z.status.APPROVED,variant:"outlined",fullWidth:!0,placeholder:"",value:T,onChange:function(e){N(e.target.value),S(!0)}})})]}),(0,u.jsxs)(v.ZP,{container:!0,p:2,spacing:2,children:[(0,u.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,u.jsx)(x.Z,{type:"number",disabled:(null===t||void 0===t?void 0:t.kyc)===c.Z.status.APPROVED,inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Mobile Number*",variant:"outlined",fullWidth:!0,value:I,onChange:function(e){F(e.target.value),S(!0)}})}),(0,u.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,u.jsx)(x.Z,{id:"outlined",type:"number",disabled:(null===t||void 0===t?void 0:t.kyc)===c.Z.status.APPROVED,inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Alternate Number*",fullWidth:!0,variant:"outlined",value:H,onChange:function(e){B(e.target.value),S(!0)}})}),(0,u.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,u.jsx)(x.Z,{type:"email",label:"Email ID*",variant:"outlined",disabled:(null===t||void 0===t?void 0:t.kyc)===c.Z.status.APPROVED,fullWidth:!0,value:J,onChange:function(e){G(e.target.value),S(!0)}})}),(0,u.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,u.jsx)(x.Z,{type:"referral",label:"Referral Code*",variant:"outlined",fullWidth:!0,disabled:!0,value:K})})]}),(0,u.jsxs)(v.ZP,{container:!0,p:2,spacing:2,children:[(null===t||void 0===t?void 0:t.kyc)!==c.Z.status.APPROVED&&(0,u.jsx)(v.ZP,{item:!0,xs:12,sm:4,children:(0,u.jsx)(Z.Z,{component:"form",children:(0,u.jsx)(p.Z,{loading:q,fullWidth:!0,disabled:!C,variant:"contained",onClick:function(){$()},children:"Update Details"})})}),(0,u.jsx)(v.ZP,{item:!0,xs:12,sm:4}),(0,u.jsx)(g.x7,{position:"bottom-center",reverseOrder:!1})]})]})}},22059:function(e,t,n){"use strict";n.r(t);var r=n(47568),i=n(26042),s=n(69396),a=n(828),o=n(97582),u=n(85893),l=n(8987),c=n(86886),d=n(50135),h=n(87357),f=n(11057),m=n(67720),p=(n(68680),n(3924),n(72484),n(67294)),v=n(50319),x=n(16538),Z=n(44709),j=n(21191),g=n(11213),b=n(81118),y=n(29792),P=n(86501),E=n(71455),D=n(9473),R=n(34753);t.default=function(){var e=(0,D.I0)(),t=(0,D.v9)((function(e){return e.foundUser.foundUser})),n=(0,D.v9)((function(e){return e.allUsers.allTheUsers})),_=(0,a.Z)((0,v.D)(x.p1),1)[0],A=(0,a.Z)((0,v.D)(x.HF),2),C=A[0],S=A[1].data,O=(0,p.useState)(""),U=O[0],k=O[1],w=(0,p.useState)(""),T=w[0],N=w[1],V=(0,p.useState)(!1),I=V[0],F=V[1],L=(0,p.useState)(!1),H=L[0],B=L[1],W=(0,p.useState)(!1),J=W[0],G=W[1],M=(0,p.useState)(""),K=M[0],Y=M[1],X=(0,p.useState)(""),q=X[0],z=X[1],Q=(0,p.useState)(!1),$=Q[0],ee=Q[1],te=(0,p.useState)(),ne=te[0],re=te[1],ie=(0,p.useState)(),se=ie[0],ae=ie[1],oe=function(e,n){var r=t,a=[];return t.documents.map((function(t){t.id===e?a.push((0,s.Z)((0,i.Z)({},t),{status:n})):a.push(t)})),(0,s.Z)((0,i.Z)({},r),{documents:a})},ue=function(e,n){var r=t,a=[];return t.documents.map((function(t){t.id===e?a.push((0,s.Z)((0,i.Z)({},t),{url:n})):a.push(t)})),(0,s.Z)((0,i.Z)({},r),{documents:a})},le=function(){var t=(0,r.Z)((function(t,r){return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,C({variables:{id:t,status:r}})];case 1:return i.sent(),e((0,g.Hn)(oe(t,r))),e((0,j.UF)((0,b.Z)(n,oe(t,r)))),[2]}}))}));return function(e,n){return t.apply(this,arguments)}}(),ce=function(){var i=(0,r.Z)((function(r,i){var s;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:return[4,_({variables:{id:t.id,documentId:r,url:i}})];case 1:return s=a.sent(),e((0,g.Hn)(ue(r,i))),e((0,j.UF)((0,b.Z)(n,ue(r,i)))),[2,s]}}))}));return function(e,t){return i.apply(this,arguments)}}(),de=function(){var e=(0,r.Z)((function(e){var t,n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return(e?H:J)?(t=e?K:q,n=e?ne:se,[4,(0,y.Z)(t)]):[2];case 1:return r=i.sent(),t?[4,ce(n.id,r)]:[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),he=function(){var a=(0,r.Z)((function(){var r;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:if(!(U?T?ne||H?!(!se&&!J)||(alert("Please Select Nominee Aadhar Back"),null):(alert("Please Select Nominee Aadhar Front"),null):(alert("Please Enter Nominee Relation"),null):(alert("Please Enter Nominee Name"),null)))return[2];F(!0),a.label=1;case 1:return a.trys.push([1,7,,8]),[4,_({variables:{id:t.id,nomineeName:U,nomineeRelationship:T}})];case 2:return a.sent(),[4,e((0,g.Hn)((0,s.Z)((0,i.Z)({},t),{nomineeName:U,nomineeRelationship:T})))];case 3:return a.sent(),[4,e((0,j.UF)((0,b.Z)(n,(0,s.Z)((0,i.Z)({},t),{nomineeName:U,nomineeRelationship:T}))))];case 4:return a.sent(),[4,de(!0)];case 5:return a.sent(),[4,de(!1)];case 6:return a.sent(),P.ZP.success("Nominee Updated Succesfully"),[3,8];case 7:return r=a.sent(),console.log(r),[3,8];case 8:return F(!1),[2]}}))}));return function(){return a.apply(this,arguments)}}();return(0,p.useEffect)((function(){S&&S.updateDocumentStatusByAdmin.id===ne.id&&re((0,s.Z)((0,i.Z)({},ne),{status:S.updateDocumentStatusByAdmin.status})),S&&S.updateDocumentStatusByAdmin.id===se.id&&ae((0,s.Z)((0,i.Z)({},se),{status:S.updateDocumentStatusByAdmin.status}))}),[S]),(0,p.useEffect)((function(){t&&(t.nomineeName?(k(t.nomineeName),N(t.nomineeRelationship)):t.nominee&&(k(t.nominee.name),N(t.nominee.relationship)),t.documents&&t.documents.length>0&&t.documents.find((function(e){e.title.toLowerCase()===Z.Z.nominee_aadhar.items[1].id&&(z(e.url),ae(e)),e.title.toLowerCase()===Z.Z.nominee_aadhar.items[0].id&&(Y(e.url),re(e))})))}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(c.ZP,{container:!0,p:0,spacing:2,children:[(0,u.jsx)(c.ZP,{item:!0,xs:12,sm:4,children:(0,u.jsx)(d.Z,{id:"outlined",label:"Full Name*",fullWidth:!0,disabled:(null===t||void 0===t?void 0:t.kyc)===R.Z.status.APPROVED,value:U,variant:"outlined",onChange:function(e){k(e.target.value),ee(!0)}})}),(0,u.jsx)(c.ZP,{item:!0,xs:12,sm:4,children:(0,u.jsx)(d.Z,{label:"Relationship",variant:"outlined",disabled:(null===t||void 0===t?void 0:t.kyc)===R.Z.status.APPROVED,fullWidth:!0,value:T,onChange:function(e){N(e.target.value),ee(!0)}})}),(0,u.jsx)(c.ZP,{item:!0,xs:12,sm:4})]}),(0,u.jsxs)(c.ZP,{container:!0,p:2,spacing:2,children:[(0,u.jsx)(c.ZP,{item:!0,xs:12,sm:4,children:K&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(E.TV,{children:(0,u.jsx)(E.HI,{src:"object"==typeof K?URL.createObjectURL(K):K,children:(0,u.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof K?URL.createObjectURL(K):K,height:200,width:200})})}),(0,u.jsxs)(h.Z,{children:["Status :"," ",(0,u.jsxs)("span",{style:{color:ne?"APPROVED"===ne.status?"limegreen":"REJECTED"===ne.status&&"red":""},children:[" ",S&&S.updateDocumentStatusByAdmin.id===ne.id?S.updateDocumentStatusByAdmin.status:ne?ne.status:null]})]}),(null===t||void 0===t?void 0:t.kyc)!==R.Z.status.APPROVED&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(f.Z,{variant:"contained",component:"label",sx:{margin:"10px 0"},children:["Upload Aadhar Card Front",(0,u.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(Y(e.target.files[0]),B(!0))}})]}),(0,u.jsxs)(c.ZP,{children:[(0,u.jsx)(f.Z,{variant:"outlined",onClick:function(){return le(ne.id,"APPROVED")},color:"success",sx:{ml:2},children:"Approve"}),(0,u.jsx)(f.Z,{variant:"outlined",onClick:function(){return le(ne.id,"REJECTED")},color:"error",sx:{ml:2},children:"Reject"})]})]})]})}),(0,u.jsx)(c.ZP,{item:!0,xs:12,sm:4,children:q&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(E.TV,{children:(0,u.jsx)(E.HI,{src:"object"==typeof q?URL.createObjectURL(q):q,children:(0,u.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof q?URL.createObjectURL(q):q,height:200,width:200})})}),(0,u.jsxs)(h.Z,{children:["Status :"," ",(0,u.jsx)("span",{style:{color:se?"APPROVED"===se.status?"limegreen":"REJECTED"===se.status&&"red":""},children:S&&S.updateDocumentStatusByAdmin.id===se.id?S.updateDocumentStatusByAdmin.status:se?se.status:null})]}),(null===t||void 0===t?void 0:t.kyc)!==R.Z.status.APPROVED&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(f.Z,{variant:"contained",component:"label",sx:{margin:"10px 0"},children:["Upload Aadhar Card Back",(0,u.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(z(e.target.files[0]),G(!0),ee(!0))}})]}),(0,u.jsxs)(c.ZP,{children:[(0,u.jsx)(f.Z,{variant:"outlined",onClick:function(){return le(se.id,"APPROVED")},color:"success",sx:{ml:2},children:"Approve"}),(0,u.jsx)(f.Z,{variant:"outlined",onClick:function(){return le(se.id,"REJECTED")},color:"error",sx:{ml:2},children:"Reject"})]})]})]})}),(0,u.jsx)(c.ZP,{item:!0,xs:12,sm:4}),(0,u.jsx)(m.Z,{}),(null===t||void 0===t?void 0:t.kyc)!==R.Z.status.APPROVED&&(0,u.jsxs)(h.Z,{component:"form",mt:1,children:[(0,u.jsx)(l.Z,{loading:I,sx:{paddingX:17},variant:"contained",component:"label",disabled:!$,onClick:function(){he()},children:"Submit"}),(0,u.jsx)(P.x7,{position:"bottom-center",reverseOrder:!1})]})]})]})}},3664:function(e,t,n){"use strict";n.r(t),n.d(t,{rows:function(){return T}});var r=n(47568),i=n(26042),s=n(69396),a=n(828),o=n(29815),u=n(97582),l=n(85893),c=n(50319),d=n(37887),h=n(87357),f=n(86886),m=n(50135),p=n(11057),v=n(15861),x=n(53816),Z=n(53252),j=n(94054),g=n(47312),b=n(80788),y=n(30431),P=n(67294),E=n(16538),D=n(44709),R=n(21191),_=n(11213),A=n(81118),C=n(29792),S=n(8987),O=n(86501),U=n(71455),k=n(9473),w=n(34753),T=[{config:D.Z.project_payment}],N=function(e){var t=e.data,n=e.documents,s=void 0===n?[]:n,d=e.user,j=e.rowNo,g=e.getProjectName,b=e.isPaymentDocument,y=(0,P.useState)(g),D=y[0],R=y[1],_=(0,P.useState)([]),A=_[0],k=_[1],T=(0,P.useState)([]),N=T[0],V=T[1],I=(0,P.useState)(0),F=I[0],L=I[1],H=(0,P.useState)([]),B=H[0],W=H[1],J=(0,P.useState)(["","","",""]),G=J[0],M=J[1],K=(0,P.useState)([null,null,null,null]),Y=K[0],X=K[1];(0,P.useEffect)((function(){L(j),R(g)}),[j,g]);var q=(0,a.Z)((0,c.D)(E.p1),1)[0],z=(0,a.Z)((0,c.D)(E.HF),1)[0],Q=(0,P.useState)(!1),$=Q[0],ee=Q[1];(0,P.useEffect)((function(){var e=[],n=!0,r=!1,i=void 0;try{for(var a,o=s[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;e.push(u.url)}}catch(h){r=!0,i=h}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}k(e);var l=[null,null,null,null],c=["","","",""];M(c),X(l),t.config.items.map((function(e){d.documents.map((function(t){t.title===D+e.id&&(l[parseInt(t.title.slice(16+D.length,17+D.length))-1]=t.amount||"",c[parseInt(t.title.slice(16+D.length,17+D.length))-1]=t.utrNo||"")}))})),M(c),X(l)}),[s,d,D]);var te=function(){var e=(0,r.Z)((function(){return(0,u.__generator)(this,(function(e){return[2]}))}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,r.Z)((function(e,t){return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return[4,q({variables:{id:d.id,documentId:e,url:t}})];case 1:return[2,n.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=(0,r.Z)((function(){var e;return(0,u.__generator)(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<F?Y[e]?[4,q({variables:{id:d.id,documentId:s[e].id,amount:Y[e],utrNo:G[e]}})]:[3,3]:[3,4];case 2:t.sent(),O.ZP.success("Details Updated"),t.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),ie=(function(){var e=(0,r.Z)((function(e,t){var n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,z({variables:{id:e,status:t}})];case 1:return r.sent()&&("APPROVED"===t?O.ZP.success("Document Status ".concat(t)):O.ZP.error("Document Status ".concat(t)),W((function(n){return(0,o.Z)(n).concat([{id:e,status:t}])}))),[3,3];case 2:return n=r.sent(),O.ZP.error(n.message),[3,3];case 3:return[2]}}))}))}(),function(e){var t=null;return null===B||void 0===B||B.map((function(n){e===n.id&&(t=n.status)})),t}),se=function(){var e=(0,r.Z)((function(){var e,n,r;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:ee(!0),a.label=1;case 1:a.trys.push([1,6,,7]),e=function(e){var n,r,a,l,c,h,f;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return N[e]?(n=t.config.items[e].id,[4,(0,C.Z)(A[e])]):[3,6];case 1:return r=u.sent(),a=s.find((function(e){if(e.title.toLowerCase()===n.toLowerCase())return!0})),(l=d.documents)||(l=[]),a?[4,ne(a.id,r)]:[3,3];case 2:return c=u.sent(),O.ZP.success("".concat(n," Uploaded")),(h=l.filter((function(e){return e.id}))).push(c.data.updateDocument),l=h,[3,5];case 3:return[4,te()];case 4:f=u.sent(),O.ZP.success("".concat(n," Uploaded")),l=(0,o.Z)(l).concat([f.data.createDocument]),u.label=5;case 5:(0,i.Z)({},d).documents=l,u.label=6;case 6:return[2]}}))},n=0,a.label=2;case 2:return n<F?[5,(0,u.__values)(e(n))]:[3,5];case 3:a.sent(),a.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:return r=a.sent(),console.log("error",r),[3,7];case 7:return ee(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return b?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(v.Z,{sx:{fontWeight:"bold",marginTop:5},children:[t.config.name," ",t.isOptional?"(Optional)":""]}),(0,l.jsxs)(x.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(Z.Z,{width:300,children:function(){for(var e=[],t=0;t<F;t++){var n=A[t];n&&e.push((0,l.jsx)("div",{style:{marginTop:15},children:(0,l.jsx)(U.TV,{children:(0,l.jsx)(U.HI,{src:"object"==typeof n?URL.createObjectURL(n):n,children:(0,l.jsx)("img",{src:"object"==typeof n?URL.createObjectURL(n):n,height:150,style:{marginLeft:"5px"}})})})}))}return 0==e.length?(0,l.jsx)(v.Z,{variant:"subtitle1",children:"No Document"}):e}()}),(null===d||void 0===d?void 0:d.kyc)!==w.Z.status.APPROVED&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Z.Z,{style:{},children:function(){for(var e=function(e){var t,i,a,u,c=(0,o.Z)(Y),v=(0,o.Z)(G);n.push((0,l.jsxs)("div",{style:{height:160,marginTop:10},children:[(0,l.jsxs)("div",{style:{marginBottom:10},children:["Status:"," ",(0,l.jsx)("span",{style:{color:"APPROVED"===ie(null===(t=s[e])||void 0===t?void 0:t.id)?"limegreen":"REJECTED"===ie(null===(i=s[e])||void 0===i?void 0:i.id)?"red":s[e]?"APPROVED"===s[e].status?"limegreen":"REJECTED"===s[e].status&&"red":""},children:ie(null===(a=s[e])||void 0===a?void 0:a.id)||(null===(u=s[e])||void 0===u?void 0:u.status)})]}),(0,l.jsx)(h.Z,{sx:{display:"flex",justifyContent:"center",marginBottom:"10px"},children:(null===d||void 0===d?void 0:d.kyc)!==w.Z.status.APPROVED&&(0,l.jsxs)(f.ZP,{children:[(0,l.jsx)(m.Z,{sx:{width:120},id:"outlined",label:"UTR No.*",value:G[e],variant:"outlined",type:"number",onChange:function(t){t.target.value?v[e]=t.target.value:v[e]=null,M(v)}}),(0,l.jsx)(m.Z,{sx:{width:120,ml:2},id:"outlined",label:"Amount*",value:Y[e],variant:"outlined",type:"number",onChange:function(t){t.target.value?c[e]=parseInt(t.target.value):c[e]=null,X(c)}})]})}),(0,l.jsxs)(p.Z,{fullWidth:!0,style:{marginTop:"10px"},component:"label",children:["Choose ",r[e].name,(0,l.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(t){if(t.target.files.length>0){var n=(0,o.Z)(A);n[e]=t.target.files[0],k(n);var r=(0,o.Z)(N);r[e]=!0,V(r)}}})]})]}))},n=[],r=t.config.items,i=0;i<F;i++)e(i);return n}()}),(0,l.jsx)(Z.Z,{children:(0,l.jsx)(S.Z,{loading:$,variant:"contained",onClick:function(){se(),re()},children:"Update"})})]})]},t.config.name)]}):(0,l.jsxs)(l.Fragment,{children:[(null===d||void 0===d?void 0:d.name)?d.name+" is ":d.rm_id+" is ","not Enrolled in this Project"]})};t.default=function(e){var t=e.to,n=(0,k.I0)(),o=(0,k.v9)((function(e){return e.foundUser.foundUser})),x=(0,k.v9)((function(e){return e.allUsers.allTheUsers})),Z=(0,P.useState)(0),D=Z[0],S=Z[1],V=(0,P.useState)("hajipur_"),I=V[0],F=V[1],L=(0,P.useState)(""),H=L[0],B=L[1],W=(0,P.useState)(),J=W[0],G=W[1],M=(0,P.useState)(),K=M[0],Y=M[1],X=(0,P.useState)(),q=X[0],z=X[1],Q=(0,P.useState)(!1),$=Q[0],ee=Q[1],te=(0,P.useState)(!1),ne=te[0],re=te[1],ie=(0,d.a)(E.t2,{variables:{UserID:o.id}}).data;(0,P.useEffect)((function(){console.log(ie)}),[ie]);var se=(0,a.Z)((0,c.D)(E.p1),1)[0],ae=(0,a.Z)((0,c.D)(E.HF),1)[0],oe=function(e){var t=(0,k.v9)((function(e){return e.foundUser.foundUser})),n=[];if(t&&t.documents){var r=!0,i=!1,s=void 0;try{for(var a,o=function(){var e=a.value,r=t.documents.find((function(t){if(t.title.toLowerCase()===I+e.id.toLowerCase())return!0}));r&&n.push(r)},u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)o()}catch(l){i=!0,s=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw s}}}return n},ue=function(){var e=(0,r.Z)((function(){var e;return(0,u.__generator)(this,(function(t){return e=0,o.documents.map((function(t){t.title.slice(0,16+I.length)===I+T[0].config.items[0].id.slice(0,-1)&&(e+=1)})),S(e),[2]}))}));return function(){return e.apply(this,arguments)}}();(0,P.useEffect)((function(){ue()}),[I]);var le=function(e,t){var n=o,r=[];return o.documents.map((function(n){n.id===e?r.push((0,s.Z)((0,i.Z)({},n),{url:t})):r.push(n)})),(0,s.Z)((0,i.Z)({},n),{documents:r})},ce=function(e,t,n){var r=o,a=[];return o.documents.map((function(r){r.id===e?a.push((0,s.Z)((0,i.Z)({},r),{amount:t,urtNo:n})):a.push(r)})),(0,s.Z)((0,i.Z)({},r),{documents:a})},de=function(e,t){var n=o,r=[];return o.documents.map((function(n){n.id===e?r.push((0,s.Z)((0,i.Z)({},n),{status:t})):r.push(n)})),(0,s.Z)((0,i.Z)({},n),{documents:r})},he=(function(){var e=(0,r.Z)((function(e,t){return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,ae({variables:{id:e,status:t}})];case 1:return r.sent(),n((0,_.Hn)(de(q.id,t))),n((0,R.UF)((0,A.Z)(x,de(q.id,t)))),[2]}}))}))}(),function(){var e=(0,r.Z)((function(){var e;return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,se({variables:{id:o.id,documentId:q.id,amount:parseInt(J),utrNo:K}})];case 1:return t.sent(),n((0,_.Hn)(ce(q.id,parseInt(J),K))),n((0,R.UF)((0,A.Z)(x,ce(q.id,parseInt(J),K)))),O.ZP.success("Details Updated"),[3,3];case 2:return e=t.sent(),O.ZP.error(e),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}()),fe=function(){var e=(0,r.Z)((function(){var e,t;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,9,,10]),e="",!$)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,C.Z)(H)];case 2:return e=r.sent(),[3,4];case 3:return r.sent(),O.ZP.error("Error, Try Again!"),[3,4];case 4:return[3,6];case 5:e=H,r.label=6;case 6:return q?[4,se({variables:{id:o.id,documentId:q.id,url:e}})]:[3,8];case 7:return r.sent(),n((0,_.Hn)(le(q.id,e))),n((0,R.UF)((0,A.Z)(x,le(q.id,e)))),[3,8];case 8:return O.ZP.success("Payment Slip Updated "),[3,10];case 9:return t=r.sent(),O.ZP.error(t),[3,10];case 10:return[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,P.useEffect)((function(){z(null),B(null),G(null),Y(null),o&&o.documents&&o.documents.length>0&&o.documents.find((function(e){e.title.toLowerCase()===I+T[0].config.id&&(z(e),e.url?B(e.url):B(""),e.amount?G(e.amount):G(""),e.utrNo?Y(e.utrNo):Y(""))}))}),[o,I]);return(0,P.useEffect)((function(){t&&F(t+"_")}),[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{width:150,children:(0,l.jsxs)(j.Z,{variant:"outlined",fullWidth:!0,children:[(0,l.jsx)(g.Z,{children:"Project"}),(0,l.jsx)(b.Z,{value:I,onChange:function(e){return F(e.target.value)},label:"Project",autoWidth:!0,children:[{id:"hajipur_",name:"Hajipur"},{id:"agra_",name:"Agra"}].map((function(e){return(0,l.jsx)(y.Z,{value:e.id,children:e.name},e.id)}))})]})}),H?(0,l.jsx)(U.TV,{children:(0,l.jsx)(U.HI,{src:"object"==typeof H?URL.createObjectURL(H):H,children:(0,l.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof H?URL.createObjectURL(H):H,width:200})})}):null,q&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(v.Z,{variant:"h4",sx:{my:2},children:["Status :"," ",(0,l.jsx)("span",{style:{color:q?"APPROVED"===q.status?"limegreen":"REJECTED"===q.status&&"red":""},children:q&&q.status})]})}),H&&(null===o||void 0===o?void 0:o.kyc)!==w.Z.status.APPROVED&&(0,l.jsxs)(f.ZP,{container:!0,p:2,mt:2,ml:0,pl:0,gap:2,spacing:2,children:[(0,l.jsx)(m.Z,{id:"outlined",label:"UTR No.*",value:K,variant:"outlined",type:"number",onChange:function(e){Y(e.target.value)}}),(0,l.jsx)(m.Z,{id:"outlined",label:"Amount*",value:J,variant:"outlined",type:"number",onChange:function(e){G(e.target.value)}}),(0,l.jsx)(f.ZP,{children:(0,l.jsx)(p.Z,{fullWidth:!0,disabled:!J&&!K,variant:"contained",component:"label",onClick:function(){he()},sx:{padding:"14px"},children:"Submit"})})]}),(0,l.jsxs)(f.ZP,{container:!0,p:2,pl:0,spacing:2,children:[q&&(null===o||void 0===o?void 0:o.kyc)!==w.Z.status.APPROVED&&(0,l.jsx)(f.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsxs)(p.Z,{variant:"contained",component:"label",children:["Select Payment Slip",(0,l.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files.length>0&&(re(!0),B(e.target.files[0]),ee(!0))}})]})}),q&&(null===o||void 0===o?void 0:o.kyc)!==w.Z.status.APPROVED&&(0,l.jsx)(f.ZP,{item:!0,xs:2,children:(0,l.jsx)(p.Z,{fullWidth:!0,variant:"contained",disabled:!ne,onClick:function(){fe()},children:"Submit"})}),(0,l.jsx)(O.x7,{position:"bottom-center",reverseOrder:!1})]}),(0,l.jsx)(l.Fragment,{children:T.map((function(e,t){return(0,l.jsx)(N,{data:e,rowNo:D,isPaymentDocument:q,user:o,getProjectName:I,documents:oe(e.config.items)},t)}))})]})}},61037:function(e,t,n){"use strict";n.r(t);var r=n(85893),i=n(91875),s=n(41294),a=n(9395),o=n(9008),u=n.n(o),l=n(11163),c=n(67294),d=(n(32426),n(37652)),h=n(11213),f=n(90948),m=n(87357),p=n(53156),v=n(88409),x=n(40044),Z=n(66242),j=n(86886),g=n(43725),b=n(9473),y=n(643),P=n(83778),E=n(8463),D=n(22059),R=n(67190),_=n(3664),A=(0,f.ZP)(m.Z)((function(e){var t=e.theme;return"\n      padding: 0 ".concat(t.spacing(2),";\n      position: relative;\n      bottom: -1px;\n\n      .MuiTabs-root {\n        height: 44px;\n        min-height: 44px;\n      }\n\n      .MuiTabs-scrollableX {\n        overflow-x: auto !important;\n      }\n\n      .MuiTabs-indicator {\n          min-height: 4px;\n          height: 4px;\n          box-shadow: none;\n          bottom: -4px;\n          background: none;\n          border: 0;\n\n          &:after {\n            position: absolute;\n            left: 50%;\n            width: 28px;\n            content: ' ';\n            margin-left: -14px;\n            background: ").concat(t.colors.primary.main,";\n            border-radius: inherit;\n            height: 100%;\n          }\n      }\n\n      .MuiTab-root {\n          &.MuiButtonBase-root {\n              height: 44px;\n              min-height: 44px;\n              background: ").concat(t.colors.alpha.white[50],";\n              border: 1px solid ").concat(t.colors.alpha.black[10],";\n              border-bottom: 0;\n              position: relative;\n              margin-right: ").concat(t.spacing(1),";\n              font-size: ").concat(t.typography.pxToRem(14),";\n              color: ").concat(t.colors.alpha.black[80],";\n              border-bottom-left-radius: 0;\n              border-bottom-right-radius: 0;\n\n              .MuiTouchRipple-root {\n                opacity: .1;\n              }\n\n              &:after {\n                position: absolute;\n                left: 0;\n                right: 0;\n                width: 100%;\n                bottom: 0;\n                height: 1px;\n                content: '';\n                background: ").concat(t.colors.alpha.black[10],";\n              }\n\n              &:hover {\n                color: ").concat(t.colors.alpha.black[100],";\n              }\n          }\n\n          &.Mui-selected {\n              color: ").concat(t.colors.alpha.black[100],";\n              background: ").concat(t.colors.alpha.white[100],";\n              border-bottom-color: ").concat(t.colors.alpha.white[100],";\n\n              &:after {\n                height: 0;\n              }\n          }\n      }\n  ")}));function C(){var e=(0,l.useRouter)(),t=(0,b.I0)(),n=(0,b.v9)((function(e){return e.allUsers.allTheUsers})),a=e.query.index,o=n.find((function(e){return e.id===a}));(0,c.useEffect)((function(){o&&t((0,h.Hn)(o))}),[]);var f=(0,c.useState)("basicInfo"),C=f[0],S=f[1];return(0,c.useEffect)((function(){e.query.payment&&S("projects")}),[]),(0,r.jsxs)(g.default,{children:[(0,r.jsx)(u(),{children:(0,r.jsx)("title",{children:"KYC Agency Dashboard"})}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(s.Z,{})}),(0,r.jsxs)(p.Z,{maxWidth:!1,children:[(0,r.jsx)(A,{children:(0,r.jsx)(v.Z,{onChange:function(e,t){S(t)},value:C,variant:"scrollable",scrollButtons:"auto",textColor:"primary",indicatorColor:"primary",children:[{value:"basicInfo",label:"Basic Info"},{value:"payment",label:"Payment"},{value:"projects",label:"Projects"},{value:"documents",label:"Documents"},{value:"nominee",label:"Nominee"},{value:"demat",label:"Demat Account Details"}].map((function(e){return(0,r.jsx)(x.Z,{label:e.label,value:e.value},e.value)}))})}),(0,r.jsx)(Z.Z,{variant:"outlined",children:(0,r.jsxs)(j.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:0,children:["basicInfo"===C&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(E.default,{})})}),"payment"===C&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(R.default,{})})}),"upgradeKyc"===C&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(ToAdvance,{})})}),"projects"===C&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(_.default,{to:e.query.payment})})}),"documents"===C&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(P.default,{})})}),"nominee"===C&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(D.default,{})})}),"demat"===C&&(0,r.jsx)(j.ZP,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{p:4,children:(0,r.jsx)(y.default,{})})})]})})]}),(0,r.jsx)(i.Z,{})]})}C.getLayout=function(e){return(0,r.jsx)(a.Z,{children:e})},t.default=C},43725:function(e,t,n){"use strict";n.r(t);var r=n(85893);t.default=function(e){var t=e.children;return(0,r.jsx)(r.Fragment,{children:t})}},91875:function(e,t,n){"use strict";var r=n(85893),i=n(90948),s=n(53156),a=n(87357),o=n(15861),u=(0,i.ZP)(s.Z)((function(e){var t=e.theme;return"\n        margin-top: ".concat(t.spacing(4),";\n")}));t.Z=function(){return(0,r.jsx)(u,{className:"footer-wrapper",children:(0,r.jsxs)(a.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,r.jsx)(a.Z,{}),(0,r.jsx)(o.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1"})]})})}},37652:function(e,t,n){"use strict";var r=n(85893),i=n(45697),s=n.n(i),a=n(90948),o=n(87357),u=n(53156),l=(0,a.ZP)(o.Z)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4),";\n")})),c=function(e){var t=e.children;return(0,r.jsx)(l,{className:"MuiPageTitle-wrapper",children:(0,r.jsx)(u.Z,{maxWidth:!1,children:t})})};c.propTypes={children:s().node.isRequired},t.Z=c},41294:function(e,t,n){"use strict";var r=n(47568),i=n(14924),s=n(828),a=n(97582),o=n(85893),u=n(26183),l=n(2734),c=n(87357),d=n(15861),h=n(71236),f=n(11057),m=n(50657),p=n(37645),v=n(6514),x=n(58951),Z=n(31425),j=n(50319),g=n(86501),b=n(7500),y=n(16538),P=n(9473),E=n(11163),D=n(67294),R=n(34753);t.Z=function(){var e=(0,u.C)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.data})),t=(0,l.Z)(),n=(0,s.Z)((0,j.D)(y.QX),1)[0],_=(0,D.useState)(""),A=_[0],C=_[1],S=(0,D.useState)(""),O=S[0],U=S[1],k=(0,P.v9)((function(e){return e.foundUser.foundUser})),w=(0,E.useRouter)(),T=(0,D.useState)(!1),N=T[0],V=T[1],I=function(){V(!0)},F=function(){V(!1)},L=function(){var e=(0,r.Z)((function(){var e;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,n({variables:{id:k.id,kyc:O}})];case 1:return e=t.sent(),F(),"APPROVED"===O&&g.ZP.success("KYC APPROVED"),"REJECTED"===O&&g.ZP.error("KYC REJECTED"),"ONGOING"===O&&g.ZP.success("KYC ONGOING"),C(e.data.updateStatus.kyc),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:["/dashboard"===w.pathname&&(0,o.jsxs)(c.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,o.jsx)(c.Z,{display:"flex",alignItems:"center",children:(0,o.jsxs)(c.Z,{children:[(0,o.jsxs)(d.Z,{variant:"h3",component:"h3",gutterBottom:!0,sx:(0,i.Z)({},t.breakpoints.down("sm"),{fontSize:20}),children:["Welcome, ",(null===e||void 0===e?void 0:e.name)?null===e||void 0===e?void 0:e.name:null===e||void 0===e?void 0:e.rm_id,"!"]}),(0,o.jsxs)(d.Z,{variant:"h5",component:"h5",align:"left",children:["Share Holder Type :"," ",(0,o.jsx)(h.Z,{badgeContent:null===e||void 0===e?void 0:e.membership,sx:{marginLeft:4},color:"success"})]}),(0,o.jsx)(d.Z,{variant:"subtitle2",mt:1,sx:(0,i.Z)({},t.breakpoints.down("sm"),{fontSize:12}),children:"APPROVED"===(null===e||void 0===e?void 0:e.kyc)?"Your KYC has been Approved":"Complete Your KYC By Filling the form below"})]})}),(0,o.jsxs)(c.Z,{mt:{xs:3,md:0},children:[(0,o.jsxs)(d.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:["Status :"," ",(0,o.jsx)("span",{style:{color:(null===e||void 0===e?void 0:e.kyc)?"APPROVED"===(null===e||void 0===e?void 0:e.kyc)?"green":"REJECTED"===(null===e||void 0===e?void 0:e.kyc)&&"red":""},children:"NOT_INITIALIZED"===(null===e||void 0===e?void 0:e.kyc)?"NOT STARTED":null===e||void 0===e?void 0:e.kyc})]})," "]})]}),"/agency/[index]"===w.pathname&&(0,o.jsxs)(c.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,o.jsxs)(c.Z,{display:"flex",alignItems:"center",children:[(0,o.jsx)(d.Z,{variant:"h3",component:"h3",sx:{textTransform:"uppercase"},gutterBottom:!0,children:"Agency Dashboard"}),(0,o.jsx)(d.Z,{variant:"subtitle2",children:(0,o.jsx)(b.C,{href:"/agency",children:(0,o.jsx)(f.Z,{variant:"outlined",color:"primary",sx:{ml:2},children:"USERLIST"})})})]}),"/agency/[index]"===w.pathname&&(0,o.jsxs)(c.Z,{margin:" 0 0 0 auto",children:[(0,o.jsx)(c.Z,{children:(0,o.jsx)(d.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:(0,o.jsxs)("span",{style:{color:A?("APPROVED"===A?"green":"REJECTED"===A&&"red")||"ONGOING"===A&&"orange"||"AGENT_APPROVED"===A&&"green":("APPROVED"===k.kyc?"green":"REJECTED"===k.kyc&&"red")||"ONGOING"===k.kyc&&"orange"||"AGENT_APPROVED"===k.kyc&&"green"},children:["Status :"," ",A?("AGENT_APPROVED"===A?"AGENT APPROVED":"NOT_INITIALIZED"===A&&"NOT INITIALIZED")||A:(null===k||void 0===k?void 0:k.kyc)?"AGENT_APPROVED"===(null===k||void 0===k?void 0:k.kyc)?"AGENT APPROVED":null===k||void 0===k?void 0:k.kyc:"UNKNOWN"]})})}),k.kyc!==R.Z.status.APPROVED&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.Z,{onClick:function(){I(),U("AGENT_APPROVED")},variant:"outlined",disabled:!function(){var e,t,n,r=!1,i=!1,s=!1,a=!1,o=!1,u=!1,l=!1,c=!1,d=!1;return(null===k||void 0===k?void 0:k.name)&&(null===k||void 0===k?void 0:k.email)&&(null===k||void 0===k?void 0:k.mobile_number)&&(null===k||void 0===k?void 0:k.date_of_birth)&&(null===k||void 0===k||null===(e=k.nominee)||void 0===e?void 0:e.name)&&(null===k||void 0===k||null===(t=k.nominee)||void 0===t?void 0:t.relationship)&&(null===k||void 0===k?void 0:k.demat_account)&&(r=!0),null===k||void 0===k||null===(n=k.documents)||void 0===n||n.map((function(e){e.title.includes("payment_proof")&&e.status===R.Z.status.APPROVED&&(i=!0),e.title.includes("avatar")&&e.status===R.Z.status.APPROVED&&(s=!0),e.title.includes("aadhar_front")&&e.status===R.Z.status.APPROVED&&(a=!0),e.title.includes("aadhar_back")&&e.status===R.Z.status.APPROVED&&(o=!0),e.title.includes("pancard")&&e.status===R.Z.status.APPROVED&&(u=!0),e.title.includes("passbook")&&e.status===R.Z.status.APPROVED&&(l=!0),e.title.includes("nominee_aadhar_front")&&e.status===R.Z.status.APPROVED&&(c=!0),e.title.includes("demat")&&e.status===R.Z.status.APPROVED&&(d=!0)})),r&&i&&s&&a&&o&&u&&l&&c&&d}(),color:"success",sx:{ml:2},children:"Approve"}),(0,o.jsx)(f.Z,{onClick:function(){I(),U("REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]}),(0,o.jsx)("div",{children:(0,o.jsxs)(m.Z,{open:N,onClose:F,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,o.jsx)(p.Z,{id:"alert-dialog-title",children:"Submit KYC Status"}),(0,o.jsx)(v.Z,{children:(0,o.jsxs)(x.Z,{id:"alert-dialog-description",children:["KYC Status will be set to ",O,"."]})}),(0,o.jsxs)(Z.Z,{children:[(0,o.jsx)(f.Z,{onClick:F,children:"Dismiss"}),(0,o.jsx)(f.Z,{onClick:L,autoFocus:!0,children:"Submit"})]})]})})]}),(0,o.jsx)(c.Z,{mt:{xs:3,md:0}})]})]})}},68680:function(){},3924:function(){},72484:function(){},32426:function(){},82222:function(e,t,n){"use strict";function r(e){return e&&e.constructor===Symbol?"symbol":typeof e}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[2005,8244,9990,2817,630,4753,9964,6549,7058,5547,788,456,8584,5571,1818,6910,6261,8764,1959,2659,6572,3864,3942,8812,9395,7190,9774,2888,179],(function(){return t=14014,e(e.s=t);var t}));var t=e.O();_N_E=t}]);