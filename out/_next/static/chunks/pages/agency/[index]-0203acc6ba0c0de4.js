(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8846],{14014:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agency/[index]",function(){return t(90109)}])},37610:function(n,e,t){"use strict";t.r(e);var r=t(34051),i=t.n(r),o=t(85893),a=t(77502),u=t(42480),c=t(99099),s=t(61636),l=t(85109),d=t(55511),f=t(50319),p=t(8987),m=t(86886),h=t(50135),v=t(87357),x=t(11057),b=t(67294),y=t(86501),j=t(71455),g=t(9473);function Z(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function P(n,e,t,r,i,o,a){try{var u=n[o](a),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function w(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){P(o,r,i,a,u,"next",n)}function u(n){P(o,r,i,a,u,"throw",n)}a(void 0)}))}}function S(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function E(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){S(n,e,t[e])}))}return n}function k(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return Z(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.default=function(){var n=(0,g.I0)(),e=(0,g.v9)((function(n){return n.foundUser.foundUser})),t=(0,g.v9)((function(n){return n.allUsers.allTheUsers})),r=(0,b.useState)(null),Z=r[0],P=r[1],S=(0,b.useState)(null),O=S[0],A=S[1],C=(0,b.useState)(),D=C[0],R=C[1],U=(0,b.useState)(!1),I=U[0],T=U[1],_=(0,b.useState)(!1),N=_[0],L=_[1],F=(0,b.useState)(!1),V=F[0],H=F[1],B=k((0,f.D)(a.p1),1)[0],J=k((0,f.D)(a.HF),2),W=J[0],G=J[1].data,M=function(n,t,r){var i,o=e,a=[];return null===e||void 0===e||null===(i=e.documents)||void 0===i||i.map((function(e){e.id===n?a.push(E({},e,{url:t})):a.push(e)})),E({},o,{documents:a,demat_account:r})},Y=function(n,t){var r,i=e,o=[];return null===e||void 0===e||null===(r=e.documents)||void 0===r||r.map((function(e){e.id===n?o.push(E({},e,{status:t})):o.push(e)})),E({},i,{documents:o})},K=function(n){return!!n||(alert("Invalid Image"),!1)},$=function(){var e=w(i().mark((function e(r,o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({variables:{id:r,status:o}});case 2:n((0,s.Hn)(Y(D.id,o))),n((0,c.UF)((0,l.Z)(t,Y(D.id,o))));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),X=function(){var r=w(i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(K(O)){r.next=3;break}return r.abrupt("return");case 3:if(L(!0),r.prev=4,!Z){r.next=10;break}return r.next=8,B({variables:{id:null===e||void 0===e?void 0:e.id,demat_account:Z}});case 8:n((0,s.Hn)(E({},e,{demat_account:Z}))),n((0,c.UF)((0,l.Z)(t,E({},e,{demat_account:Z}))));case 10:if(o="",!I){r.next=17;break}return r.next=14,(0,d.Z)(O);case 14:o=r.sent,r.next=18;break;case 17:o=O;case 18:if(!D){r.next=26;break}return r.next=21,B({variables:{id:null===e||void 0===e?void 0:e.id,documentId:D.id,url:o}});case 21:n((0,s.Hn)(M(D.id,o,Z))),n((0,c.UF)((0,l.Z)(t,M(D.id,o,Z)))),y.ZP.success("Demat Details Updated "),r.next=27;break;case 26:console.log("can't create document");case 27:r.next=31;break;case 29:r.prev=29,r.t0=r.catch(4);case 31:L(!1);case 32:case"end":return r.stop()}}),r,null,[[4,29]])})));return function(){return r.apply(this,arguments)}}();return(0,b.useEffect)((function(){var n,t;(e&&P(null===e||void 0===e?void 0:e.demat_account),e&&(null===e||void 0===e?void 0:e.documents)&&(null===e||void 0===e||null===(n=e.documents)||void 0===n?void 0:n.length)>0)&&(null===e||void 0===e||null===(t=e.documents)||void 0===t||t.find((function(n){n.title.toLowerCase()===u.Z.demat_document.items[0].id&&(R(n),A(n.url))})))}),[e]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,o.jsx)(h.Z,{id:"outlined",label:"Demat Account No.",type:"text",fullWidth:!0,value:Z,variant:"outlined",onChange:function(n){P(n.target.value),H(!0)}})}),O&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(j.TV,{children:(0,o.jsx)(j.HI,{src:"object"==typeof O?URL.createObjectURL(O):O,children:(0,o.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof O?URL.createObjectURL(O):O,height:200,width:200})})}),(0,o.jsxs)(v.Z,{children:["Status :"," ",(0,o.jsx)("span",{style:{color:D?"APPROVED"===D.status?"green":"REJECTED"===D.status&&"red":""},children:G?G.updateDocumentStatusByAdmin.status:D?D.status:null})]}),(0,o.jsx)(v.Z,{children:(0,o.jsxs)(m.ZP,{children:[(0,o.jsx)(x.Z,{onClick:function(){return $(D.id,"APPROVED")},variant:"outlined",color:"success",children:"Approve"}),(0,o.jsx)(x.Z,{onClick:function(){return $(D.id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})})]}),(0,o.jsxs)(m.ZP,{container:!0,pt:3,pb:2,pr:2,spacing:2,children:[O&&(0,o.jsx)(m.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:(0,o.jsxs)(x.Z,{variant:"contained",component:"label",children:["Upload Demat Account Details",(0,o.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(n){n.target.files.length>0&&(A(n.target.files[0]),T(!0),H(!0))}})]})}),(0,o.jsx)(m.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:(0,o.jsx)(v.Z,{component:"form",children:(0,o.jsx)(p.Z,{loading:N,fullWidth:!0,disabled:!V,variant:"contained",onClick:function(){X()},children:"Submit"})})}),(0,o.jsx)(y.x7,{position:"bottom-right",reverseOrder:!1})]}),(0,o.jsx)(m.ZP,{item:!0,xs:4})]})}},57857:function(n,e,t){"use strict";t.r(e);var r=t(34051),i=t.n(r),o=t(85893),a=t(42480),u=t(55511),c=t(50319),s=t(8987),l=t(2734),d=t(11057),f=t(87357),p=t(15861),m=t(50456),h=t(55113),v=t(7906),x=t(295),b=t(53252),y=t(72882),j=t(53184),g=t(53816),Z=(t(19662),t(37070),t(93491),t(67294)),P=t(86501),w=t(9473),S=t(77502),E=t(61636),k=t(99099),O=t(85109),A=t(71455);function C(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function D(n,e,t,r,i,o,a){try{var u=n[o](a),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function R(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){D(o,r,i,a,u,"next",n)}function u(n){D(o,r,i,a,u,"throw",n)}a(void 0)}))}}function U(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function I(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){U(n,e,t[e])}))}return n}function T(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(n,e)||N(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(n){return function(n){if(Array.isArray(n))return C(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||N(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(n,e){if(n){if("string"===typeof n)return C(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(n,e):void 0}}var L=[{config:a.Z.avatar,status:-1},{config:a.Z.aadhar,status:-1},{config:a.Z.pancard,status:-1},{config:a.Z.passbook,status:-1},{config:a.Z.voterId,status:-1,isOptional:!0},{config:a.Z.driving_license,status:-1,isOptional:!0}],F=function(n){var e=n.user,t=n.data,r=n.documents,a=void 0===r?[]:r,m=(0,l.Z)(),h=(0,w.v9)((function(n){return n.allUsers.allTheUsers})),v=(0,Z.useState)([]),x=v[0],y=v[1],j=(0,Z.useState)([]),C=j[0],D=j[1],N=(0,w.I0)();if(!a[0])return null;var L=T((0,c.D)(S.p1),1)[0],F=T((0,c.D)(S.HF),1)[0],V=(0,Z.useState)(!1),H=V[0],B=V[1],J=function(n,t){var r,i=e,o=[];return null===e||void 0===e||null===(r=e.documents)||void 0===r||r.map((function(e){e.id===n?o.push(I({},e,{status:t})):o.push(e)})),I({},i,{documents:o})},W=function(n,t){var r,i=e,o=[];return null===e||void 0===e||null===(r=e.documents)||void 0===r||r.map((function(e){e.id===n?o.push(I({},e,{url:t})):o.push(e)})),I({},i,{documents:o})};(0,Z.useEffect)((function(){var n=[],e=!0,t=!1,r=void 0;try{for(var i,o=a[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value;n.push(u.url)}}catch(c){t=!0,r=c}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}y(n)}),[a]);var G=function(){var n=R(i().mark((function n(e,t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F({variables:{id:e,status:t}});case 2:n.sent,N((0,E.Hn)(J(e,t))),N((0,k.UF)((0,O.Z)(h,J(e,t))));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),M=function(){var n=R(i().mark((function n(t,r,o){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L({variables:{id:null===e||void 0===e?void 0:e.id,documentId:t,url:o}});case 2:n.sent,N((0,E.Hn)(W(t,o))),N((0,k.UF)((0,O.Z)(h,W(t,o)))),P.ZP.success("".concat(r," Updated"));case 6:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),Y=function(){var n=R(i().mark((function n(){var e,r,o,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:B(!0),n.prev=1,e=0;case 3:if(!(e<C.length)){n.next=19;break}if(!C[e]){n.next=16;break}return r=t.config.items[e].id,n.next=8,(0,u.Z)(x[e]);case 8:if(o=n.sent,!(c=a.find((function(n){if(n.title.toLowerCase()===r.toLowerCase())return!0})))){n.next=15;break}return n.next=13,M(c.id,r,o);case 13:n.next=16;break;case 15:console.log("can't create documents");case 16:e++,n.next=3;break;case 19:n.next=24;break;case 21:n.prev=21,n.t0=n.catch(1),console.log("error",n.t0);case 24:B(!1);case 25:case"end":return n.stop()}}),n,null,[[1,21]])})));return function(){return n.apply(this,arguments)}}();return(0,o.jsxs)(g.Z,{sx:U({"&:last-child td, &:last-child th":{border:0}},m.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,o.jsxs)(b.Z,{component:"th",scope:"row",children:[t.config.name," ",t.isOptional?"(Optional)":""]}),(0,o.jsx)(b.Z,{children:function(){for(var n=[],e=t.config.items,r=0;r<e.length;r++){var i=x[r];i&&n.push((0,o.jsx)(A.TV,{children:(0,o.jsx)(A.HI,{src:"object"==typeof i?URL.createObjectURL(i):i,children:(0,o.jsx)("img",{src:"object"==typeof i?URL.createObjectURL(i):i,height:100,style:{marginRight:"5px"},width:100})})}))}return 0==n.length?(0,o.jsx)(p.Z,{variant:"subtitle1",children:"No Document"}):n}()}),(0,o.jsx)(b.Z,{children:function(){for(var n=function(n){e.push((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(d.Z,{component:"label",children:["Choose ",r[n].name,(0,o.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){if(e.target.files.length>0){var t=_(x);t[n]=e.target.files[0],y(t);var r=_(C);r[n]=!0,D(r)}}})]}),(0,o.jsxs)(f.Z,{display:"flex",children:[(0,o.jsx)(d.Z,{onClick:function(){return G(a[n].id,"APPROVED")},variant:"outlined",color:"success",children:"Approve"}),(0,o.jsx)(d.Z,{onClick:function(){return G(a[n].id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})]}))},e=[],r=t.config.items,i=0;i<r.length;i++)n(i);return e}()}),(0,o.jsx)(b.Z,{children:(0,o.jsx)(s.Z,{loading:H,disabled:!function(){var n=C.find((function(n){if(n)return!0}));if(x.length==t.config.items.length&&n)return!0}(),variant:"contained",onClick:function(){Y()},children:"Upload"})}),(0,o.jsx)(b.Z,{children:(0,o.jsx)("span",{style:{color:a[0]?"APPROVED"===a[0].status?"green":"REJECTED"===a[0].status&&"red":""},children:a[0]&&a[0].status})})]},t.config.name)};e.default=function(){var n=(0,w.v9)((function(n){return n.foundUser.foundUser})),e=function(e){var t=[];if(n&&(null===n||void 0===n?void 0:n.documents)){var r=!0,i=!1,o=void 0;try{for(var a,u=function(e,r){var i,o=r.value,a=null===n||void 0===n||null===(i=n.documents)||void 0===i?void 0:i.find((function(n){if(n.title.toLowerCase()===o.id.toLowerCase())return!0}));a&&t.push(a)},c=e[Symbol.iterator]();!(r=(a=c.next()).done);r=!0)u(0,a)}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}}return t};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(y.Z,{component:h.Z,children:[(0,o.jsxs)(v.Z,{"aria-label":"simple table",children:[(0,o.jsx)(j.Z,{children:(0,o.jsxs)(g.Z,{children:[(0,o.jsx)(b.Z,{children:"Document Name"}),(0,o.jsxs)(m.Z,{smDown:!0,children:[(0,o.jsx)(b.Z,{children:"Preview"}),(0,o.jsx)(b.Z,{style:{padding:"0 0 0 2rem"},children:"Action"}),(0,o.jsx)(b.Z,{style:{padding:"0 0 0 0"},children:"Upload Action"}),(0,o.jsx)(b.Z,{children:"Status"})]})," "]})}),(0,o.jsx)(x.Z,{children:L.map((function(t,r){return(0,o.jsx)(F,{user:n,data:t,documents:e(t.config.items)},r)}))})]}),(0,o.jsx)(P.x7,{position:"bottom-center",reverseOrder:!1})]})})}},69507:function(n,e,t){"use strict";t.r(e);var r=t(34051),i=t.n(r),o=t(85893),a=t(86886),u=t(50135),c=t(87357),s=t(8987),l=t(67294),d=t(50319),f=t(86501),p=t(77502),m=t(9473),h=t(61636),v=t(99099),x=t(85109);function b(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function y(n,e,t,r,i,o,a){try{var u=n[o](a),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function j(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){j(n,e,t[e])}))}return n}function Z(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return b(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.default=function(){var n=(0,m.I0)(),e=(0,m.v9)((function(n){return n.foundUser.foundUser})),t=(0,m.v9)((function(n){return n.allUsers.allTheUsers})),r=(0,l.useState)(""),b=r[0],j=r[1],P=(0,l.useState)(""),w=P[0],S=P[1],E=(0,l.useState)(!1),k=E[0],O=E[1],A=(0,l.useState)(""),C=A[0],D=A[1],R=(0,l.useState)(""),U=R[0],I=R[1],T=(0,l.useState)(""),_=T[0],N=T[1],L=(0,l.useState)(""),F=L[0],V=L[1],H=(0,l.useState)(""),B=H[0],J=H[1],W=(0,l.useState)(!1),G=W[0],M=W[1],Y=Z((0,d.D)(p.p1),1)[0],K=function(){var r,o=(r=i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return M(!0),r.prev=1,r.next=4,Y({variables:{id:b,name:w,father_or_husband_name:C,date_of_birth:U,mobile_number:_,alternate_mobile_number:F,email:B}});case 4:f.Am.success("Details Updated"),o=g({},e,{name:w,father_or_husband_name:C,date_of_birth:U,mobile_number:_,alternate_mobile_number:F,email:B}),n((0,h.Hn)(o)),n((0,v.UF)((0,x.Z)(t,o))),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),f.Am.error(r.t0.message);case 13:M(!1);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})),function(){var n=this,e=arguments;return new Promise((function(t,i){var o=r.apply(n,e);function a(n){y(o,t,i,a,u,"next",n)}function u(n){y(o,t,i,a,u,"throw",n)}a(void 0)}))});return function(){return o.apply(this,arguments)}}();return(0,l.useEffect)((function(){var n;e&&(j(null===e||void 0===e?void 0:e.id),S(null===e||void 0===e?void 0:e.name),I(null===e||void 0===e||null===(n=e.date_of_birth)||void 0===n?void 0:n.slice(0,10)),D(null===e||void 0===e?void 0:e.father_or_husband_name),N(null===e||void 0===e?void 0:e.mobile_number),V(null===e||void 0===e?void 0:e.alternate_mobile_number),J(null===e||void 0===e?void 0:e.email))}),[e]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.ZP,{container:!0,p:2,spacing:2,children:[(0,o.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(u.Z,{id:"outlined",label:"Full Name*",fullWidth:!0,value:w,variant:"outlined",onChange:function(n){S(n.target.value),O(!0)}})}),(0,o.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(u.Z,{label:"Father's/Husband's Name*",variant:"outlined",fullWidth:!0,value:C,onChange:function(n){D(n.target.value),O(!0)}})}),(0,o.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(u.Z,{required:!0,hidden:!0,label:"Date of Birth",variant:"outlined",fullWidth:!0,placeholder:"",value:U,onChange:function(n){I(n.target.value),O(!0)}})})]}),(0,o.jsxs)(a.ZP,{container:!0,p:2,spacing:2,children:[(0,o.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(u.Z,{type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Mobile Number*",variant:"outlined",fullWidth:!0,value:_,onChange:function(n){N(n.target.value),O(!0)}})}),(0,o.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(u.Z,{id:"outlined",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Alternate Number*",fullWidth:!0,variant:"outlined",value:F,onChange:function(n){V(n.target.value),O(!0)}})}),(0,o.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(u.Z,{type:"email",label:"Email ID*",variant:"outlined",fullWidth:!0,value:B,onChange:function(n){J(n.target.value),O(!0)}})})]}),(0,o.jsxs)(a.ZP,{container:!0,p:2,spacing:2,children:[(0,o.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(c.Z,{component:"form",children:(0,o.jsx)(s.Z,{loading:G,fullWidth:!0,disabled:!k,variant:"contained",onClick:function(){K()},children:"Update Details"})})}),(0,o.jsx)(a.ZP,{item:!0,xs:4}),(0,o.jsx)(f.x7,{position:"bottom-center",reverseOrder:!1})]})]})}},6397:function(n,e,t){"use strict";t.r(e);var r=t(34051),i=t.n(r),o=t(85893),a=t(2734),u=t(86886),c=t(50135),s=t(87357),l=t(11057),d=t(67720),f=(t(93491),t(37070),t(19662),t(8987)),p=t(67294),m=t(50319),h=t(42480),v=t(86501),x=t(77502),b=t(9473),y=t(55511),j=t(61636),g=t(99099),Z=t(85109),P=t(71455);function w(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function S(n,e,t,r,i,o,a){try{var u=n[o](a),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function E(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){S(o,r,i,a,u,"next",n)}function u(n){S(o,r,i,a,u,"throw",n)}a(void 0)}))}}function k(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function O(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){k(n,e,t[e])}))}return n}function A(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return w(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.default=function(){var n=(0,b.I0)(),e=(0,b.v9)((function(n){return n.foundUser.foundUser})),t=(0,b.v9)((function(n){return n.allUsers.allTheUsers})),r=A((0,m.D)(x.p1),1)[0],w=A((0,m.D)(x.HF),2),S=w[0],k=w[1].data,C=(0,p.useState)(""),D=C[0],R=C[1],U=(0,p.useState)(""),I=U[0],T=U[1],_=(0,p.useState)(!1),N=_[0],L=_[1],F=((0,a.Z)(),(0,p.useState)(!1)),V=F[0],H=F[1],B=(0,p.useState)(!1),J=B[0],W=B[1],G=(0,p.useState)(""),M=G[0],Y=G[1],K=(0,p.useState)(""),$=K[0],X=K[1],q=(0,p.useState)(!1),z=q[0],Q=q[1],nn=(0,p.useState)(),en=nn[0],tn=nn[1],rn=(0,p.useState)(),on=rn[0],an=rn[1],un=function(n,t){var r,i=e,o=[];return null===e||void 0===e||null===(r=e.documents)||void 0===r||r.map((function(e){e.id===n?o.push(O({},e,{status:t})):o.push(e)})),O({},i,{documents:o})},cn=function(n,t){var r,i=e,o=[];return null===e||void 0===e||null===(r=e.documents)||void 0===r||r.map((function(e){e.id===n?o.push(O({},e,{url:t})):o.push(e)})),O({},i,{documents:o})},sn=function(){var e=E(i().mark((function e(r,o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({variables:{id:r,status:o}});case 2:n((0,j.Hn)(un(r,o))),n((0,g.UF)((0,Z.Z)(t,un(r,o))));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ln=function(){var o=E(i().mark((function o(a,u){var c;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r({variables:{id:null===e||void 0===e?void 0:e.id,documentId:a,url:u}});case 2:return c=i.sent,n((0,j.Hn)(cn(a,u))),n((0,g.UF)((0,Z.Z)(t,cn(a,u)))),i.abrupt("return",c);case 6:case"end":return i.stop()}}),o)})));return function(n,e){return o.apply(this,arguments)}}(),dn=function(){var n=E(i().mark((function n(e){var t,r,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e?V:J){n.next=3;break}return n.abrupt("return");case 3:return t=e?M:$,r=e?en:on,e?h.Z.nominee_aadhar.items[0].id:h.Z.nominee_aadhar.items[1].id,n.next=8,(0,y.Z)(t);case 8:if(o=n.sent,!t){n.next=14;break}return n.next=12,ln(r.id,o);case 12:n.next=15;break;case 14:console.log("docs can only be updated, not created");case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),fn=function(){var o=E(i().mark((function o(){return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(D?I?en||V?!(!on&&!J)||(alert("Please Select Nominee Aadhar Back"),null):(alert("Please Select Nominee Aadhar Front"),null):(alert("Please Enter Nominee Relation"),null):(alert("Please Enter Nominee Name"),null)){i.next=3;break}return i.abrupt("return");case 3:return L(!0),i.prev=4,i.next=7,r({variables:{id:null===e||void 0===e?void 0:e.id,nomineeName:D,nomineeRelationship:I}});case 7:return i.next=9,n((0,j.Hn)(O({},e,{nomineeName:D,nomineeRelationship:I})));case 9:return i.next=11,n((0,g.UF)((0,Z.Z)(t,O({},e,{nomineeName:D,nomineeRelationship:I}))));case 11:return i.next=13,dn(!0);case 13:return i.next=15,dn(!1);case 15:v.ZP.success("Nominee Updated Succesfully"),i.next=21;break;case 18:i.prev=18,i.t0=i.catch(4),console.log(i.t0);case 21:L(!1);case 22:case"end":return i.stop()}}),o,null,[[4,18]])})));return function(){return o.apply(this,arguments)}}();return(0,p.useEffect)((function(){k&&k.updateDocumentStatusByAdmin.id===en.id&&tn(O({},en,{status:k.updateDocumentStatusByAdmin.status})),k&&k.updateDocumentStatusByAdmin.id===on.id&&an(O({},on,{status:k.updateDocumentStatusByAdmin.status}))}),[k]),(0,p.useEffect)((function(){var n,t;e&&((null===e||void 0===e?void 0:e.nomineeName)?(R(null===e||void 0===e?void 0:e.nomineeName),T(null===e||void 0===e?void 0:e.nomineeRelationship)):(null===e||void 0===e?void 0:e.nominee)&&(R(null===e||void 0===e?void 0:e.nominee.name),T(null===e||void 0===e?void 0:e.nominee.relationship)),(null===e||void 0===e?void 0:e.documents)&&(null===e||void 0===e||null===(n=e.documents)||void 0===n?void 0:n.length)>0&&(null===e||void 0===e||null===(t=e.documents)||void 0===t||t.find((function(n){n.title.toLowerCase()===h.Z.nominee_aadhar.items[1].id&&(X(n.url),an(n)),n.title.toLowerCase()===h.Z.nominee_aadhar.items[0].id&&(Y(n.url),tn(n))}))))}),[e]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(u.ZP,{container:!0,p:2,spacing:2,children:[(0,o.jsx)(u.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(c.Z,{id:"outlined",label:"Full Name*",fullWidth:!0,value:D,variant:"outlined",onChange:function(n){R(n.target.value),Q(!0)}})}),(0,o.jsx)(u.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(c.Z,{label:"Relationship",variant:"outlined",fullWidth:!0,value:I,onChange:function(n){T(n.target.value),Q(!0)}})}),(0,o.jsx)(u.ZP,{item:!0,xs:4})]}),(0,o.jsxs)(u.ZP,{container:!0,p:2,spacing:2,children:[(0,o.jsx)(u.ZP,{item:!0,xs:12,sm:4,children:M&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(P.TV,{children:(0,o.jsx)(P.HI,{src:"object"==typeof M?URL.createObjectURL(M):M,children:(0,o.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof M?URL.createObjectURL(M):M,height:200,width:200})})}),(0,o.jsxs)(s.Z,{children:["Status :"," ",(0,o.jsxs)("span",{style:{color:en?"APPROVED"===en.status?"green":"REJECTED"===en.status&&"red":""},children:[" ",k&&k.updateDocumentStatusByAdmin.id===en.id?k.updateDocumentStatusByAdmin.status:en?en.status:null]})]}),(0,o.jsxs)(l.Z,{variant:"contained",component:"label",sx:{margin:"10px 0"},children:["Upload Aadhar Card Front",(0,o.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(n){n.target.files.length>0&&(Y(n.target.files[0]),H(!0))}})]}),(0,o.jsxs)(u.ZP,{children:[(0,o.jsx)(l.Z,{variant:"outlined",onClick:function(){return sn(en.id,"APPROVED")},color:"success",sx:{ml:2},children:"Approve"}),(0,o.jsx)(l.Z,{variant:"outlined",onClick:function(){return sn(en.id,"REJECTED")},color:"error",sx:{ml:2},children:"Reject"})]})]})}),(0,o.jsx)(u.ZP,{item:!0,xs:12,sm:4,children:$&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(P.TV,{children:(0,o.jsx)(P.HI,{src:"object"==typeof $?URL.createObjectURL($):$,children:(0,o.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof $?URL.createObjectURL($):$,height:200,width:200})})}),(0,o.jsxs)(s.Z,{children:["Status :"," ",(0,o.jsx)("span",{style:{color:on?"APPROVED"===on.status?"green":"REJECTED"===on.status&&"red":""},children:k&&k.updateDocumentStatusByAdmin.id===on.id?k.updateDocumentStatusByAdmin.status:on?on.status:null})]}),(0,o.jsxs)(l.Z,{variant:"contained",component:"label",sx:{margin:"10px 0"},children:["Upload Aadhar Card Back",(0,o.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(n){n.target.files.length>0&&(X(n.target.files[0]),W(!0),Q(!0))}})]}),(0,o.jsxs)(u.ZP,{children:[(0,o.jsx)(l.Z,{variant:"outlined",onClick:function(){return sn(on.id,"APPROVED")},color:"success",sx:{ml:2},children:"Approve"}),(0,o.jsx)(l.Z,{variant:"outlined",onClick:function(){return sn(on.id,"REJECTED")},color:"error",sx:{ml:2},children:"Reject"})]})]})}),(0,o.jsx)(u.ZP,{item:!0,xs:4}),(0,o.jsx)(d.Z,{}),(0,o.jsxs)(s.Z,{component:"form",mt:2,children:[(0,o.jsx)(f.Z,{loading:N,variant:"contained",component:"label",disabled:!z,onClick:function(){fn()},children:"Submit"}),(0,o.jsx)(v.x7,{position:"bottom-center",reverseOrder:!1})]})]})]})}},51248:function(n,e,t){"use strict";t.r(e),t.d(e,{rows:function(){return U}});var r=t(34051),i=t.n(r),o=t(85893),a=t(87357),u=t(86886),c=t(50135),s=t(11057),l=t(15861),d=t(53816),f=t(53252),p=t(67294),m=t(50319),h=t(42480),v=t(86501),x=t(77502),b=t(55511),y=t(9473),j=t(61636),g=t(99099),Z=t(85109),P=t(71455),w=t(8987);function S(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function E(n,e,t,r,i,o,a){try{var u=n[o](a),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function k(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){E(o,r,i,a,u,"next",n)}function u(n){E(o,r,i,a,u,"throw",n)}a(void 0)}))}}function O(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function A(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){O(n,e,t[e])}))}return n}function C(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(n,e)||R(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(n){return function(n){if(Array.isArray(n))return S(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||R(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(n,e){if(n){if("string"===typeof n)return S(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(n,e):void 0}}var U=[{config:h.Z.additional_documents}],I=function(n){var e=n.data,t=n.documents,r=void 0===t?[]:t,h=n.user,y=n.rowNo,j=(0,p.useState)([]),g=j[0],Z=j[1],S=(0,p.useState)([]),E=S[0],O=S[1],R=(0,p.useState)(0),U=R[0],I=R[1],T=(0,p.useState)([]),_=T[0],N=T[1],L=(0,p.useState)([null,null,null,null]),F=L[0],V=L[1];(0,p.useEffect)((function(){I(y)}),[y]);var H=C((0,m.D)(x.p1),1)[0],B=C((0,m.D)(x.HF),1)[0],J=(0,p.useState)(!1),W=J[0],G=J[1];(0,p.useEffect)((function(){var n=[],t=!0,i=!1,o=void 0;try{for(var a,u=r[Symbol.iterator]();!(t=(a=u.next()).done);t=!0){var c=a.value;n.push(c.url)}}catch(l){i=!0,o=l}finally{try{t||null==u.return||u.return()}finally{if(i)throw o}}Z(n);var s=[null,null,null,null];e.config.items.map((function(n){var e;null===h||void 0===h||null===(e=h.documents)||void 0===e||e.map((function(e){e.title===n.id&&(s[parseInt(n.id.slice(22,24))-2]=e.amount)}))})),V(s)}),[r,h]);var M=function(){var n=k(i().mark((function n(e,t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),Y=function(){var n=k(i().mark((function n(e,t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H({variables:{id:null===h||void 0===h?void 0:h.id,documentId:e,url:t}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),K=function(n){var e,t;return null===h||void 0===h||null===(e=h.documents)||void 0===e||e.map((function(e){e.title===n&&(t=e.id)})),t},$=function(){var n=k(i().mark((function n(){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=0;case 1:if(!(t<U)){n.next=11;break}if(r=e.config.items[t].id,!F[t]){n.next=8;break}return n.next=6,H({variables:{id:null===h||void 0===h?void 0:h.id,documentId:K(r),amount:F[t]}});case 6:n.sent,v.ZP.success("Amount Updated");case 8:t++,n.next=1;break;case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),X=function(){var n=k(i().mark((function n(e,t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,B({variables:{id:e,status:t}});case 3:n.sent&&("APPROVED"===t?v.ZP.success("Document Status ".concat(t)):v.ZP.error("Document Status ".concat(t)),N((function(n){return D(n).concat([{id:e,status:t}])}))),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),v.ZP.error(n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}(),q=function(n){var e=!1;return null===_||void 0===_||_.map((function(t){n===t.id&&(e=t.status)})),e},z=function(){var n=k(i().mark((function n(){var t,o,a,u,c,s,l,d;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:G(!0),n.prev=1,t=0;case 3:if(!(t<U)){n.next=32;break}if(!E[t]){n.next=29;break}return o=e.config.items[t].id,n.next=8,(0,b.Z)(g[t]);case 8:if(a=n.sent,u=r.find((function(n){if(n.title.toLowerCase()===o.toLowerCase())return!0})),(c=null===h||void 0===h?void 0:h.documents)||(c=[]),!u){n.next=22;break}return n.next=15,Y(u.id,a);case 15:s=n.sent,v.ZP.success("".concat(o," Uploaded")),(l=c.filter((function(n){return n.id!==document.id}))).push(s.data.updateDocument),c=l,n.next=27;break;case 22:return n.next=24,M(o,a);case 24:d=n.sent,v.ZP.success("".concat(o," Uploaded")),c=D(c).concat([d.data.createDocument]);case 27:A({},h).documents=c;case 29:t++,n.next=3;break;case 32:n.next=37;break;case 34:n.prev=34,n.t0=n.catch(1),console.log("error",n.t0);case 37:G(!1);case 38:case"end":return n.stop()}}),n,null,[[1,34]])})));return function(){return n.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[r[0]&&(0,o.jsxs)(l.Z,{sx:{fontWeight:"bold",marginTop:5},children:[e.config.name," ",e.isOptional?"(Optional)":""]}),r[0]&&(0,o.jsxs)(d.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,o.jsx)(f.Z,{width:300,children:function(){for(var n=[],e=0;e<U;e++){var t=g[e];t&&n.push((0,o.jsx)("div",{style:{marginTop:15},children:(0,o.jsx)(P.TV,{children:(0,o.jsx)(P.HI,{src:"object"==typeof t?URL.createObjectURL(t):t,children:(0,o.jsx)("img",{src:"object"==typeof t?URL.createObjectURL(t):t,height:150,style:{marginLeft:"5px"}})})})}))}return 0==n.length?(0,o.jsx)(l.Z,{variant:"subtitle1",children:"No Document"}):n}()}),(0,o.jsx)(f.Z,{style:{},children:function(){for(var n=function(n){var e,l=D(F);t.push((0,o.jsxs)("div",{style:{height:160,marginTop:10},children:[(0,o.jsxs)("div",{style:{marginBottom:10},children:["Status:"," ",(0,o.jsx)("span",{style:{color:"APPROVED"===q(r[n].id)?"green":"REJECTED"===q(r[n].id)?"red":r[n]?"APPROVED"===r[n].status?"green":"REJECTED"===r[n].status&&"red":""},children:q(r[n].id)||(null===(e=r[n])||void 0===e?void 0:e.status)})]}),(0,o.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center",marginBottom:"10px"},children:(0,o.jsxs)(u.ZP,{children:[(0,o.jsx)(c.Z,{id:"outlined",label:"Amount*",value:F[n],variant:"outlined",type:"number",onChange:function(e){e.target.value?l[n]=parseInt(e.target.value):l[n]=null,V(l)}}),(0,o.jsx)(s.Z,{onClick:function(){X(r[n].id,"APPROVED")},variant:"outlined",color:"success",sx:{ml:2},children:"Approve"}),(0,o.jsx)(s.Z,{onClick:function(){return X(r[n].id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})}),(0,o.jsxs)(s.Z,{fullWidth:!0,style:{marginTop:"10px"},component:"label",children:["Choose ",i[n].name,(0,o.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){if(e.target.files.length>0){var t=D(g);t[n]=e.target.files[0],Z(t);var r=D(E);r[n]=!0,O(r)}}})]})]}))},t=[],i=e.config.items,l=0;l<U;l++)n(l);return t}()}),(0,o.jsx)(f.Z,{children:(0,o.jsx)(w.Z,{loading:W,variant:"contained",onClick:function(){z(),$()},children:"Update"})})]},e.config.name)]})},T=function(n){var e=(0,y.v9)((function(n){return n.foundUser.foundUser})),t=[];if(e&&(null===e||void 0===e?void 0:e.documents)){var r=!0,i=!1,o=void 0;try{for(var a,u=function(n,r){var i,o=r.value,a=null===e||void 0===e||null===(i=e.documents)||void 0===i?void 0:i.find((function(n){if(n.title.toLowerCase()===o.id.toLowerCase())return!0}));a&&t.push(a)},c=n[Symbol.iterator]();!(r=(a=c.next()).done);r=!0)u(0,a)}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}}return t};e.default=function(){var n=(0,y.I0)(),e=(0,y.v9)((function(n){return n.foundUser.foundUser})),t=(0,y.v9)((function(n){return n.allUsers.allTheUsers})),r=(0,p.useState)(0),d=r[0],f=r[1],w=(0,p.useState)(!1),S=(w[0],w[1]),E=(0,p.useState)(!1),O=(E[0],E[1],(0,p.useState)("")),D=O[0],R=O[1],_=(0,p.useState)(!1),N=(_[0],_[1],(0,p.useState)()),L=N[0],F=N[1],V=(0,p.useState)(),H=V[0],B=V[1],J=(0,p.useState)(!1),W=J[0],G=J[1],M=(0,p.useState)(!1),Y=M[0],K=M[1],$=C((0,m.D)(x.p1),1)[0],X=C((0,m.D)(x.HF),1)[0],q=function(){var n=k(i().mark((function n(){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0,null===e||void 0===e||null===(t=e.documents)||void 0===t||t.map((function(n){"additional_payment_doc"===n.title.slice(0,22)&&(r+=1)})),f(r);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,p.useEffect)((function(){q()}),[]);var z=function(n,t){var r,i=e,o=[];return null===e||void 0===e||null===(r=e.documents)||void 0===r||r.map((function(e){e.id===n?o.push(A({},e,{url:t})):o.push(e)})),A({},i,{documents:o})},Q=function(n,t){var r,i=e,o=[];return null===e||void 0===e||null===(r=e.documents)||void 0===r||r.map((function(e){e.id===n?o.push(A({},e,{amount:t})):o.push(e)})),A({},i,{documents:o})},nn=function(n,t){var r,i=e,o=[];return null===e||void 0===e||null===(r=e.documents)||void 0===r||r.map((function(e){e.id===n?o.push(A({},e,{status:t})):o.push(e)})),A({},i,{documents:o})},en=function(){var e=k(i().mark((function e(r,o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({variables:{id:r,status:o}});case 2:e.sent,n((0,j.Hn)(nn(H.id,o))),n((0,g.UF)((0,Z.Z)(t,nn(H.id,o))));case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),tn=function(){var r=k(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,$({variables:{id:null===e||void 0===e?void 0:e.id,documentId:H.id,amount:parseInt(L)}});case 3:r.sent,n((0,j.Hn)(Q(H.id,parseInt(L)))),n((0,g.UF)((0,Z.Z)(t,Q(H.id,parseInt(L))))),v.ZP.success("Amount Updated"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),v.ZP.error(r.t0);case 12:S(!1);case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}(),rn=function(){var r=k(i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(S(!0),r.prev=1,o="",!W){r.next=15;break}return r.prev=4,r.next=7,(0,b.Z)(D);case 7:o=r.sent,r.next=13;break;case 10:r.prev=10,r.t0=r.catch(4),v.ZP.error("Error, Try Again!");case 13:r.next=16;break;case 15:o=D;case 16:if(!H){r.next=23;break}return r.next=19,$({variables:{id:null===e||void 0===e?void 0:e.id,documentId:H.id,url:o}});case 19:n((0,j.Hn)(z(H.id,o))),n((0,g.UF)((0,Z.Z)(t,z(H.id,o)))),r.next=24;break;case 23:console.log("we need access token of user to create any doc");case 24:v.ZP.success("Payment Slip Updated "),r.next=30;break;case 27:r.prev=27,r.t1=r.catch(1),v.ZP.error(r.t1);case 30:S(!1);case 31:case"end":return r.stop()}}),r,null,[[1,27],[4,10]])})));return function(){return r.apply(this,arguments)}}();return(0,p.useEffect)((function(){var n,t;e&&(null===e||void 0===e?void 0:e.documents)&&(null===e||void 0===e||null===(n=e.documents)||void 0===n?void 0:n.length)>0&&(null===e||void 0===e||null===(t=e.documents)||void 0===t||t.find((function(n){n.title.toLowerCase()===h.Z.payment_proof.items[0].id&&(B(n),R(n.url),F(n.amount))})))}),[e]),(0,o.jsxs)(o.Fragment,{children:[D?(0,o.jsx)(P.TV,{children:(0,o.jsx)(P.HI,{src:"object"==typeof D?URL.createObjectURL(D):D,children:(0,o.jsx)("img",{style:{marginTop:"10px",cursor:"pointer"},src:"object"==typeof D?URL.createObjectURL(D):D,width:200})})}):null,H&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.Z,{variant:"h4",sx:{my:2},children:["Status :"," ",(0,o.jsx)("span",{style:{color:H?"APPROVED"===H.status?"green":"REJECTED"===H.status&&"red":""},children:H&&H.status})]}),(0,o.jsx)(a.Z,{children:(0,o.jsxs)(u.ZP,{children:[(0,o.jsx)(s.Z,{onClick:function(){return en(H.id,"APPROVED")},variant:"outlined",color:"success",children:"Approve"}),(0,o.jsx)(s.Z,{onClick:function(){return en(H.id,"REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]})})]}),D&&(0,o.jsxs)(u.ZP,{container:!0,p:2,mt:2,pl:0,spacing:2,children:[(0,o.jsx)(c.Z,{id:"outlined",label:"Amount*",value:L,variant:"outlined",type:"number",onChange:function(n){F(n.target.value)}}),(0,o.jsx)(u.ZP,{item:!0,children:(0,o.jsx)(s.Z,{fullWidth:!0,variant:"contained",component:"label",onClick:function(){tn()},children:"Submit Amount"})})]}),(0,o.jsxs)(u.ZP,{container:!0,p:2,pl:0,spacing:2,children:[H&&(0,o.jsx)(u.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsxs)(s.Z,{variant:"contained",component:"label",children:["Select Payment Slip",(0,o.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(n){n.target.files.length>0&&(K(!0),R(n.target.files[0]),G(!0))}})]})}),D&&(0,o.jsx)(u.ZP,{item:!0,xs:12,sm:4,children:(0,o.jsx)(s.Z,{fullWidth:!0,variant:"contained",disabled:!Y,onClick:function(){rn()},children:"Submit"})}),(0,o.jsx)(v.x7,{position:"bottom-center",reverseOrder:!1})]}),(0,o.jsx)(o.Fragment,{children:U.map((function(n,t){return(0,o.jsx)(I,{data:n,rowNo:d,user:e,documents:T(n.config.items)},t)}))})]})}},90109:function(n,e,t){"use strict";t.r(e);var r=t(85893),i=(t(11936),t(9008)),o=t.n(i),a=t(25562),u=t(67294),c=t(28488),s=t(46225),l=t(11163),d=t(90948),f=t(87357),p=t(2734),m=t(53156),h=t(88409),v=t(40044),x=t(66242),b=t(86886),y=t(78273),j=t(69507),g=t(37610),Z=t(51248),P=t(77471),w=t(57857),S=t(6397),E=t(82245),k=t(9473),O=t(61636),A=(0,d.ZP)(f.Z)((function(n){var e=n.theme;return"\n      padding: 0 ".concat(e.spacing(2),";\n      position: relative;\n      bottom: -1px;\n\n      .MuiTabs-root {\n        height: 44px;\n        min-height: 44px;\n      }\n\n      .MuiTabs-scrollableX {\n        overflow-x: auto !important;\n      }\n\n      .MuiTabs-indicator {\n          min-height: 4px;\n          height: 4px;\n          box-shadow: none;\n          bottom: -4px;\n          background: none;\n          border: 0;\n\n          &:after {\n            position: absolute;\n            left: 50%;\n            width: 28px;\n            content: ' ';\n            margin-left: -14px;\n            background: ").concat(e.colors.primary.main,";\n            border-radius: inherit;\n            height: 100%;\n          }\n      }\n\n      .MuiTab-root {\n          &.MuiButtonBase-root {\n              height: 44px;\n              min-height: 44px;\n              background: ").concat(e.colors.alpha.white[50],";\n              border: 1px solid ").concat(e.colors.alpha.black[10],";\n              border-bottom: 0;\n              position: relative;\n              margin-right: ").concat(e.spacing(1),";\n              font-size: ").concat(e.typography.pxToRem(14),";\n              color: ").concat(e.colors.alpha.black[80],";\n              border-bottom-left-radius: 0;\n              border-bottom-right-radius: 0;\n\n              .MuiTouchRipple-root {\n                opacity: .1;\n              }\n\n              &:after {\n                position: absolute;\n                left: 0;\n                right: 0;\n                width: 100%;\n                bottom: 0;\n                height: 1px;\n                content: '';\n                background: ").concat(e.colors.alpha.black[10],";\n              }\n\n              &:hover {\n                color: ").concat(e.colors.alpha.black[100],";\n              }\n          }\n\n          &.Mui-selected {\n              color: ").concat(e.colors.alpha.black[100],";\n              background: ").concat(e.colors.alpha.white[100],";\n              border-bottom-color: ").concat(e.colors.alpha.white[100],";\n\n              &:after {\n                height: 0;\n              }\n          }\n      }\n  ")}));function C(){var n=(0,l.useRouter)(),e=((0,p.Z)(),(0,k.I0)()),t=(0,k.v9)((function(n){return n.allUsers.allTheUsers})),i=n.query.index,a=t.find((function(n){return(null===n||void 0===n?void 0:n.id)===i}));(0,u.useEffect)((function(){a&&e((0,O.Hn)(a))}),[]);var d=(0,u.useState)("basicInfo"),C=d[0],D=d[1];return(0,r.jsxs)(E.default,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"KYC Agency Dashboard"})}),(0,r.jsx)(y.Z,{children:(0,r.jsx)(c.Z,{})}),(0,r.jsxs)(m.Z,{maxWidth:!1,children:[(0,r.jsx)(A,{children:(0,r.jsx)(h.Z,{onChange:function(n,e){D(e)},value:C,variant:"scrollable",scrollButtons:"auto",textColor:"primary",indicatorColor:"primary",children:[{value:"basicInfo",label:"Basic Info"},{value:"payment",label:"Payment"},{value:"projects",label:"Projects"},{value:"documents",label:"Documents"},{value:"nominee",label:"Nominee"},{value:"demat",label:"Demat Account Details"}].map((function(n){return(0,r.jsx)(v.Z,{label:n.label,value:n.value},n.value)}))})}),(0,r.jsx)(x.Z,{variant:"outlined",children:(0,r.jsxs)(b.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:0,children:["basicInfo"===C&&(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{p:4,children:(0,r.jsx)(j.default,{})})}),"payment"===C&&(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{p:4,children:(0,r.jsx)(Z.default,{})})}),"projects"===C&&(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{p:4,children:(0,r.jsx)(P.default,{})})}),"documents"===C&&(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{p:4,children:(0,r.jsx)(w.default,{})})}),"nominee"===C&&(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{p:4,children:(0,r.jsx)(S.default,{})})}),"demat"===C&&(0,r.jsx)(b.ZP,{item:!0,xs:12,children:(0,r.jsx)(f.Z,{p:4,children:(0,r.jsx)(g.default,{})})})]})})]}),(0,r.jsx)(s.Z,{})]})}C.getLayout=function(n){return(0,r.jsx)(a.Z,{children:n})},e.default=C},82245:function(n,e,t){"use strict";t.r(e);var r=t(85893);e.default=function(n){var e=n.children;return(0,r.jsx)(r.Fragment,{children:e})}},46225:function(n,e,t){"use strict";var r=t(85893),i=t(90948),o=t(53156),a=t(87357),u=t(15861),c=(0,i.ZP)(o.Z)((function(n){var e=n.theme;return"\n        margin-top: ".concat(e.spacing(4),";\n")}));e.Z=function(){return(0,r.jsx)(c,{className:"footer-wrapper",children:(0,r.jsxs)(a.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,r.jsx)(a.Z,{}),(0,r.jsx)(u.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1"})]})})}},78273:function(n,e,t){"use strict";var r=t(85893),i=t(45697),o=t.n(i),a=t(90948),u=t(87357),c=t(53156),s=(0,a.ZP)(u.Z)((function(n){var e=n.theme;return"\n        padding: ".concat(e.spacing(4),";\n")})),l=function(n){var e=n.children;return(0,r.jsx)(s,{className:"MuiPageTitle-wrapper",children:(0,r.jsx)(c.Z,{maxWidth:!1,children:e})})};l.propTypes={children:o().node.isRequired},e.Z=l},28488:function(n,e,t){"use strict";var r=t(34051),i=t.n(r),o=t(85893),a=t(46230),u=t(2734),c=t(87357),s=t(15861),l=t(71236),d=t(11057),f=t(50657),p=t(37645),m=t(6514),h=t(58951),v=t(31425),x=t(50319),b=t(86501),y=t(68586),j=t(77502),g=t(9473),Z=t(11163),P=t(67294);function w(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function S(n,e,t,r,i,o,a){try{var u=n[o](a),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function E(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function k(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return w(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.Z=function(){var n=(0,a.C)((function(n){var e;return null===(e=n.user)||void 0===e?void 0:e.data})),e=(0,u.Z)(),t=k((0,x.D)(j.QX),1)[0],r=(0,P.useState)(""),w=r[0],O=r[1],A=(0,P.useState)(""),C=A[0],D=A[1],R=(0,g.v9)((function(n){return n.foundUser.foundUser})),U=(0,Z.useRouter)(),I=(0,P.useState)(!1),T=I[0],_=I[1],N=function(){_(!0)},L=function(){_(!1)},F=function(){var n,e=(n=i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({variables:{id:R.id,kyc:C}});case 2:e=n.sent,L(),"APPROVED"===C&&b.ZP.success("KYC APPROVED"),"REJECTED"===C&&b.ZP.error("KYC REJECTED"),"ONGOING"===C&&b.ZP.success("KYC ONGOING"),O(e.data.updateStatus.kyc);case 8:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){S(o,r,i,a,u,"next",n)}function u(n){S(o,r,i,a,u,"throw",n)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:["/dashboard"===U.pathname&&(0,o.jsxs)(c.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,o.jsx)(c.Z,{display:"flex",alignItems:"center",children:(0,o.jsxs)(c.Z,{children:[(0,o.jsxs)(s.Z,{variant:"h3",component:"h3",gutterBottom:!0,sx:E({},e.breakpoints.down("sm"),{fontSize:20}),children:["Welcome, ",(null===n||void 0===n?void 0:n.name)?null===n||void 0===n?void 0:n.name:null===n||void 0===n?void 0:n.rm_id,"!"]}),(0,o.jsxs)(s.Z,{variant:"h5",component:"h5",align:"left",children:["Share Holder Type :"," ",(0,o.jsx)(l.Z,{badgeContent:null===n||void 0===n?void 0:n.membership,sx:{marginLeft:4},color:"success"})]}),(0,o.jsx)(s.Z,{variant:"subtitle2",mt:1,sx:E({},e.breakpoints.down("sm"),{fontSize:12}),children:"APPROVED"===(null===n||void 0===n?void 0:n.kyc)?"Your KYC has been Approved":"Complete Your KYC By Filling the form below"})]})}),(0,o.jsxs)(c.Z,{mt:{xs:3,md:0},children:[(0,o.jsxs)(s.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:["Status :"," ",(0,o.jsx)("span",{style:{color:(null===n||void 0===n?void 0:n.kyc)?"APPROVED"===(null===n||void 0===n?void 0:n.kyc)?"green":"REJECTED"===(null===n||void 0===n?void 0:n.kyc)&&"red":""},children:"NOT_INITIALIZED"===(null===n||void 0===n?void 0:n.kyc)?"NOT STARTED":null===n||void 0===n?void 0:n.kyc})]})," "]})]}),"/agency/[index]"===U.pathname&&(0,o.jsxs)(c.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,o.jsxs)(c.Z,{display:"flex",alignItems:"center",children:[(0,o.jsx)(s.Z,{variant:"h3",component:"h3",sx:{textTransform:"uppercase"},gutterBottom:!0,children:"Agency Dashboard"}),(0,o.jsx)(s.Z,{variant:"subtitle2",children:(0,o.jsx)(y.C,{href:"/agency",children:(0,o.jsx)(d.Z,{variant:"outlined",color:"primary",sx:{ml:2},children:"USERLIST"})})})]}),"/agency/[index]"===U.pathname&&(0,o.jsxs)(c.Z,{margin:" 0 0 0 auto",children:[(0,o.jsx)(c.Z,{children:(0,o.jsx)(s.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:(0,o.jsxs)("span",{style:{color:w?("APPROVED"===w?"green":"REJECTED"===w&&"red")||"ONGOING"===w&&"orange"||"AGENT_APPROVED"===w&&"green":("APPROVED"===R.kyc?"green":"REJECTED"===R.kyc&&"red")||"ONGOING"===R.kyc&&"orange"||"AGENT_APPROVED"===R.kyc&&"green"},children:["Status :"," ",w?("AGENT_APPROVED"===w?"AGENT APPROVED":"NOT_INITIALIZED"===w&&"NOT INITIALIZED")||w:(null===R||void 0===R?void 0:R.kyc)?"AGENT_APPROVED"===(null===R||void 0===R?void 0:R.kyc)?"AGENT APPROVED":null===R||void 0===R?void 0:R.kyc:"UNKNOWN"]})})}),(0,o.jsx)(d.Z,{onClick:function(){N(),D("AGENT_APPROVED")},variant:"outlined",color:"success",sx:{ml:2},children:"Approve"}),(0,o.jsx)(d.Z,{onClick:function(){N(),D("ONGOING")},variant:"outlined",color:"warning",sx:{ml:2},children:"Ongoing"}),(0,o.jsx)(d.Z,{onClick:function(){N(),D("REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"}),(0,o.jsx)("div",{children:(0,o.jsxs)(f.Z,{open:T,onClose:L,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,o.jsx)(p.Z,{id:"alert-dialog-title",children:"Submit KYC Status"}),(0,o.jsx)(m.Z,{children:(0,o.jsxs)(h.Z,{id:"alert-dialog-description",children:["KYC Status will be set to ",C,"."]})}),(0,o.jsxs)(v.Z,{children:[(0,o.jsx)(d.Z,{onClick:L,children:"Dismiss"}),(0,o.jsx)(d.Z,{onClick:F,autoFocus:!0,children:"Submit"})]})]})})]}),(0,o.jsx)(c.Z,{mt:{xs:3,md:0}})]})]})}},19662:function(){},37070:function(){},93491:function(){},11936:function(){}},function(n){n.O(0,[2005,5370,9990,4789,2052,6180,1880,6549,7058,788,1742,2995,8549,309,8584,8501,6154,6261,6233,6572,3864,8424,8628,5562,7471,9774,2888,179],(function(){return e=14014,n(n.s=e);var e}));var e=n.O();_N_E=e}]);