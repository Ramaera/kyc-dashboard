(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{7906:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(63366),i=n(87462),a=n(67294),s=n(93680),o=n(94780),l=n(31618),u=n(71657),d=n(90948),c=n(34867);function m(e){return(0,c.Z)("MuiTable",e)}(0,n(1588).Z)("MuiTable",["root","stickyHeader"]);var v=n(85893);const f=["className","component","padding","size","stickyHeader"],h=(0,d.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((({theme:e,ownerState:t})=>(0,i.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,i.Z)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"}))),Z="table";var p=a.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiTable"}),{className:d,component:c=Z,padding:p="normal",size:x="medium",stickyHeader:b=!1}=n,g=(0,r.Z)(n,f),j=(0,i.Z)({},n,{component:c,padding:p,size:x,stickyHeader:b}),y=(e=>{const{classes:t,stickyHeader:n}=e,r={root:["root",n&&"stickyHeader"]};return(0,o.Z)(r,m,t)})(j),P=a.useMemo((()=>({padding:p,size:x,stickyHeader:b})),[p,x,b]);return(0,v.jsx)(l.Z.Provider,{value:P,children:(0,v.jsx)(h,(0,i.Z)({as:c,role:c===Z?null:"table",ref:t,className:(0,s.Z)(y.root,d),ownerState:j},g))})}))},295:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(87462),i=n(63366),a=n(67294),s=n(93680),o=n(94780),l=n(44063),u=n(71657),d=n(90948),c=n(34867);function m(e){return(0,c.Z)("MuiTableBody",e)}(0,n(1588).Z)("MuiTableBody",["root"]);var v=n(85893);const f=["className","component"],h=(0,d.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),Z={variant:"body"},p="tbody";var x=a.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiTableBody"}),{className:a,component:d=p}=n,c=(0,i.Z)(n,f),x=(0,r.Z)({},n,{component:d}),b=(e=>{const{classes:t}=e;return(0,o.Z)({root:["root"]},m,t)})(x);return(0,v.jsx)(l.Z.Provider,{value:Z,children:(0,v.jsx)(h,(0,r.Z)({className:(0,s.Z)(b.root,a),as:d,ref:t,role:d===p?null:"rowgroup",ownerState:x},c))})}))},72882:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(87462),i=n(63366),a=n(67294),s=n(93680),o=n(94780),l=n(71657),u=n(90948),d=n(34867);function c(e){return(0,d.Z)("MuiTableContainer",e)}(0,n(1588).Z)("MuiTableContainer",["root"]);var m=n(85893);const v=["className","component"],f=(0,u.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"});var h=a.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiTableContainer"}),{className:a,component:u="div"}=n,d=(0,i.Z)(n,v),h=(0,r.Z)({},n,{component:u}),Z=(e=>{const{classes:t}=e;return(0,o.Z)({root:["root"]},c,t)})(h);return(0,m.jsx)(f,(0,r.Z)({ref:t,as:u,className:(0,s.Z)(Z.root,a),ownerState:h},d))}))},53184:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(87462),i=n(63366),a=n(67294),s=n(93680),o=n(94780),l=n(44063),u=n(71657),d=n(90948),c=n(34867);function m(e){return(0,c.Z)("MuiTableHead",e)}(0,n(1588).Z)("MuiTableHead",["root"]);var v=n(85893);const f=["className","component"],h=(0,d.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Z={variant:"head"},p="thead";var x=a.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiTableHead"}),{className:a,component:d=p}=n,c=(0,i.Z)(n,f),x=(0,r.Z)({},n,{component:d}),b=(e=>{const{classes:t}=e;return(0,o.Z)({root:["root"]},m,t)})(x);return(0,v.jsx)(l.Z.Provider,{value:Z,children:(0,v.jsx)(h,(0,r.Z)({as:d,className:(0,s.Z)(b.root,a),ref:t,role:d===p?null:"rowgroup",ownerState:x},c))})}))},26117:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(12893)}])},45866:function(e,t,n){"use strict";n.r(t);var r=n(26042),i=n(69396),a=n(85893),s=n(26183),o=n(30711),l=n(86886),u=n(50135),d=n(67294),c=n(86501);t.default=function(){var e=(0,s.C)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.data})),t=(0,d.useState)({dscStatus:"",createdDate:"",expiryDate:""}),n=t[0],m=t[1];return(0,d.useEffect)((function(){var t,n,r;(null===e||void 0===e?void 0:e.DSCDetails)&&m({dscStatus:null===(t=null===e||void 0===e?void 0:e.DSCDetails[0])||void 0===t?void 0:t.DSCStatus,createdDate:null===(n=null===e||void 0===e?void 0:e.DSCDetails[0])||void 0===n?void 0:n.DscCreatedDate,expiryDate:null===(r=null===e||void 0===e?void 0:e.DSCDetails[0])||void 0===r?void 0:r.DscExpiryDate})}),[e]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.ZP,{container:!0,p:2,spacing:2,children:[(0,a.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(u.Z,{disabled:!0,id:"outlined",label:"DSC Status",type:"text",fullWidth:!0,value:n.dscStatus,variant:"outlined"})}),(0,a.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(o.$,{label:"Created Date",inputFormat:"dd/MM/yyyy",value:n.createdDate,disabled:!0,onChange:function(){},renderInput:function(e){return(0,a.jsx)(u.Z,(0,i.Z)((0,r.Z)({},e),{sx:{width:"100%"}}))}})}),(0,a.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsx)(o.$,{label:"Expiry Date",inputFormat:"dd/MM/yyyy",onChange:function(){},value:n.expiryDate,disabled:!0,renderInput:function(e){return(0,a.jsx)(u.Z,(0,i.Z)((0,r.Z)({},e),{sx:{width:"100%"}}))}})})]}),(0,a.jsx)(c.x7,{position:"bottom-right",reverseOrder:!1})]})}},50091:function(e,t,n){"use strict";n.r(t),n.d(t,{rows:function(){return A}});var r=n(47568),i=n(14924),a=n(26042),s=n(69396),o=n(828),l=n(29815),u=n(97582),d=n(85893),c=n(4749),m=n(44709),v=n(26183),f=n(89448),h=n(29792),Z=n(50319),p=n(8987),x=n(2734),b=n(87357),g=n(11057),j=n(15861),y=n(53816),P=n(53252),D=n(86886),E=n(50135),_=n(67294),C=n(86501),A=[{config:m.Z.additional_demat_documents}],R=function(e){var t=e.data,n=e.documents,m=void 0===n?[]:n,D=e.user,E=e.rowNo,A=e.hideAdditionalDocuments,R=(0,x.Z)(),S=(0,_.useState)([]),w=S[0],O=S[1],N=(0,_.useState)([]),k=N[0],T=N[1],V=(0,_.useState)(E),I=V[0],M=V[1],L=(0,o.Z)((0,Z.D)(c.Is),1)[0],U=(0,o.Z)((0,Z.D)(c.yW),1)[0],W=(0,_.useState)(!1),F=W[0],B=W[1],G=(0,_.useState)([]),H=G[0],J=(G[1],(0,v.T)());(0,_.useEffect)((function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,a=m[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;e.push(s.url)}}catch(o){n=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}O(e)}),[m,D]);var K=function(){var e=(0,r.Z)((function(e,t){return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return[4,L({variables:{title:e,url:t}})];case 1:return[2,n.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=(0,r.Z)((function(e,t,n){return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,U({variables:{id:e,title:t,url:n}})];case 1:return[2,r.sent()]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),Y=function(e){var t=!1;return null===H||void 0===H||H.map((function(n){e===n.id&&(t=n.status)})),t},z=function(e,t,n){var r,i=D,o=[];return null===D||void 0===D||null===(r=D.documents)||void 0===r||r.map((function(n){n.id===e?o.push((0,s.Z)((0,a.Z)({},n),{title:"avatar"})):n.title!==t&&o.push(n)})),(0,s.Z)((0,a.Z)({},i),{documents:o})},X=function(){var e=(0,r.Z)((function(){var e,n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:B(!0),i.label=1;case 1:i.trys.push([1,6,,7]),e=function(e){var n,r,i,s,o,d,c,v;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return k[e]?(n=t.config.items[e].id,[4,(0,h.Z)(w[e])]):[3,7];case 1:return r=u.sent(),i=m.find((function(e){if(e.title.toLowerCase()===n.toLowerCase())return!0})),(s=null===D||void 0===D?void 0:D.documents)||(s=[]),i?[4,q(i.id,n,r)]:[3,4];case 2:return o=u.sent(),[4,J((0,f.j2)(z(i.id,n)))];case 3:return u.sent(),C.ZP.success("".concat(n," Uploaded")),(d=s.filter((function(e){return e.id!==document.id}))).push(o.data.updateDocument),s=d,[3,6];case 4:return[4,K(n,r)];case 5:c=u.sent(),C.ZP.success("Document Uploaded"),s=(0,l.Z)(s).concat([c.data.createDocument]),u.label=6;case 6:(v=(0,a.Z)({},D)).documents=s,J((0,f.j2)(v)),u.label=7;case 7:return[2]}}))},n=0,i.label=2;case 2:return n<I?[5,(0,u.__values)(e(n))]:[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:return r=i.sent(),console.log("error",r),[3,7];case 7:return B(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(b.Z,{sx:(0,i.Z)({border:"none",fontWeight:800},R.breakpoints.down("sm"),{textAlign:"center"}),children:[t.config.name," ",t.isOptional?"(Optional)":""]}),(0,d.jsxs)(y.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,d.jsx)(P.Z,{sx:(0,i.Z)({display:"flex",flexDirection:"column",border:"none"},R.breakpoints.down("sm"),{paddingRight:0}),children:function(){for(var e=[],n=(t.config.items,0);n<I;n++){var r=w[n];r&&e.push((0,d.jsx)("div",{style:{marginTop:15},children:(0,d.jsx)("img",{src:"object"==typeof r?URL.createObjectURL(r):r,height:150,style:{marginLeft:"5px"}})}))}return 0==e.length?(0,d.jsx)(j.Z,{variant:"subtitle1",children:"No Document"}):e}()}),(0,d.jsx)(P.Z,{style:{border:"none"},children:function(){for(var e=function(e){var t,a,s,o,u,c,v;n.push((0,d.jsxs)(b.Z,{sx:(0,i.Z)({height:160,marginTop:1,marginLeft:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},R.breakpoints.down("sm"),{marginLeft:0,marginTop:2}),children:[(0,d.jsxs)(b.Z,{sx:(0,i.Z)({marginBottom:"10px",marginLeft:"15px"},R.breakpoints.down("sm"),{marginBottom:"0px"}),children:["Status:"," ",(0,d.jsx)("span",{style:{color:"APPROVED"===Y(null===(t=m[e])||void 0===t?void 0:t.id)?"green":"REJECTED"===Y(null===(a=m[e])||void 0===a?void 0:a.id)?"red":m[e]?"APPROVED"===m[e].status?"green":"REJECTED"===m[e].status&&"red":""},children:Y(null===(s=m[e])||void 0===s?void 0:s.id)||(null===(o=m[e])||void 0===o?void 0:o.status)||"NOT STARTED"})]}),(0,d.jsxs)(g.Z,{style:{cursor:m[e]&&"APPROVED"===m[e].status?"not-allowed":"pointer",marginTop:"10px"},disabled:"APPROVED"===Y(null===(u=m[e])||void 0===u?void 0:u.id)||"APPROVED"==(null===(c=m[e])||void 0===c?void 0:c.status),component:"label",color:m[e]&&"APPROVED"===m[e].status?"secondary":"primary",children:["Choose ",null===(v=r[e])||void 0===v?void 0:v.name,(0,d.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!m[e]&&"APPROVED"===m[e].status,onChange:function(t){if(t.target.files.length>0){var n=(0,l.Z)(w);n[e]=t.target.files[0],O(n);var r=(0,l.Z)(k);r[e]=!0,T(r)}}})]})]}))},n=[],r=t.config.items,a=0;a<I;a++)e(a);return n}()})]},t.config.name),I<=3&&(0,d.jsx)(p.Z,{variant:"contained",disabled:w.length!==I,onClick:function(){M(I+1)},children:"Add More"}),(0,d.jsx)(p.Z,{sx:{marginLeft:1},variant:"contained",onClick:A,children:"Go Back"}),(0,d.jsx)(p.Z,{sx:{marginLeft:1},loading:F,variant:"contained",onClick:function(){X()},children:"Upload"}),(0,d.jsx)(C.x7,{position:"bottom-center",reverseOrder:!1})]})};t.default=function(){var e=(0,v.T)(),t=(0,v.C)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.data})),n=(0,_.useState)(null),i=n[0],l=n[1],x=(0,_.useState)(null),y=x[0],P=x[1],S=(0,_.useState)(0),w=S[0],O=S[1],N=(0,_.useState)(!1),k=N[0],T=N[1],V=(0,_.useState)(),I=V[0],M=V[1],L=(0,_.useState)(!1),U=L[0],W=L[1],F=(0,_.useState)(!1),B=F[0],G=F[1],H=(0,_.useState)(!1),J=H[0],K=H[1],q=(0,o.Z)((0,Z.D)(c.Is),1)[0],Y=(0,o.Z)((0,Z.D)(c.yW),1)[0],z=(0,o.Z)((0,Z.D)(c.v9),1)[0],X=(0,_.useState)(!1),$=X[0],Q=X[1],ee=function(e){var n=[];if(t&&(null===t||void 0===t?void 0:t.documents)){var r=!0,i=!1,a=void 0;try{for(var s,o=function(){var e,r=s.value,i=null===t||void 0===t||null===(e=t.documents)||void 0===e?void 0:e.find((function(e){if(e.title.toLowerCase()===r.id.toLowerCase())return!0}));i&&n.push(i)},l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)o()}catch(u){i=!0,a=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}}return n},te=function(){var n=(0,r.Z)((function(){var n,r,o,d;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:if(n=function(e){return!!e||(alert("Invalid Image"),!1)}(y),!n)return[2];G(!0),u.label=1;case 1:return u.trys.push([1,12,,13]),i?[4,z({variables:{demat_account:i}})]:[3,4];case 2:return u.sent(),[4,e((0,f.j2)((0,s.Z)((0,a.Z)({},t),{demat_account:i})))];case 3:u.sent(),u.label=4;case 4:return o="",U?[4,(0,h.Z)(y)]:[3,6];case 5:return o=u.sent(),[3,7];case 6:o=y,u.label=7;case 7:return t&&l(null===t||void 0===t?void 0:t.demat_account),t&&(null===t||void 0===t?void 0:t.documents)&&(null===t||void 0===t||null===(r=t.documents)||void 0===r?void 0:r.length)>0&&(null===t||void 0===t||null===(d=t.documents)||void 0===d||d.find((function(e){e.title.toLowerCase()===m.Z.demat_document.items[0].id&&(M(e),P(e.url))}))),I?[4,Y({variables:{title:m.Z.demat_document.items[0].id,url:o,id:I.id}})]:[3,9];case 8:return u.sent(),C.ZP.success("Demat Details Updated "),K(!1),e((0,f.j2)(function(e,n,r){var i,o=t,l=[];return null===t||void 0===t||null===(i=t.documents)||void 0===i||i.map((function(t){t.id===e?l.push((0,s.Z)((0,a.Z)({},t),{url:n})):l.push(t)})),(0,s.Z)((0,a.Z)({},o),{documents:l,demat_account:r})}(I.id,o,i))),[3,11];case 9:return[4,q({variables:{title:m.Z.demat_document.items[0].id,url:o}})];case 10:u.sent(),C.ZP.success("Demat Details Updated "),K(!1),T(!0),u.label=11;case 11:return[3,13];case 12:return u.sent(),[3,13];case 13:return G(!1),[2]}}))}));return function(){return n.apply(this,arguments)}}();(0,_.useEffect)((function(){var e,n;(t&&l(null===t||void 0===t?void 0:t.demat_account),t&&(null===t||void 0===t?void 0:t.documents)&&(null===t||void 0===t||null===(e=t.documents)||void 0===e?void 0:e.length)>0)&&(null===t||void 0===t||null===(n=t.documents)||void 0===n||n.find((function(e){e.title.toLowerCase()===m.Z.demat_document.items[0].id&&(M(e),P(e.url))})))}),[t]),(0,_.useEffect)((function(){!function(){var e,n=0;null===t||void 0===t||null===(e=t.documents)||void 0===e||e.map((function(e){e.title.includes("demat_document_")&&(n+=1),O(n)}))}()}),[]);var ne=function(){Q(!1)};return(0,d.jsx)(d.Fragment,{children:$?(0,d.jsx)(d.Fragment,{children:A.map((function(e,n){return(0,d.jsx)(R,{hideAdditionalDocuments:ne,data:e,rowNo:w,user:t,documents:ee(e.config.items)},n)}))}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j.Z,{variant:"h4",sx:{my:2},children:"Kindly Fill the form add demat details"}),(0,d.jsx)(D.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,d.jsx)(E.Z,{id:"outlined",label:"Demat Account No.",fullWidth:!0,value:i,variant:"outlined",onChange:function(e){l(e.target.value),K(!0)}})}),y?(0,d.jsx)("img",{src:"object"==typeof y?URL.createObjectURL(y):y,style:{marginTop:"10px"},height:200}):null,I&&I.status&&(0,d.jsxs)(j.Z,{variant:"h4",sx:{mt:2},children:["Status :"," ",(0,d.jsxs)("span",{style:{color:I?"APPROVED"===I.status?"green":"REJECTED"===I.status&&"red":""},children:[" ",I&&I.status]})]}),(0,d.jsxs)(D.ZP,{container:!0,pt:3,pb:2,pr:2,spacing:2,children:[(0,d.jsx)(D.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:(0,d.jsxs)(g.Z,{variant:"contained",style:{cursor:I&&"APPROVED"===I.status?"not-allowed":"pointer"},component:"label",color:I&&"APPROVED"===I.status?"secondary":"primary",children:["Upload Demat Account Details",(0,d.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!I&&"APPROVED"===I.status,onChange:function(e){e.target.files.length>0&&(P(e.target.files[0]),W(!0),K(!0))}})]})}),(0,d.jsx)(D.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:(0,d.jsx)(b.Z,{component:"form",children:(0,d.jsx)(p.Z,{loading:B,fullWidth:!0,disabled:!J,variant:"contained",onClick:function(){te()},children:"Submit"})})}),(0,d.jsx)(C.x7,{position:"bottom-right",reverseOrder:!1})]}),(0,d.jsx)(D.ZP,{item:!0,xs:4}),k||I&&(0,d.jsx)(p.Z,{variant:"contained",onClick:function(){Q(!0)},children:"Additional Documents"})]})})}},37861:function(e,t,n){"use strict";n.r(t),n.d(t,{rows:function(){return a}});var r=n(85893),i=n(44709),a=[{config:i.Z.avatar,status:-1},{config:i.Z.aadhar,status:-1},{config:i.Z.pancard,status:-1},{config:i.Z.passbook,status:-1},{config:i.Z.voterId,status:-1,isOptional:!0},{config:i.Z.driving_license,status:-1,isOptional:!0}];t.default=function(){return(0,r.jsx)("div",{children:"RemoveError"})}},99261:function(e,t,n){"use strict";n.r(t);var r=n(47568),i=n(14924),a=n(26042),s=n(69396),o=n(828),l=n(29815),u=n(97582),d=n(85893),c=n(4749),m=n(26183),v=n(29792),f=n(50319),h=n(8987),Z=n(2734),p=n(11057),x=n(15861),b=n(50456),g=n(55113),j=n(7906),y=n(295),P=n(53252),D=n(72882),E=n(53184),_=n(89448),C=n(53816),A=(n(68680),n(3924),n(72484),n(67294)),R=n(86501),S=n(37861),w=n(34753),O=function(e){var t=e.data,n=e.documents,b=void 0===n?[]:n,g=e.user,j=(0,Z.Z)(),y=(0,A.useState)([]),D=y[0],E=y[1],S=(0,A.useState)([]),O=S[0],N=S[1],k=(0,o.Z)((0,f.D)(c.Is),1)[0],T=(0,o.Z)((0,f.D)(c.yW),1)[0],V=(0,A.useState)(!1),I=V[0],M=V[1],L=(0,m.T)();(0,A.useEffect)((function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,a=b[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;e.push(s.url)}}catch(o){n=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}E(e)}),[b,g]);var U=function(){var e=(0,r.Z)((function(e,t){return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return[4,k({variables:{title:e,url:t}})];case 1:return[2,n.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=(0,r.Z)((function(e,t,n){return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,T({variables:{id:e,title:t,url:n}})];case 1:return[2,r.sent()]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),F=function(e,t,n){var r,i=g,o=[];return null===g||void 0===g||null===(r=g.documents)||void 0===r||r.map((function(n){n.id===e?o.push((0,s.Z)((0,a.Z)({},n),{title:"avatar"})):n.title!==t&&o.push(n)})),(0,s.Z)((0,a.Z)({},i),{documents:o})},B=function(){var e=(0,r.Z)((function(){var e,n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:M(!0),i.label=1;case 1:i.trys.push([1,6,,7]),e=function(e){var n,r,i,s,o,d,c,m;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return O[e]?(n=t.config.items[e].id,[4,(0,v.Z)(D[e])]):[3,7];case 1:return r=u.sent(),i=b.find((function(e){if(e.title.toLowerCase()===n.toLowerCase())return!0})),(s=null===g||void 0===g?void 0:g.documents)||(s=[]),i?[4,W(i.id,n,r)]:[3,4];case 2:return o=u.sent(),[4,L((0,_.j2)(F(i.id,n)))];case 3:return u.sent(),R.ZP.success("".concat(n," Uploaded")),(d=s.filter((function(e){return e.id!==document.id}))).push(o.data.updateDocument),s=d,[3,6];case 4:return[4,U(n,r)];case 5:c=u.sent(),R.ZP.success("".concat(n," Uploaded")),s=(0,l.Z)(s).concat([c.data.createDocument]),u.label=6;case 6:(m=(0,a.Z)({},g)).documents=s,L((0,_.j2)(m)),u.label=7;case 7:return[2]}}))},n=0,i.label=2;case 2:return n<O.length?[5,(0,u.__values)(e(n))]:[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:return r=i.sent(),console.log("error",r),[3,7];case 7:return M(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,d.jsxs)(C.Z,{sx:(0,i.Z)({"&:last-child td, &:last-child th":{border:0}},j.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,d.jsxs)(P.Z,{component:"th",scope:"row",children:[t.config.name," ",t.isOptional?"(Optional)":""]}),(0,d.jsx)(P.Z,{children:function(){for(var e=[],n=t.config.items,r=0;r<n.length;r++){var i=D[r];i&&e.push((0,d.jsx)("img",{src:"object"==typeof i?URL.createObjectURL(i):i,height:100,style:{marginLeft:"5px"}}))}return 0==e.length?(0,d.jsx)(x.Z,{variant:"subtitle1",children:"No Document"}):e}()}),(0,d.jsx)(P.Z,{children:function(){for(var e=function(e){n.push((0,d.jsxs)(p.Z,{style:{cursor:b[0]&&"APPROVED"===b[0].status?"not-allowed":"pointer",marginTop:"10px"},component:"label",color:b[0]&&"APPROVED"===b[0].status?"secondary":"primary",children:["Choose ",r[e].name,(0,d.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!b[0]&&"APPROVED"===b[0].status,onChange:function(t){if(t.target.files.length>0){var n=(0,l.Z)(D);n[e]=t.target.files[0],E(n);var r=(0,l.Z)(O);r[e]=!0,N(r)}}})]}))},n=[],r=t.config.items,i=0;i<r.length;i++)e(i);return n}()}),(0,d.jsx)(P.Z,{children:(null===g||void 0===g?void 0:g.kyc)!==w.Z.status.APPROVED&&(0,d.jsx)(h.Z,{loading:I,disabled:!function(){var e=O.find((function(e){if(e)return!0}));if(D.length==t.config.items.length&&e)return!0}(),variant:"contained",onClick:function(){B()},children:"Upload"})}),(0,d.jsx)(P.Z,{children:(0,d.jsx)("span",{style:{color:b[0]?"APPROVED"===b[0].status?"green":"REJECTED"===b[0].status&&"red":""},children:b[0]&&b[0].status})})]},t.config.name)};t.default=function(){var e=(0,m.C)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.data})),t=function(t){var n=[];if(e&&(null===e||void 0===e?void 0:e.documents)){var r=!0,i=!1,a=void 0;try{for(var s,o=function(){var t,r=s.value,i=null===e||void 0===e||null===(t=e.documents)||void 0===t?void 0:t.find((function(e){if(e.title.toLowerCase()===r.id.toLowerCase())return!0}));i&&n.push(i)},l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)o()}catch(u){i=!0,a=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}}return n};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x.Z,{variant:"h4",sx:{my:2},children:"Kindly Upload the documents requested below"}),(0,d.jsxs)(D.Z,{component:g.Z,children:[(0,d.jsxs)(j.Z,{"aria-label":"simple table",children:[(0,d.jsx)(E.Z,{children:(0,d.jsxs)(C.Z,{children:[(0,d.jsx)(P.Z,{children:"Document Name"}),(0,d.jsxs)(b.Z,{smDown:!0,children:[(0,d.jsx)(P.Z,{children:"Preview"}),(0,d.jsx)(P.Z,{style:{padding:"0 0 0 2rem"},children:"Action"}),(0,d.jsx)(P.Z,{style:{padding:"0 0 0 2rem"},children:"Upload Action"}),(0,d.jsx)(P.Z,{children:"Status"})]})]})}),(0,d.jsx)(y.Z,{children:S.rows.map((function(n,r){return(0,d.jsx)(O,{data:n,user:e,documents:t(n.config.items)},r)}))})]}),(0,d.jsx)(R.x7,{position:"bottom-center",reverseOrder:!1})]})]})}},42602:function(e,t,n){"use strict";n.r(t);var r=n(47568),i=n(26042),a=n(69396),s=n(828),o=n(97582),l=n(85893),u=n(4749),d=n(34753),c=n(26183),m=n(89448),v=n(50319),f=n(8987),h=n(86886),Z=n(50135),p=n(87357),x=n(67294),b=n(86501);t.default=function(){var e=(0,c.T)(),t=(0,c.C)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.data})),n=(0,x.useState)(null),g=n[0],j=n[1],y=(0,x.useState)(null),P=y[0],D=y[1],E=(0,x.useState)(null),_=E[0],C=E[1],A=(0,x.useState)(null),R=A[0],S=A[1],w=(0,x.useState)(null),O=w[0],N=w[1],k=(0,x.useState)(null),T=k[0],V=k[1],I=(0,x.useState)(!1),M=I[0],L=I[1],U=(0,s.Z)((0,v.D)(u.v9),1)[0],W=(0,x.useState)(null),F=W[0],B=W[1],G=(0,x.useState)({address:"",aadhaar:"",pan:""}),H=G[0],J=G[1],K=(0,x.useState)({mobileNumber:null,AlternateMobileNumber:null,email:null}),q=K[0],Y=K[1],z=function(e){return/\S+@\S+\.\S+/.test(e)},X=function(e){return/^\d{10}$/.test(e)},$=function(){var n=(0,r.Z)((function(){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:if(!X(R))return Y((0,a.Z)((0,i.Z)({},q),{mobileNumber:"Please enter a valid mobile number"})),[2];if(Y((0,a.Z)((0,i.Z)({},q),{mobileNumber:""})),!X(O))return Y((0,a.Z)((0,i.Z)({},q),{AlternateMobileNumber:"Please enter a valid Alternate mobile number"})),[2];if(Y((0,a.Z)((0,i.Z)({},q),{AlternateMobileNumber:""})),!z(T))return Y((0,a.Z)((0,i.Z)({},q),{email:"Please enter a valid Email"})),[2];L(!0),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,U({variables:{name:g,father_or_husband_name:P,date_of_birth:_,mobile_number:R,alternate_mobile_number:O,demat_account:F,email:T,Address:H.address,aadharCardNumber:H.aadhaar,panCardNumber:H.pan}})];case 2:return r.sent(),e((0,m.j2)((0,a.Z)((0,i.Z)({},t),{name:g,father_or_husband_name:P,date_of_birth:_,mobile_number:R,alternate_mobile_number:O,demat_account:F,email:T,Address:H.address,aadharCardNumber:H.aadhaar,panCardNumber:H.pan}))),b.ZP.success("Details Updated"),[3,4];case 3:return n=r.sent(),console.log(n.message),b.ZP.error("Email already registered"),[3,4];case 4:return L(!1),[2]}}))}));return function(){return n.apply(this,arguments)}}();return(0,x.useEffect)((function(){var e;t&&(j(null===t||void 0===t?void 0:t.name),D(null===t||void 0===t?void 0:t.father_or_husband_name),C(null===t||void 0===t||null===(e=t.date_of_birth)||void 0===e?void 0:e.slice(0,10)),S(null===t||void 0===t?void 0:t.mobile_number),N(null===t||void 0===t?void 0:t.alternate_mobile_number),V(null===t||void 0===t?void 0:t.email),B(null===t||void 0===t?void 0:t.demat_account),J({address:null===t||void 0===t?void 0:t.Address,aadhaar:null===t||void 0===t?void 0:t.aadharCardNumber,pan:null===t||void 0===t?void 0:t.panCardNumber}))}),[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.ZP,{container:!0,p:2,spacing:2,children:[(0,l.jsx)(h.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsx)(Z.Z,{required:!0,id:"outlined",label:"Full Name",disabled:(null===t||void 0===t?void 0:t.kyc)===d.Z.status.APPROVED,fullWidth:!0,value:g,variant:"outlined",onChange:function(e){j(e.target.value)}})}),(0,l.jsx)(h.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsx)(Z.Z,{required:!0,label:"Father's/Husband's Name",variant:"outlined",disabled:(null===t||void 0===t?void 0:t.kyc)===d.Z.status.APPROVED,fullWidth:!0,value:P,onChange:function(e){D(e.target.value)}})}),(0,l.jsx)(h.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsx)(Z.Z,{required:!0,hidden:!0,label:"Date of Birth",variant:"outlined",fullWidth:!0,disabled:(null===t||void 0===t?void 0:t.kyc)===d.Z.status.APPROVED,placeholder:"",value:_,onChange:function(e){C(e.target.value)}})})]}),(0,l.jsxs)(h.ZP,{container:!0,pr:2,pb:2,pl:2,spacing:2,children:[(0,l.jsxs)(h.ZP,{item:!0,xs:12,sm:4,children:[(0,l.jsx)(Z.Z,{required:!0,label:"Mobile Number",variant:"outlined",fullWidth:!0,disabled:(null===t||void 0===t?void 0:t.kyc)===d.Z.status.APPROVED,value:R,onChange:function(e){S(e.target.value),X(e.target.value)?Y((0,a.Z)((0,i.Z)({},q),{mobileNumber:""})):Y((0,a.Z)((0,i.Z)({},q),{mobileNumber:"Please enter a valid mobile number"}))}}),q.mobileNumber&&(0,l.jsx)("p",{children:q.mobileNumber})]}),(0,l.jsxs)(h.ZP,{item:!0,xs:12,sm:4,children:[(0,l.jsx)(Z.Z,{required:!0,id:"outlined",disabled:(null===t||void 0===t?void 0:t.kyc)===d.Z.status.APPROVED,label:"Alternate Number",fullWidth:!0,variant:"outlined",value:O,onChange:function(e){N(e.target.value),X(e.target.value)?Y((0,a.Z)((0,i.Z)({},q),{AlternateMobileNumber:""})):Y((0,a.Z)((0,i.Z)({},q),{AlternateMobileNumber:"Please enter a valid Alternate number"}))}}),q.AlternateMobileNumber&&(0,l.jsx)("p",{children:q.AlternateMobileNumber})]}),(0,l.jsxs)(h.ZP,{item:!0,xs:12,sm:4,children:[(0,l.jsx)(Z.Z,{required:!0,disabled:(null===t||void 0===t?void 0:t.kyc)===d.Z.status.APPROVED,label:"Email ID",variant:"outlined",fullWidth:!0,value:T,onChange:function(e){V(e.target.value),z(e.target.value)?Y((0,a.Z)((0,i.Z)({},q),{email:null})):Y((0,a.Z)((0,i.Z)({},q),{email:"Please enter a valid Email"}))}}),q.email&&(0,l.jsx)("p",{children:q.email})]})]}),(0,l.jsxs)(h.ZP,{container:!0,pr:2,pb:2,pl:2,spacing:2,children:[(0,l.jsx)(h.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsx)(Z.Z,{required:!0,label:"Address",variant:"outlined",fullWidth:!0,value:H.address,onChange:function(e){J((0,a.Z)((0,i.Z)({},H),{address:e.target.value}))}})}),(0,l.jsx)(h.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsx)(Z.Z,{required:!0,id:"outlined",label:"Aadhaar Number",fullWidth:!0,variant:"outlined",value:H.aadhaar,onChange:function(e){J((0,a.Z)((0,i.Z)({},H),{aadhaar:e.target.value}))}})}),(0,l.jsx)(h.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsx)(Z.Z,{required:!0,label:"PanCard Number",variant:"outlined",fullWidth:!0,value:H.pan,onChange:function(e){J((0,a.Z)((0,i.Z)({},H),{pan:e.target.value}))}})})]}),(0,l.jsxs)(h.ZP,{container:!0,p:2,spacing:2,children:[(null===t||void 0===t?void 0:t.kyc)!==d.Z.status.APPROVED&&(0,l.jsx)(h.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsx)(p.Z,{component:"form",children:(0,l.jsx)(f.Z,{loading:M,disabled:q.AlternateMobileNumber||q.email||q.mobileNumber,fullWidth:!0,variant:"contained",onClick:function(){$()},children:"Submit"})})}),(0,l.jsx)(b.x7,{position:"bottom-center",reverseOrder:!1}),(0,l.jsx)(h.ZP,{item:!0,xs:4})]})]})}},37254:function(e,t,n){"use strict";n.r(t);var r=n(47568),i=n(26042),a=n(69396),s=n(828),o=n(97582),l=n(85893),u=n(4749),d=n(44709),c=n(34753),m=n(26183),v=n(89448),f=n(29792),h=n(50319),Z=n(8987),p=n(15861),x=n(86886),b=n(50135),g=n(11057),j=n(87357),y=(n(68680),n(3924),n(72484),n(67294)),P=n(86501);t.default=function(){var e=(0,m.T)(),t=(0,m.C)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.data})),n=(0,y.useState)(""),D=n[0],E=n[1],_=(0,y.useState)(""),C=_[0],A=_[1],R=(0,y.useState)(!1),S=R[0],w=R[1],O=(0,s.Z)((0,h.D)(u.Is),1)[0],N=(0,s.Z)((0,h.D)(u.yW),1)[0],k=(0,s.Z)((0,h.D)(u.su),1)[0],T=(0,y.useState)(!1),V=T[0],I=T[1],M=(0,y.useState)(!1),L=M[0],U=M[1],W=(0,y.useState)(null),F=W[0],B=W[1],G=(0,y.useState)(null),H=G[0],J=G[1],K=(0,y.useState)(!1),q=K[0],Y=K[1],z=(0,y.useState)(),X=z[0],$=z[1],Q=(0,y.useState)(),ee=Q[0],te=Q[1],ne=function(){var n=(0,r.Z)((function(n,r,s){var l;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,N({variables:{id:n,title:s,url:r}})];case 1:return l=o.sent(),e((0,v.j2)(function(e,n){var r,s=t,o=[];return null===t||void 0===t||null===(r=t.documents)||void 0===r||r.map((function(t){t.id===e?o.push((0,a.Z)((0,i.Z)({},t),{url:n})):o.push(t)})),(0,a.Z)((0,i.Z)({},s),{documents:o})}(n,r))),[2,l]}}))}));return function(e,t,r){return n.apply(this,arguments)}}(),re=function(){var e=(0,r.Z)((function(e,t){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,O({variables:{title:t,url:e}})];case 1:return[2,n.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}(),ie=function(){var e=(0,r.Z)((function(e){var t,n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return(e?V:L)?(t=e?X:ee,n=e?d.Z.nominee_aadhar.items[0].id:d.Z.nominee_aadhar.items[1].id,r="","nominee_aadhar_front"!==n?[3,2]:[4,(0,f.Z)(F)]):[2];case 1:return r=i.sent(),P.ZP.success("Nominee Aadhar Front Updated"),[3,4];case 2:return[4,(0,f.Z)(H)];case 3:r=i.sent(),P.ZP.success("Nominee Aadhar Back Updated"),i.label=4;case 4:return t?[4,ne(t.id,r,n)]:[3,6];case 5:return i.sent(),[3,8];case 6:return[4,re(r,n)];case 7:i.sent(),i.label=8;case 8:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),ae=function(){var n=(0,r.Z)((function(){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:if(!(D?C?X||V?!(!ee&&!L)||(alert("Please Select Nominee Aadhar Back"),null):(alert("Please Select Nominee Aadhar Front"),null):(alert("Please Enter Nominee Relation"),null):(alert("Please Enter Nominee Name"),null)))return[2];w(!0),r.label=1;case 1:return r.trys.push([1,6,,7]),[4,k({variables:{name:D,relationship:C}})];case 2:return r.sent(),[4,e((0,v.j2)((0,a.Z)((0,i.Z)({},t),{nominee:(0,a.Z)((0,i.Z)({},null===t||void 0===t?void 0:t.nominee),{name:D,relationship:C})})))];case 3:return r.sent(),[4,ie(!0)];case 4:return r.sent(),[4,ie(!1)];case 5:return r.sent(),P.ZP.success("Nominee Updated Succesfully"),[3,7];case 6:return n=r.sent(),console.log(n),[3,7];case 7:return w(!1),[2]}}))}));return function(){return n.apply(this,arguments)}}();return(0,y.useEffect)((function(){var e,n;t&&((null===t||void 0===t?void 0:t.nominee)&&(E(null===t||void 0===t?void 0:t.nominee.name),A(null===t||void 0===t?void 0:t.nominee.relationship)),(null===t||void 0===t?void 0:t.documents)&&(null===t||void 0===t||null===(e=t.documents)||void 0===e?void 0:e.length)>0&&(null===t||void 0===t||null===(n=t.documents)||void 0===n||n.find((function(e){e.title.toLowerCase()===d.Z.nominee_aadhar.items[0].id?($(e),B(e.url)):e.title.toLowerCase()===d.Z.nominee_aadhar.items[1].id&&(J(e.url),te(e))}))))}),[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.Z,{variant:"h4",sx:{my:2},children:"Kindly Fill the form to enlist nominee"}),(0,l.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,l.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,l.jsx)(b.Z,{id:"outlined",label:"Full Name*",disabled:(null===t||void 0===t?void 0:t.kyc)===c.Z.status.APPROVED,fullWidth:!0,value:D,variant:"outlined",onChange:function(e){E(e.target.value),Y(!0)}})}),(0,l.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,l.jsx)(b.Z,{label:"Relationship",variant:"outlined",disabled:(null===t||void 0===t?void 0:t.kyc)===c.Z.status.APPROVED,fullWidth:!0,value:C,onChange:function(e){A(e.target.value),Y(!0)}})})]}),(0,l.jsxs)(x.ZP,{container:!0,pt:1,pb:2,spacing:15,children:[(0,l.jsxs)(x.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:[F?(0,l.jsx)("img",{src:"object"==typeof F?URL.createObjectURL(F):F,height:180}):null,X&&X.status&&(0,l.jsxs)(p.Z,{variant:"h4",sx:{my:2},children:["Status :"," ",(0,l.jsxs)("span",{style:{color:X?"APPROVED"===X.status?"green":"REJECTED"===X.status&&"red":""},children:[" ",X&&X.status]})]}),(null===t||void 0===t?void 0:t.kyc)!==c.Z.status.APPROVED&&(0,l.jsxs)(g.Z,{variant:"contained",style:{cursor:X&&"APPROVED"===X.status?"not-allowed":"pointer"},component:"label",color:X&&"APPROVED"===X.status?"secondary":"primary",children:["Upload Aadhar Card Front",(0,l.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!X&&"APPROVED"===X.status,onChange:function(e){e.target.files.length>0&&(B(e.target.files[0]),I(!0),Y(!0))}})]})]}),(0,l.jsxs)(x.ZP,{item:!0,xs:12,sm:6,ml:1,md:4,lg:3.5,children:[H?(0,l.jsx)("img",{src:"object"==typeof H?URL.createObjectURL(H):H,height:180}):null,ee&&ee.status&&(0,l.jsxs)(p.Z,{variant:"h4",sx:{my:2},children:["Status :"," ",(0,l.jsx)("span",{style:{color:ee?"APPROVED"===ee.status?"green":"REJECTED"===ee.status&&"red":""},children:ee&&ee.status})]}),(null===t||void 0===t?void 0:t.kyc)!==c.Z.status.APPROVED&&(0,l.jsxs)(g.Z,{variant:"contained",style:{cursor:ee&&"APPROVED"===ee.status?"not-allowed":"pointer"},component:"label",color:ee&&"APPROVED"===ee.status?"secondary":"primary",children:["Upload Aadhar Card Back",(0,l.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!X&&"APPROVED"===X.status,onChange:function(e){e.target.files.length>0&&(J(e.target.files[0]),U(!0),Y(!0))}})]})]})]}),"APPROVED"===(null===t||void 0===t?void 0:t.kyc)?null:(0,l.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,l.jsxs)(j.Z,{component:"form",mt:2,children:[(0,l.jsx)(Z.Z,{loading:S,variant:"contained",component:"label",disabled:!q,onClick:function(){ae()},children:"Submit"}),(0,l.jsx)(P.x7,{position:"bottom-center",reverseOrder:!1})]})})]})}},12893:function(e,t,n){"use strict";n.r(t);var r=n(14924),i=n(85893),a=n(91875),s=n(37652),o=n(41294),l=n(9395),u=n(90948),d=n(87357),c=n(2734),m=n(53156),v=n(88409),f=n(40044),h=n(66242),Z=n(86886),p=n(98396),x=n(9008),b=n.n(x),g=n(43725),j=n(67294),y=n(9473),P=n(50091),D=n(99261),E=n(45866),_=n(42602),C=n(37254),A=n(32753),R=(0,u.ZP)(d.Z)((function(){return"\n      .MuiTabs-scrollableX {\n        overflow-x: auto !important;\n      }\n      \n  "}));function S(){var e=(0,c.Z)(),t=(0,j.useState)("basicInfo"),n=t[0],l=t[1],u=(0,j.useState)(!0),x=(u[0],u[1]),S=(0,y.v9)((function(e){return e.foundUser.toAdvance})),w=(0,p.Z)("(max-width:600px)");(0,j.useEffect)((function(){S&&l("upgradeKyc")}),[S]);return setTimeout((function(){x(!1)}),1e4),(0,i.jsxs)(g.default,{children:[(0,i.jsx)(b(),{children:(0,i.jsx)("title",{children:"KYC Dashboard"})}),(0,i.jsx)(s.Z,{children:(0,i.jsx)(o.Z,{})}),(0,i.jsxs)(m.Z,{maxWidth:!1,children:[(0,i.jsx)(R,{children:(0,i.jsx)(v.Z,{onChange:function(e,t){l(t)},value:n,variant:w?"fullWidth":"scrollable",textColor:"primary",visibleScrollbar:!0,indicatorColor:"primary",children:[{value:"basicInfo",label:"Basic Info"},{value:"payment",label:"Payment"},{value:"documents",label:"Documents"},{value:"nominee",label:"Nominee"},{value:"demat",label:"Demat Account Details"},{value:"dsc",label:"DSC"}].map((function(e){return(0,i.jsx)(f.Z,{style:{fontSize:w?8:14},label:e.label,value:e.value},e.value)}))})}),(0,i.jsx)(h.Z,{variant:"outlined",children:(0,i.jsxs)(Z.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:0,children:["basicInfo"===n&&(0,i.jsx)(Z.ZP,{item:!0,xs:12,children:(0,i.jsx)(d.Z,{p:4,children:(0,i.jsx)(_.default,{})})}),"payment"===n&&(0,i.jsx)(Z.ZP,{item:!0,xs:12,children:(0,i.jsx)(d.Z,{p:4,sx:(0,r.Z)({},e.breakpoints.down("sm"),{padding:1}),children:(0,i.jsx)(A.default,{})})}),"documents"===n&&(0,i.jsx)(Z.ZP,{item:!0,xs:12,children:(0,i.jsx)(d.Z,{p:4,children:(0,i.jsx)(D.default,{})})}),"nominee"===n&&(0,i.jsx)(Z.ZP,{item:!0,xs:12,children:(0,i.jsx)(d.Z,{p:4,children:(0,i.jsx)(C.default,{})})}),"demat"===n&&(0,i.jsx)(Z.ZP,{item:!0,xs:12,children:(0,i.jsx)(d.Z,{p:4,sx:(0,r.Z)({},e.breakpoints.down("sm"),{padding:1}),children:(0,i.jsx)(P.default,{})})}),"dsc"===n&&(0,i.jsx)(Z.ZP,{item:!0,xs:12,children:(0,i.jsx)(d.Z,{p:4,children:(0,i.jsx)(E.default,{})})})]})})]}),(0,i.jsx)(a.Z,{})]})}S.getLayout=function(e){return(0,i.jsx)(l.Z,{children:e})},t.default=S},43725:function(e,t,n){"use strict";n.r(t);var r=n(85893);t.default=function(e){var t=e.children;return(0,r.jsx)(r.Fragment,{children:t})}},91875:function(e,t,n){"use strict";var r=n(85893),i=n(90948),a=n(53156),s=n(87357),o=n(15861),l=(0,i.ZP)(a.Z)((function(e){var t=e.theme;return"\n        margin-top: ".concat(t.spacing(4),";\n")}));t.Z=function(){return(0,r.jsx)(l,{className:"footer-wrapper",children:(0,r.jsxs)(s.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,r.jsx)(s.Z,{}),(0,r.jsx)(o.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1"})]})})}},37652:function(e,t,n){"use strict";var r=n(85893),i=n(45697),a=n.n(i),s=n(90948),o=n(87357),l=n(53156),u=(0,s.ZP)(o.Z)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4),";\n")})),d=function(e){var t=e.children;return(0,r.jsx)(u,{className:"MuiPageTitle-wrapper",children:(0,r.jsx)(l.Z,{maxWidth:!1,children:t})})};d.propTypes={children:a().node.isRequired},t.Z=d},41294:function(e,t,n){"use strict";var r=n(47568),i=n(14924),a=n(828),s=n(97582),o=n(85893),l=n(26183),u=n(2734),d=n(87357),c=n(15861),m=n(71236),v=n(11057),f=n(50657),h=n(37645),Z=n(6514),p=n(58951),x=n(31425),b=n(50319),g=n(86501),j=n(7500),y=n(16538),P=n(9473),D=n(11163),E=n(67294),_=n(34753);t.Z=function(){var e=(0,l.C)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.data})),t=(0,u.Z)(),n=(0,a.Z)((0,b.D)(y.QX),1)[0],C=(0,E.useState)(""),A=C[0],R=C[1],S=(0,E.useState)(""),w=S[0],O=S[1],N=(0,P.v9)((function(e){return e.foundUser.foundUser})),k=(0,D.useRouter)(),T=(0,E.useState)(!1),V=T[0],I=T[1],M=function(){I(!0)},L=function(){I(!1)},U=function(){var e=(0,r.Z)((function(){var e;return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return[4,n({variables:{id:N.id,kyc:w}})];case 1:return e=t.sent(),L(),"APPROVED"===w&&g.ZP.success("KYC APPROVED"),"REJECTED"===w&&g.ZP.error("KYC REJECTED"),"ONGOING"===w&&g.ZP.success("KYC ONGOING"),R(e.data.updateStatus.kyc),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:["/dashboard"===k.pathname&&(0,o.jsxs)(d.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,o.jsx)(d.Z,{display:"flex",alignItems:"center",children:(0,o.jsxs)(d.Z,{children:[(0,o.jsxs)(c.Z,{variant:"h3",component:"h3",gutterBottom:!0,sx:(0,i.Z)({},t.breakpoints.down("sm"),{fontSize:20}),children:["Welcome, ",(null===e||void 0===e?void 0:e.name)?null===e||void 0===e?void 0:e.name:null===e||void 0===e?void 0:e.rm_id,"!"]}),(0,o.jsxs)(c.Z,{variant:"h5",component:"h5",align:"left",children:["Share Holder Type :"," ",(0,o.jsx)(m.Z,{badgeContent:null===e||void 0===e?void 0:e.membership,sx:{marginLeft:4},color:"success"})]}),(0,o.jsx)(c.Z,{variant:"subtitle2",mt:1,sx:(0,i.Z)({},t.breakpoints.down("sm"),{fontSize:12}),children:"APPROVED"===(null===e||void 0===e?void 0:e.kyc)?"Your KYC has been Approved":"Complete Your KYC By Filling the form below"})]})}),(0,o.jsxs)(d.Z,{mt:{xs:3,md:0},children:[(0,o.jsxs)(c.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:["Status :"," ",(0,o.jsx)("span",{style:{color:(null===e||void 0===e?void 0:e.kyc)?"APPROVED"===(null===e||void 0===e?void 0:e.kyc)?"green":"REJECTED"===(null===e||void 0===e?void 0:e.kyc)&&"red":""},children:"NOT_INITIALIZED"===(null===e||void 0===e?void 0:e.kyc)?"NOT STARTED":null===e||void 0===e?void 0:e.kyc})]})," "]})]}),"/agency/[index]"===k.pathname&&(0,o.jsxs)(d.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,o.jsxs)(d.Z,{display:"flex",alignItems:"center",children:[(0,o.jsx)(c.Z,{variant:"h3",component:"h3",sx:{textTransform:"uppercase"},gutterBottom:!0,children:"Agency Dashboard"}),(0,o.jsx)(c.Z,{variant:"subtitle2",children:(0,o.jsx)(j.C,{href:"/agency",children:(0,o.jsx)(v.Z,{variant:"outlined",color:"primary",sx:{ml:2},children:"USERLIST"})})})]}),"/agency/[index]"===k.pathname&&(0,o.jsxs)(d.Z,{margin:" 0 0 0 auto",children:[(0,o.jsx)(d.Z,{children:(0,o.jsx)(c.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:(0,o.jsxs)("span",{style:{color:A?("APPROVED"===A?"green":"REJECTED"===A&&"red")||"ONGOING"===A&&"orange"||"AGENT_APPROVED"===A&&"green":("APPROVED"===N.kyc?"green":"REJECTED"===N.kyc&&"red")||"ONGOING"===N.kyc&&"orange"||"AGENT_APPROVED"===N.kyc&&"green"},children:["Status :"," ",A?("AGENT_APPROVED"===A?"AGENT APPROVED":"NOT_INITIALIZED"===A&&"NOT INITIALIZED")||A:(null===N||void 0===N?void 0:N.kyc)?"AGENT_APPROVED"===(null===N||void 0===N?void 0:N.kyc)?"AGENT APPROVED":null===N||void 0===N?void 0:N.kyc:"UNKNOWN"]})})}),N.kyc!==_.Z.status.APPROVED&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v.Z,{onClick:function(){M(),O("AGENT_APPROVED")},variant:"outlined",disabled:!function(){var e,t,n,r=!1,i=!1,a=!1,s=!1,o=!1,l=!1,u=!1,d=!1,c=!1;return(null===N||void 0===N?void 0:N.name)&&(null===N||void 0===N?void 0:N.email)&&(null===N||void 0===N?void 0:N.mobile_number)&&(null===N||void 0===N?void 0:N.date_of_birth)&&(null===N||void 0===N||null===(e=N.nominee)||void 0===e?void 0:e.name)&&(null===N||void 0===N||null===(t=N.nominee)||void 0===t?void 0:t.relationship)&&(null===N||void 0===N?void 0:N.demat_account)&&(r=!0),null===N||void 0===N||null===(n=N.documents)||void 0===n||n.map((function(e){e.title.includes("payment_proof")&&e.status===_.Z.status.APPROVED&&(i=!0),e.title.includes("avatar")&&e.status===_.Z.status.APPROVED&&(a=!0),e.title.includes("aadhar_front")&&e.status===_.Z.status.APPROVED&&(s=!0),e.title.includes("aadhar_back")&&e.status===_.Z.status.APPROVED&&(o=!0),e.title.includes("pancard")&&e.status===_.Z.status.APPROVED&&(l=!0),e.title.includes("passbook")&&e.status===_.Z.status.APPROVED&&(u=!0),e.title.includes("nominee_aadhar_front")&&e.status===_.Z.status.APPROVED&&(d=!0),e.title.includes("demat")&&e.status===_.Z.status.APPROVED&&(c=!0)})),r&&i&&a&&s&&o&&l&&u&&d&&c}(),color:"success",sx:{ml:2},children:"Approve"}),(0,o.jsx)(v.Z,{onClick:function(){M(),O("REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]}),(0,o.jsx)("div",{children:(0,o.jsxs)(f.Z,{open:V,onClose:L,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,o.jsx)(h.Z,{id:"alert-dialog-title",children:"Submit KYC Status"}),(0,o.jsx)(Z.Z,{children:(0,o.jsxs)(p.Z,{id:"alert-dialog-description",children:["KYC Status will be set to ",w,"."]})}),(0,o.jsxs)(x.Z,{children:[(0,o.jsx)(v.Z,{onClick:L,children:"Dismiss"}),(0,o.jsx)(v.Z,{onClick:U,autoFocus:!0,children:"Submit"})]})]})})]}),(0,o.jsx)(d.Z,{mt:{xs:3,md:0}})]})]})}},68680:function(){},3924:function(){},72484:function(){},50319:function(e,t,n){"use strict";n.d(t,{D:function(){return d}});var r=n(97582),i=n(67294),a=n(14012),s=n(30020),o=n(14692),l=n(30990),u=n(66252);function d(e,t){var n=(0,u.x)(null===t||void 0===t?void 0:t.client);(0,o.Vp)(e,o.n_.Mutation);var d=i.useState({called:!1,loading:!1,client:n}),c=d[0],m=d[1],v=i.useRef({result:c,mutationId:0,isMounted:!0,client:n,mutation:e,options:t});Object.assign(v.current,{client:n,options:t,mutation:e});var f=i.useCallback((function(e){void 0===e&&(e={});var t=v.current,n=t.options,i=t.mutation,o=(0,r.__assign)((0,r.__assign)({},n),{mutation:i}),u=e.client||v.current.client;v.current.result.loading||o.ignoreResults||!v.current.isMounted||m(v.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:u});var d=++v.current.mutationId,c=(0,a.J)(o,e);return u.mutate(c).then((function(t){var n,r,i=t.data,a=t.errors,o=a&&a.length>0?new l.cA({graphQLErrors:a}):void 0,f=e.onError||(null===(n=v.current.options)||void 0===n?void 0:n.onError);if(o&&f&&f(o,c),d===v.current.mutationId&&!c.ignoreResults){var h={called:!0,loading:!1,data:i,error:o,client:u};v.current.isMounted&&!(0,s.D)(v.current.result,h)&&m(v.current.result=h)}var Z=e.onCompleted||(null===(r=v.current.options)||void 0===r?void 0:r.onCompleted);return o||null===Z||void 0===Z||Z(t.data,c),t})).catch((function(t){var n;if(d===v.current.mutationId&&v.current.isMounted){var r={loading:!1,error:t,data:void 0,called:!0,client:u};(0,s.D)(v.current.result,r)||m(v.current.result=r)}var i=e.onError||(null===(n=v.current.options)||void 0===n?void 0:n.onError);if(i)return i(t,c),{data:void 0,errors:t};throw t}))}),[]),h=i.useCallback((function(){v.current.isMounted&&m({called:!1,loading:!1,client:n})}),[]);return i.useEffect((function(){return v.current.isMounted=!0,function(){v.current.isMounted=!1}}),[]),[f,(0,r.__assign)({reset:h},c)]}},29815:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(20943);var i=n(13375);var a=n(91566);function s(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[2005,8244,9990,9260,9213,6827,4753,6549,7305,7058,788,8584,8292,456,5571,7924,8764,886,5121,4850,6572,2659,1477,6219,9395,2753,9774,2888,179],(function(){return t=26117,e(e.s=t);var t}));var t=e.O();_N_E=t}]);