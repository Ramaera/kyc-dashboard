(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3963],{52219:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agency-services",function(){return r(34366)}])},88559:function(e,n,r){"use strict";r.r(n);var i=r(47568),t=r(14924),a=r(26042),d=r(69396),s=r(828),l=r(97582),o=r(85893),c=r(67294),u=r(50319),h=r(2734),x=r(66242),m=r(15861),p=r(87357),v=r(50135),Z=r(50657),f=r(37645),g=r(6514),j=r(58951),b=r(31425),y=r(11057),w=r(86501),C=r(4749),N=r(8987);n.default=function(e){var n=e.onAddUser,r=e.agencyCode,A=(0,s.Z)((0,u.D)(C.Ti),1)[0],k=(0,c.useState)(!1),E=k[0],S=k[1],P=(0,c.useState)(),_=P[0],W=P[1],T=(0,c.useState)({name:"",email:"",mobileNumber:"",pincode:"",address:"",metaData:"",aadhar:"",pancard:""}),U=T[0],I=T[1],q=(0,s.Z)(c.useState(!1),2),B=q[0],F=q[1],D=function(e){var n=e.target,r=n.name,i=n.value;I((0,d.Z)((0,a.Z)({},U),(0,t.Z)({},r,i)))},L=(0,h.Z)(),M=function(){S(!1)},V=function(){var e=(0,i.Z)((function(){var e,i,t,a,d,s;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:if(e=function(){if(U.name)if(U.email)if(10===U.mobileNumber.length)if(U.pincode)if(U.address)if(12===U.aadhar.length){if(10===U.pancard.length)return!0;w.ZP.error("Enter Valid Pan No")}else w.ZP.error("Enter Valid Adhar No");else w.ZP.error("Enter Address");else w.ZP.error("Enter Pincode");else w.ZP.error("Enter Valid Mobile Number");else w.ZP.error("Enter E-mail Id");else w.ZP.error("Enter Name")}(),F(!0),!e)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,A({variables:{address:[{pincode:U.pincode,address:U.address}],email:U.email,mobileNumber:U.mobileNumber,name:U.name,referralAgencyCode:r,metaData:[{aadhar:U.aadhar,pancard:U.pancard}]}})];case 2:return t=l.sent(),n(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.CreateUser),(null===t||void 0===t?void 0:t.data)&&(w.ZP.success("User Created Sucessfully"),W(null===t||void 0===t||null===(a=t.data)||void 0===a||null===(d=a.CreateUser)||void 0===d?void 0:d.email),S(!0),I({name:"",email:"",mobileNumber:"",pincode:"",address:"",metaData:"",aadhar:"",pancard:""})),[3,4];case 3:return s=l.sent(),w.ZP.error(s.message),[3,4];case 4:return F(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(x.Z,{sx:{},children:[(0,o.jsx)(m.Z,{marginTop:2,fontSize:20,fontWeight:600,sx:{display:"flex",justifyContent:"center"},children:"Create A User For #MyCard"}),(0,o.jsxs)(p.Z,{sx:(0,t.Z)({padding:2,paddingInline:8,width:"100%",flexDirection:"row",flexWrap:"wrap"},L.breakpoints.down("sm"),{display:"block",paddingInline:1}),children:[(0,o.jsxs)(p.Z,{sx:{paddingY:2},children:[(0,o.jsx)(v.Z,{sx:{width:"49%",marginRight:"1%"},required:!0,name:"name",label:"Name",variant:"outlined",value:U.name,onChange:D}),(0,o.jsx)(v.Z,{sx:{width:"49%",marginLeft:"1%"},required:!0,name:"email",label:"Email",variant:"outlined",value:U.email,onChange:D})]}),(0,o.jsxs)(p.Z,{sx:{paddingY:2},children:[(0,o.jsx)(v.Z,{sx:{width:"49%",marginRight:"1%"},required:!0,type:"number",name:"mobileNumber",label:"Mobile Number",variant:"outlined",value:U.mobileNumber,onChange:D}),(0,o.jsx)(v.Z,{sx:{width:"49%",marginLeft:"1%"},required:!0,name:"pincode",label:"Pin Code",variant:"outlined",value:U.pincode,onChange:D})]}),(0,o.jsx)(v.Z,{sx:{width:"100%"},required:!0,name:"address",label:"Address",variant:"outlined",multiline:!0,rows:3,value:U.address,onChange:D}),(0,o.jsxs)(p.Z,{sx:{paddingY:2},children:[(0,o.jsx)(v.Z,{sx:{width:"49%",marginRight:"1%"},required:!0,type:"number",name:"aadhar",label:"Aadhar No",variant:"outlined",value:U.aadhar,onChange:D}),(0,o.jsx)(v.Z,{sx:{width:"49%",marginLeft:"1%"},required:!0,name:"pancard",label:"Pan No",variant:"outlined",value:U.pancard,onChange:D})]})]}),(0,o.jsx)(p.Z,{sx:{display:"flex",justifyContent:"center",padding:1},children:(0,o.jsx)(N.Z,{loading:B,onClick:V,variant:"contained",type:"submit",children:"Submit"})}),(0,o.jsxs)(Z.Z,{open:E,onClose:M,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,o.jsx)(f.Z,{id:"alert-dialog-title",children:"Vefify Email?"}),(0,o.jsx)(g.Z,{children:(0,o.jsxs)(j.Z,{id:"alert-dialog-description",children:["We have sent a verification email on ",_,(0,o.jsx)("br",{}),"Kindly Verify"]})}),(0,o.jsx)(b.Z,{children:(0,o.jsx)(y.Z,{onClick:M,autoFocus:!0,children:"OK"})})]}),(0,o.jsx)(w.x7,{position:"bottom-right",reverseOrder:!1})]})})}},59914:function(e,n,r){"use strict";r.r(n);var i=r(14924),t=r(85893),a=r(2734),d=r(66242),s=r(87357),l=r(72882),o=r(7906),c=r(53184),u=r(53816),h=r(53252),x=r(295),m=r(15861),p=r(67294);n.default=function(e){var n=e.user,r=(0,a.Z)();return console.log("agencyCode",n),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(d.Z,{children:(0,t.jsx)(s.Z,{children:(0,t.jsx)(l.Z,{sx:{borderLeft:"1px solid #2c3151"},children:(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(c.Z,{children:(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(h.Z,{children:"S.No"}),(0,t.jsx)(h.Z,{children:"Card Number"}),(0,t.jsx)(h.Z,{children:"Card User"}),(0,t.jsx)(h.Z,{children:"E-Mail"}),(0,t.jsx)(h.Z,{children:"Card Type"}),(0,t.jsx)(h.Z,{children:"Card Status"})]})}),(0,t.jsx)(x.Z,{children:null===n||void 0===n?void 0:n.map((function(e,n){var a;return(0,t.jsx)(p.Fragment,{children:null===e||void 0===e||null===(a=e.myCard)||void 0===a?void 0:a.map((function(n,a){return(0,t.jsxs)(u.Z,{hover:!0,sx:{cursor:"pointer"},children:[(0,t.jsx)(h.Z,{sx:{padding:"2px"},children:(0,t.jsx)(m.Z,{textAlign:"center",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:30,children:a+1})}),(0,t.jsx)(h.Z,{sx:{padding:1},children:(0,t.jsx)(m.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:"150px",children:null===n||void 0===n?void 0:n.cardNumber})}),(0,t.jsx)(h.Z,{sx:{padding:1},children:(0,t.jsx)(m.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,sx:(0,i.Z)({},r.breakpoints.down("sm"),{minWidth:150}),children:null===e||void 0===e?void 0:e.name})}),(0,t.jsx)(h.Z,{sx:{padding:1},children:(0,t.jsx)(m.Z,{variant:"body1",fontWeight:"bold",width:"150px",color:"text.success",gutterBottom:!0,noWrap:!0,children:null===e||void 0===e?void 0:e.email})}),(0,t.jsx)(h.Z,{sx:{padding:1},children:(0,t.jsx)(m.Z,{align:"center",variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:"100px",children:null===n||void 0===n?void 0:n.cardType})}),(0,t.jsx)(h.Z,{sx:{padding:1},children:(0,t.jsx)(m.Z,{align:"center",variant:"body1",fontWeight:"bold",gutterBottom:!0,width:"100px",color:(null===n||void 0===n?void 0:n.isActive)?"limegreen":"red",children:(null===n||void 0===n?void 0:n.isActive)?"Active":"InActive"})})]},"".concat(null===e||void 0===e?void 0:e.id,"-").concat(a))}))},e.id)}))})]})})})})})}},34366:function(e,n,r){"use strict";r.r(n);var i=r(14924),t=r(29815),a=r(85893),d=r(91875),s=r(9395),l=r(2734),o=r(87357),c=r(15861),u=r(66242),h=r(11057),x=r(9008),m=r.n(x),p=r(43725),v=r(67294),Z=r(88559),f=r(2924),g=r(59914),j=r(37887),b=r(4749),y=r(9473);function w(){var e=(0,v.useState)(!0),n=e[0],r=(e[1],(0,v.useState)(n)),s=r[0],x=r[1],w=(0,v.useState)(!n),C=w[0],N=w[1],A=(0,v.useState)(!n),k=A[0],E=A[1],S=(0,v.useState)([]),P=S[0],_=S[1],W=(0,y.v9)((function(e){var n,r;return null===(n=e.user)||void 0===n||null===(r=n.agencyCode)||void 0===r?void 0:r.agencyCode})),T=(0,j.a)(b.Ao,{variables:{agencyCode:W}});(0,v.useEffect)((function(){var e;T&&_(null===(e=T.data)||void 0===e?void 0:e.findCardHoldersInAgency)}),[T]);var U=(0,l.Z)();return(0,a.jsxs)(p.default,{children:[(0,a.jsx)(m(),{children:(0,a.jsx)("title",{children:"Agency Services"})}),(0,a.jsx)(o.Z,{padding:2,textAlign:"center",children:(0,a.jsx)(c.Z,{fontSize:30,fontWeight:600,children:"#MyCard"})}),(0,a.jsxs)(o.Z,{sx:(0,i.Z)({display:"flex"},U.breakpoints.down("sm"),{display:"block"}),children:[(0,a.jsx)(o.Z,{sx:(0,i.Z)({width:"25%",padding:2},U.breakpoints.down("sm"),{width:"100%"}),children:(0,a.jsxs)(u.Z,{sx:{height:"100%",padding:2},children:[(0,a.jsx)(h.Z,{variant:s?"contained":"outlined",component:"label",onClick:function(){x(!0),N(!1),E(!1)},sx:{width:"100%"},children:"Create #myCard User"}),(0,a.jsx)(h.Z,{sx:{marginTop:2,width:"100%"},variant:C?"contained":"outlined",component:"label",onClick:function(){N(!0),x(!1),E(!1)},children:"Users Applied"}),(0,a.jsx)(h.Z,{sx:{marginTop:2,width:"100%"},variant:k?"contained":"outlined",component:"label",onClick:function(){E(!0),N(!1),x(!1)},children:"Card Applied"})]})}),C&&(0,a.jsx)(o.Z,{sx:(0,i.Z)({width:"75%",padding:2},U.breakpoints.down("sm"),{width:"100%"}),children:(0,a.jsx)(f.default,{user:P})}),k&&(0,a.jsx)(o.Z,{sx:(0,i.Z)({width:"75%",padding:2},U.breakpoints.down("sm"),{width:"100%"}),children:(0,a.jsx)(g.default,{user:P})}),s&&(0,a.jsx)(o.Z,{sx:(0,i.Z)({width:"80%",padding:2},U.breakpoints.down("sm"),{width:"100%"}),children:(0,a.jsx)(Z.default,{agencyCode:W,onAddUser:function(e){_((function(n){return(0,t.Z)(n).concat([e])}))}})})]}),(0,a.jsx)(d.Z,{})]})}w.getLayout=function(e){return(0,a.jsx)(s.Z,{children:e})},n.default=w},43725:function(e,n,r){"use strict";r.r(n);var i=r(85893);n.default=function(e){var n=e.children;return(0,i.jsx)(i.Fragment,{children:n})}},91875:function(e,n,r){"use strict";var i=r(85893),t=r(90948),a=r(53156),d=r(87357),s=r(15861),l=(0,t.ZP)(a.Z)((function(e){var n=e.theme;return"\n        margin-top: ".concat(n.spacing(4),";\n")}));n.Z=function(){return(0,i.jsx)(l,{className:"footer-wrapper",children:(0,i.jsxs)(d.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,i.jsx)(d.Z,{}),(0,i.jsx)(s.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1"})]})})}},29815:function(e,n,r){"use strict";r.d(n,{Z:function(){return d}});var i=r(20943);var t=r(13375);var a=r(91566);function d(e){return function(e){if(Array.isArray(e))return(0,i.Z)(e)}(e)||(0,t.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[8244,9990,9260,9213,6827,4753,6549,2453,7058,788,9036,8584,8415,5571,7924,886,3864,258,9395,2924,9774,2888,179],(function(){return n=52219,e(e.s=n);var n}));var n=e.O();_N_E=n}]);