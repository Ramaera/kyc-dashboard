(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8808],{86981:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login/components/ForgotPasswordModal",function(){return r(27266)}])},27266:function(n,e,r){"use strict";r.r(e);var t=r(34051),a=r.n(t),o=r(85893),i=r(45477),u=r(46230),s=r(50319),l=r(31812),c=r(86886),f=r(55113),d=r(87357),h=r(15861),p=r(50135),m=r(11057),v=r(50657),g=r(11163),y=r.n(g),w=r(67294),x=r(86501);function b(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function P(n,e,r,t,a,o,i){try{var u=n[o](i),s=u.value}catch(l){return void r(l)}u.done?e(s):Promise.resolve(s).then(t,a)}function Z(n){return function(){var e=this,r=arguments;return new Promise((function(t,a){var o=n.apply(e,r);function i(n){P(o,t,a,i,u,"next",n)}function u(n){P(o,t,a,i,u,"throw",n)}i(void 0)}))}}function j(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,a,o=[],i=!0,u=!1;try{for(r=r.call(n);!(i=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);i=!0);}catch(s){u=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(u)throw a}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return b(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.default=function(n){var e=n.open,r=n.setOpen,t=((0,u.C)((function(n){var e;return null===(e=n.user)||void 0===e?void 0:e.data})),(0,w.useState)(!1)),g=t[0],b=t[1],P=(0,w.useState)(""),k=P[0],C=P[1],_=(0,w.useState)(""),S=_[0],E=_[1],F=(0,w.useState)(""),N=F[0],W=F[1],A=(0,w.useState)(""),I=A[0],O=(A[1],(0,w.useState)(!1)),q=O[0],M=(O[1],j((0,s.D)(i.ay),1)[0]),T=function(){r(!1)},D=function(){var n=Z(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(k.length<8)){n.next=3;break}return x.ZP.error("Private key is not valid"),n.abrupt("return");case 3:b(!0),x.ZP.error("Private key is not getting checked");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Y=function(){var n=Z(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(S===N){n.next=3;break}return x.ZP.error("Passwords Don't Match"),n.abrupt("return");case 3:if(!(S.length<8)){n.next=8;break}return x.ZP.error("Minimun Password Length is 8"),n.abrupt("return");case 8:return n.prev=8,n.next=11,M({variables:{pwId:I,newPassword:S}});case 11:n.sent&&(x.ZP.success("Password Changed"),y().push("/login")),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(8),console.log(n.t0.message);case 18:case"end":return n.stop()}}),n,null,[[8,15]])})));return function(){return n.apply(this,arguments)}}();return(0,w.useEffect)((function(){b(!1)}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(v.Z,{onClose:T,open:e,children:(0,o.jsx)(c.ZP,{component:f.Z,elevation:6,square:!0,children:(0,o.jsxs)(d.Z,{sx:{my:2,p:1,mx:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(h.Z,{variant:"h3",sx:{my:2},children:"Forgot Password?"}),(0,o.jsxs)(h.Z,{variant:"h6",color:"text.secondary",fontWeight:"normal",children:["Please Fill This Form to Reset Your Password"," "]}),(0,o.jsxs)(d.Z,{children:[!g&&(0,o.jsx)(p.Z,{margin:"normal",required:!0,fullWidth:!0,label:"Please Enter your Private Key ",autoFocus:!0,onChange:function(n){C(n.target.value)}}),g&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Z,{margin:"normal",required:!0,fullWidth:!0,type:"password",label:"Please Enter Your New password",autoFocus:!0,onChange:function(n){W(n.target.value)}}),(0,o.jsx)(p.Z,{margin:"normal",required:!0,fullWidth:!0,type:"password",label:"Please Confirm Your New password",onChange:function(n){E(n.target.value)}})]}),!g&&(0,o.jsx)(l.Z,{loading:q,onClick:function(){D()},type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:1},children:"Validate Private Key"}),g&&(0,o.jsx)(l.Z,{loading:q,onClick:function(){Y(),y().push("/auth/login")},type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:1},children:"Change Password"}),(0,o.jsx)(m.Z,{color:"error",onClick:T,fullWidth:!0,variant:"outlined",sx:{mt:0,mb:2},children:"Cancel"})]})]})})})})}}},function(n){n.O(0,[5370,9990,4789,3265,6180,1880,6549,7058,315,8584,6322,1879,9774,2888,179],(function(){return e=86981,n(n.s=e);var e}));var e=n.O();_N_E=e}]);