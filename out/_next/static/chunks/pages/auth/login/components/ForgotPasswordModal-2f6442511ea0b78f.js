(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8808],{86981:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login/components/ForgotPasswordModal",function(){return t(65250)}])},65250:function(e,n,t){"use strict";t.r(n);var r=t(47568),a=t(828),s=t(97582),o=t(85893),i=t(4749),u=t(26183),l=t(50319),c=t(8987),d=t(86886),h=t(55113),f=t(87357),p=t(15861),m=t(50135),g=t(11057),v=t(50657),w=t(11163),P=t.n(w),x=t(67294),Z=t(86501),y=t(5121);n.default=function(e){var n=e.open,t=e.setOpen,w=((0,u.C)((function(e){var n;return null===(n=e.user)||void 0===n?void 0:n.data})),(0,x.useState)(!1)),_=w[0],j=w[1],C=(0,x.useState)(""),b=C[0],E=C[1],F=(0,x.useState)(""),k=F[0],N=F[1],W=(0,x.useState)(""),S=W[0],K=W[1],q=(0,x.useState)(""),T=q[0],D=q[1],I=(0,x.useState)(!1),M=I[0],O=(I[1],(0,a.Z)((0,l.D)(i.ay),1)[0]),Y=function(){t(!1)},X=function(){var e=(0,r.Z)((function(){var e,n;return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return e={privateKey:b},n={headers:{"Content-Type":"application/json"}},[4,y.Z.post("https://api.ramaera.com/api/PKey",e,n).then((function(e){D(e.data[0]),e.data[0]?j(!0):Z.ZP.error("Invalid PrivateKey")})).catch((function(e){Z.ZP.error(e.message)}))];case 1:return t.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();console.log(T);var L=function(){var e=(0,r.Z)((function(){var e;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return k!==S?(Z.ZP.error("Passwords Don't Match"),[2]):k.length<8?(Z.ZP.error("Minimun Password Length is 8"),[2]):[3,1];case 1:return n.trys.push([1,3,,4]),[4,O({variables:{pwId:T,newPassword:k}})];case 2:return n.sent()&&(Z.ZP.success("Password Changed"),P().push("/login")),[3,4];case 3:return e=n.sent(),console.log(e.message),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,x.useEffect)((function(){j(!1)}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(v.Z,{onClose:Y,open:n,children:(0,o.jsx)(d.ZP,{component:h.Z,elevation:6,square:!0,children:(0,o.jsxs)(f.Z,{sx:{my:2,p:1,mx:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(p.Z,{variant:"h3",sx:{my:2},children:"Forgot Password?"}),(0,o.jsxs)(p.Z,{variant:"h6",color:"text.secondary",fontWeight:"normal",children:["Please Fill This Form to Reset Your Password"," "]}),(0,o.jsxs)(f.Z,{children:[!_&&(0,o.jsx)(m.Z,{margin:"normal",required:!0,fullWidth:!0,label:"Please Enter your Private Key ",autoFocus:!0,onChange:function(e){E(e.target.value)}}),_&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{margin:"normal",required:!0,fullWidth:!0,type:"password",label:"Please Enter Your New password",autoFocus:!0,onChange:function(e){K(e.target.value)}}),(0,o.jsx)(m.Z,{margin:"normal",required:!0,fullWidth:!0,type:"password",label:"Please Confirm Your New password",onChange:function(e){N(e.target.value)}})]}),!_&&(0,o.jsx)(c.Z,{loading:M,onClick:function(){X()},type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:1},children:"Validate Private Key"}),_&&(0,o.jsx)(c.Z,{loading:M,onClick:function(){L(),P().push("/auth/login")},type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:1},children:"Change Password"}),(0,o.jsx)(g.Z,{color:"error",onClick:Y,fullWidth:!0,variant:"outlined",sx:{mt:0,mb:2},children:"Cancel"})]})]})})})})}}},function(e){e.O(0,[1385,400,9260,9213,4753,6827,6549,7058,788,8584,8764,9581,7567,9774,2888,179],(function(){return n=86981,e(e.s=n);var n}));var n=e.O();_N_E=n}]);