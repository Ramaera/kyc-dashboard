(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7602],{22477:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agency-income",function(){return e(96232)}])},96232:function(n,t,e){"use strict";e.r(t);var r=e(85893),i=e(91875),s=e(37652),o=e(9395),l=e(53156),a=e(9008),u=e.n(a),c=e(41294),d=e(43725),v=e(67682);function h(){return(0,r.jsxs)(d.default,{children:[(0,r.jsx)(u(),{children:(0,r.jsx)("title",{children:"KYC Users"})}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(c.Z,{})}),(0,r.jsx)(l.Z,{maxWidth:!1,children:(0,r.jsx)(v.default,{})}),(0,r.jsx)(i.Z,{})]})}h.getLayout=function(n){return(0,r.jsx)(o.Z,{children:n})},t.default=h},43725:function(n,t,e){"use strict";e.r(t);var r=e(85893);t.default=function(n){var t=n.children;return(0,r.jsx)(r.Fragment,{children:t})}},91875:function(n,t,e){"use strict";var r=e(85893),i=e(90948),s=e(53156),o=e(87357),l=e(15861),a=(0,i.ZP)(s.Z)((function(n){var t=n.theme;return"\n        margin-top: ".concat(t.spacing(4),";\n")}));t.Z=function(){return(0,r.jsx)(a,{className:"footer-wrapper",children:(0,r.jsxs)(o.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)(l.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1"})]})})}},37652:function(n,t,e){"use strict";var r=e(85893),i=e(45697),s=e.n(i),o=e(90948),l=e(87357),a=e(53156),u=(0,o.ZP)(l.Z)((function(n){var t=n.theme;return"\n        padding: ".concat(t.spacing(4),";\n")})),c=function(n){var t=n.children;return(0,r.jsx)(u,{className:"MuiPageTitle-wrapper",children:(0,r.jsx)(a.Z,{maxWidth:!1,children:t})})};c.propTypes={children:s().node.isRequired},t.Z=c},41294:function(n,t,e){"use strict";var r=e(47568),i=e(14924),s=e(828),o=e(97582),l=e(85893),a=e(26183),u=e(2734),c=e(87357),d=e(15861),v=e(71236),h=e(11057),m=e(50657),x=e(37645),f=e(6514),p=e(58951),E=e(31425),Z=e(50319),g=e(86501),j=e(7500),P=e(16538),y=e(9473),D=e(11163),A=e(67294),O=e(34753);t.Z=function(){var n=(0,a.C)((function(n){var t;return null===(t=n.user)||void 0===t?void 0:t.data})),t=(0,u.Z)(),e=(0,s.Z)((0,Z.D)(P.QX),1)[0],_=(0,A.useState)(""),b=_[0],R=_[1],C=(0,A.useState)(""),N=C[0],k=C[1],T=(0,y.v9)((function(n){return n.foundUser.foundUser})),I=(0,D.useRouter)(),V=(0,A.useState)(!1),w=V[0],S=V[1],G=function(){S(!0)},Y=function(){S(!1)},K=function(){var n=(0,r.Z)((function(){var n;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,e({variables:{id:T.id,kyc:N}})];case 1:return n=t.sent(),Y(),"APPROVED"===N&&g.ZP.success("KYC APPROVED"),"REJECTED"===N&&g.ZP.error("KYC REJECTED"),"ONGOING"===N&&g.ZP.success("KYC ONGOING"),R(n.data.updateStatus.kyc),[2]}}))}));return function(){return n.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:["/dashboard"===I.pathname&&(0,l.jsxs)(c.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,l.jsx)(c.Z,{display:"flex",alignItems:"center",children:(0,l.jsxs)(c.Z,{children:[(0,l.jsxs)(d.Z,{variant:"h3",component:"h3",gutterBottom:!0,sx:(0,i.Z)({},t.breakpoints.down("sm"),{fontSize:20}),children:["Welcome, ",(null===n||void 0===n?void 0:n.name)?null===n||void 0===n?void 0:n.name:null===n||void 0===n?void 0:n.rm_id,"!"]}),(0,l.jsxs)(d.Z,{variant:"h5",component:"h5",align:"left",children:["Share Holder Type :"," ",(0,l.jsx)(v.Z,{badgeContent:null===n||void 0===n?void 0:n.membership,sx:{marginLeft:4},color:"success"})]}),(0,l.jsx)(d.Z,{variant:"subtitle2",mt:1,sx:(0,i.Z)({},t.breakpoints.down("sm"),{fontSize:12}),children:"APPROVED"===(null===n||void 0===n?void 0:n.kyc)?"Your KYC has been Approved":"Complete Your KYC By Filling the form below"})]})}),(0,l.jsxs)(c.Z,{mt:{xs:3,md:0},children:[(0,l.jsxs)(d.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:["Status :"," ",(0,l.jsx)("span",{style:{color:(null===n||void 0===n?void 0:n.kyc)?"APPROVED"===(null===n||void 0===n?void 0:n.kyc)?"green":"REJECTED"===(null===n||void 0===n?void 0:n.kyc)&&"red":""},children:"NOT_INITIALIZED"===(null===n||void 0===n?void 0:n.kyc)?"NOT STARTED":null===n||void 0===n?void 0:n.kyc})]})," "]})]}),"/agency/[index]"===I.pathname&&(0,l.jsxs)(c.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,l.jsxs)(c.Z,{display:"flex",alignItems:"center",children:[(0,l.jsx)(d.Z,{variant:"h3",component:"h3",sx:{textTransform:"uppercase"},gutterBottom:!0,children:"Agency Dashboard"}),(0,l.jsx)(d.Z,{variant:"subtitle2",children:(0,l.jsx)(j.C,{href:"/agency",children:(0,l.jsx)(h.Z,{variant:"outlined",color:"primary",sx:{ml:2},children:"USERLIST"})})})]}),"/agency/[index]"===I.pathname&&(0,l.jsxs)(c.Z,{margin:" 0 0 0 auto",children:[(0,l.jsx)(c.Z,{children:(0,l.jsx)(d.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:(0,l.jsxs)("span",{style:{color:b?("APPROVED"===b?"green":"REJECTED"===b&&"red")||"ONGOING"===b&&"orange"||"AGENT_APPROVED"===b&&"green":("APPROVED"===T.kyc?"green":"REJECTED"===T.kyc&&"red")||"ONGOING"===T.kyc&&"orange"||"AGENT_APPROVED"===T.kyc&&"green"},children:["Status :"," ",b?("AGENT_APPROVED"===b?"AGENT APPROVED":"NOT_INITIALIZED"===b&&"NOT INITIALIZED")||b:(null===T||void 0===T?void 0:T.kyc)?"AGENT_APPROVED"===(null===T||void 0===T?void 0:T.kyc)?"AGENT APPROVED":null===T||void 0===T?void 0:T.kyc:"UNKNOWN"]})})}),T.kyc!==O.Z.status.APPROVED&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{onClick:function(){G(),k("AGENT_APPROVED")},variant:"outlined",disabled:!function(){var n,t,e,r=!1,i=!1,s=!1,o=!1,l=!1,a=!1,u=!1,c=!1,d=!1;return(null===T||void 0===T?void 0:T.name)&&(null===T||void 0===T?void 0:T.email)&&(null===T||void 0===T?void 0:T.mobile_number)&&(null===T||void 0===T?void 0:T.date_of_birth)&&(null===T||void 0===T||null===(n=T.nominee)||void 0===n?void 0:n.name)&&(null===T||void 0===T||null===(t=T.nominee)||void 0===t?void 0:t.relationship)&&(null===T||void 0===T?void 0:T.demat_account)&&(r=!0),null===T||void 0===T||null===(e=T.documents)||void 0===e||e.map((function(n){n.title.includes("payment_proof")&&n.status===O.Z.status.APPROVED&&(i=!0),n.title.includes("avatar")&&n.status===O.Z.status.APPROVED&&(s=!0),n.title.includes("aadhar_front")&&n.status===O.Z.status.APPROVED&&(o=!0),n.title.includes("aadhar_back")&&n.status===O.Z.status.APPROVED&&(l=!0),n.title.includes("pancard")&&n.status===O.Z.status.APPROVED&&(a=!0),n.title.includes("passbook")&&n.status===O.Z.status.APPROVED&&(u=!0),n.title.includes("nominee_aadhar_front")&&n.status===O.Z.status.APPROVED&&(c=!0),n.title.includes("demat")&&n.status===O.Z.status.APPROVED&&(d=!0)})),r&&i&&s&&o&&l&&a&&u&&c&&d}(),color:"success",sx:{ml:2},children:"Approve"}),(0,l.jsx)(h.Z,{onClick:function(){G(),k("REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]}),(0,l.jsx)("div",{children:(0,l.jsxs)(m.Z,{open:w,onClose:Y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,l.jsx)(x.Z,{id:"alert-dialog-title",children:"Submit KYC Status"}),(0,l.jsx)(f.Z,{children:(0,l.jsxs)(p.Z,{id:"alert-dialog-description",children:["KYC Status will be set to ",N,"."]})}),(0,l.jsxs)(E.Z,{children:[(0,l.jsx)(h.Z,{onClick:Y,children:"Dismiss"}),(0,l.jsx)(h.Z,{onClick:K,autoFocus:!0,children:"Submit"})]})]})})]}),(0,l.jsx)(c.Z,{mt:{xs:3,md:0}})]})]})}},50319:function(n,t,e){"use strict";e.d(t,{D:function(){return c}});var r=e(97582),i=e(67294),s=e(14012),o=e(30020),l=e(14692),a=e(30990),u=e(66252);function c(n,t){var e=(0,u.x)(null===t||void 0===t?void 0:t.client);(0,l.Vp)(n,l.n_.Mutation);var c=i.useState({called:!1,loading:!1,client:e}),d=c[0],v=c[1],h=i.useRef({result:d,mutationId:0,isMounted:!0,client:e,mutation:n,options:t});Object.assign(h.current,{client:e,options:t,mutation:n});var m=i.useCallback((function(n){void 0===n&&(n={});var t=h.current,e=t.options,i=t.mutation,l=(0,r.__assign)((0,r.__assign)({},e),{mutation:i}),u=n.client||h.current.client;h.current.result.loading||l.ignoreResults||!h.current.isMounted||v(h.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:u});var c=++h.current.mutationId,d=(0,s.J)(l,n);return u.mutate(d).then((function(t){var e,r,i=t.data,s=t.errors,l=s&&s.length>0?new a.cA({graphQLErrors:s}):void 0,m=n.onError||(null===(e=h.current.options)||void 0===e?void 0:e.onError);if(l&&m&&m(l,d),c===h.current.mutationId&&!d.ignoreResults){var x={called:!0,loading:!1,data:i,error:l,client:u};h.current.isMounted&&!(0,o.D)(h.current.result,x)&&v(h.current.result=x)}var f=n.onCompleted||(null===(r=h.current.options)||void 0===r?void 0:r.onCompleted);return l||null===f||void 0===f||f(t.data,d),t})).catch((function(t){var e;if(c===h.current.mutationId&&h.current.isMounted){var r={loading:!1,error:t,data:void 0,called:!0,client:u};(0,o.D)(h.current.result,r)||v(h.current.result=r)}var i=n.onError||(null===(e=h.current.options)||void 0===e?void 0:e.onError);if(i)return i(t,d),{data:void 0,errors:t};throw t}))}),[]),x=i.useCallback((function(){h.current.isMounted&&v({called:!1,loading:!1,client:e})}),[]);return i.useEffect((function(){return h.current.isMounted=!0,function(){h.current.isMounted=!1}}),[]),[m,(0,r.__assign)({reset:x},d)]}}},function(n){n.O(0,[5370,9990,9260,9213,4753,6827,6549,7058,788,8112,8584,456,5571,7467,886,6261,3864,31,3945,9395,7682,9774,2888,179],(function(){return t=22477,n(n.s=t);var t}));var t=n.O();_N_E=t}]);