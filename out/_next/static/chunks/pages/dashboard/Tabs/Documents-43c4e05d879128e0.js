(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6728],{10238:function(t,n,r){"use strict";r.d(n,{Z:function(){return o}});var e=r(87462),a=r(28442);function o(t,n={},r){return(0,a.Z)(t)?n:(0,e.Z)({},n,{ownerState:(0,e.Z)({},n.ownerState,r)})}},28442:function(t,n){"use strict";n.Z=function(t){return"string"===typeof t}},15861:function(t,n,r){"use strict";r.d(n,{Z:function(){return b}});var e=r(63366),a=r(87462),o=r(67294),i=r(86010),s=r(39707),c=r(94780),u=r(90948),l=r(71657),d=r(98216),f=r(34867);function p(t){return(0,f.Z)("MuiTypography",t)}(0,r(1588).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var m=r(85893);const h=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=(0,u.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:r}=t;return[n.root,r.variant&&n[r.variant],"inherit"!==r.align&&n[`align${(0,d.Z)(r.align)}`],r.noWrap&&n.noWrap,r.gutterBottom&&n.gutterBottom,r.paragraph&&n.paragraph]}})((({theme:t,ownerState:n})=>(0,a.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16}))),g={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var b=o.forwardRef((function(t,n){const r=(0,l.Z)({props:t,name:"MuiTypography"}),o=(t=>y[t]||t)(r.color),u=(0,s.Z)((0,a.Z)({},r,{color:o})),{align:f="inherit",className:b,component:x,gutterBottom:Z=!1,noWrap:w=!1,paragraph:_=!1,variant:j="body1",variantMapping:k=g}=u,A=(0,e.Z)(u,h),S=(0,a.Z)({},u,{align:f,color:o,className:b,component:x,gutterBottom:Z,noWrap:w,paragraph:_,variant:j,variantMapping:k}),P=x||(_?"p":k[j]||g[j])||"span",C=(t=>{const{align:n,gutterBottom:r,noWrap:e,paragraph:a,variant:o,classes:i}=t,s={root:["root",o,"inherit"!==t.align&&`align${(0,d.Z)(n)}`,r&&"gutterBottom",e&&"noWrap",a&&"paragraph"]};return(0,c.Z)(s,p,i)})(S);return(0,m.jsx)(v,(0,a.Z)({as:P,ref:n,ownerState:S,className:(0,i.Z)(C.root,b)},A))}))},82866:function(t,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/Tabs/Documents",function(){return r(91434)}])},91434:function(t,n,r){"use strict";r.r(n);var e=r(34051),a=r.n(e),o=r(85893),i=r(71236),s=r(11057),c=r(15861),u=r(52441),l=r(42480),d=r(46230),f=r(55511),p=r(50319),m=r(8987),h=r(55113),v=r(7906),g=r(295),y=r(53252),b=r(72882),x=r(53184),Z=r(53816),w=(r(19662),r(37070),r(93491),r(67294)),_=r(86501);function j(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function k(t,n,r,e,a,o,i){try{var s=t[o](i),c=s.value}catch(u){return void r(u)}s.done?n(c):Promise.resolve(c).then(e,a)}function A(t){return function(){var n=this,r=arguments;return new Promise((function(e,a){var o=t.apply(n,r);function i(t){k(o,e,a,i,s,"next",t)}function s(t){k(o,e,a,i,s,"throw",t)}i(void 0)}))}}function S(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,a,o=[],i=!0,s=!1;try{for(r=r.call(t);!(i=(e=r.next()).done)&&(o.push(e.value),!n||o.length!==n);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}}(t,n)||C(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t){return function(t){if(Array.isArray(t))return j(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||C(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,n){if(t){if("string"===typeof t)return j(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(t,n):void 0}}var B=[{config:l.Z.avatar,status:-1},{config:l.Z.aadhar,status:-1},{config:l.Z.pancard,status:-1},{config:l.Z.passbook,status:-1,isOptional:!0},{config:l.Z.voterId,status:-1,isOptional:!0},{config:l.Z.driving_license,status:-1,isOptional:!0}],D=function(t){var n=t.data,r=t.documents,e=void 0===r?[]:r,l=(0,w.useState)([]),d=l[0],h=l[1],v=(0,w.useState)([]),g=v[0],b=v[1],x=S((0,p.D)(u.Is),1)[0],j=S((0,p.D)(u.yW),1)[0],k=(0,w.useState)(!1),C=k[0],B=k[1];(0,w.useEffect)((function(){var t=[],n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;t.push(s.url)}}catch(c){r=!0,a=c}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}h(t)}),[e]);var D=function(){var t=A(a().mark((function t(n,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x({variables:{title:n,url:r}});case 2:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),I=function(){var t=A(a().mark((function t(n,r,e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j({variables:{id:n,title:r,url:e}});case 2:case"end":return t.stop()}}),t)})));return function(n,r,e){return t.apply(this,arguments)}}(),O=function(){var t=A(a().mark((function t(){var r,o,i,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:B(!0),t.prev=1,r=0;case 3:if(!(r<g.length)){t.next=21;break}if(!g[r]){t.next=18;break}return o=n.config.items[r].id,t.next=8,(0,f.Z)(d[r]);case 8:if(i=t.sent,_.ZP.success("".concat(o," Updated")),!(s=e.find((function(t){if(t.title.toLowerCase()===o.toLowerCase())return!0})))){t.next=16;break}return t.next=14,I(s.id,o,i);case 14:t.next=18;break;case 16:return t.next=18,D(o,i);case 18:r++,t.next=3;break;case 21:t.next=25;break;case 23:t.prev=23,t.t0=t.catch(1);case 25:B(!1);case 26:case"end":return t.stop()}}),t,null,[[1,23]])})));return function(){return t.apply(this,arguments)}}();return(0,o.jsxs)(Z.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,o.jsxs)(y.Z,{component:"th",scope:"row",children:[n.config.name," ",n.isOptional?"(Optional)":""]}),(0,o.jsx)(y.Z,{children:function(){for(var t=[],r=n.config.items,e=0;e<r.length;e++){var a=d[e];a&&t.push((0,o.jsx)("img",{src:"object"==typeof a?URL.createObjectURL(a):a,height:100,width:100}))}return 0==t.length?(0,o.jsx)(c.Z,{variant:"subtitle1",children:"No Document"}):t}()}),(0,o.jsx)(y.Z,{children:function(){for(var t=function(t){r.push((0,o.jsxs)(s.Z,{component:"label",children:["Choose ",e[t].name,(0,o.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(n){if(n.target.files.length>0){var r=P(d);r[t]=n.target.files[0],h(r);var e=P(g);e[t]=!0,b(e)}}})]}))},r=[],e=n.config.items,a=0;a<e.length;a++)t(a);return r}()}),(0,o.jsx)(y.Z,{children:(0,o.jsx)(m.Z,{loading:C,disabled:!function(){var t=g.find((function(t){if(t)return!0}));if(d.length==n.config.items.length&&t)return!0}(),variant:"contained",onClick:function(){O()},children:"Upload"})}),(0,o.jsx)(y.Z,{children:function(t){var n="Upload";return-1!=t&&(n="Pending"),(0,o.jsx)(i.Z,{badgeContent:n,color:"secondary"})}(n.status)})]},n.config.name)};n.default=function(){var t=(0,d.C)((function(t){return t.user.data})),n=function(n){var r=[];if(t&&t.documents){var e=!0,a=!1,o=void 0;try{for(var i,s=function(n,e){var a=e.value,o=t.documents.find((function(t){if(t.title.toLowerCase()===a.id.toLowerCase())return!0}));o&&r.push(o)},c=n[Symbol.iterator]();!(e=(i=c.next()).done);e=!0)s(0,i)}catch(u){a=!0,o=u}finally{try{e||null==c.return||c.return()}finally{if(a)throw o}}}return r};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Z,{variant:"h4",sx:{my:2},children:"Kindly Upload the documents requested below"}),(0,o.jsxs)(b.Z,{component:h.Z,children:[(0,o.jsxs)(v.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,o.jsx)(x.Z,{children:(0,o.jsxs)(Z.Z,{children:[(0,o.jsx)(y.Z,{children:"Document Name"}),(0,o.jsx)(y.Z,{children:"Preview"}),(0,o.jsx)(y.Z,{children:"Action"}),(0,o.jsx)(y.Z,{children:"Upload Action"}),(0,o.jsx)(y.Z,{children:"Status"})]})}),(0,o.jsx)(g.Z,{children:B.map((function(t,r){return(0,o.jsx)(D,{data:t,documents:n(t.config.items)},r)}))}),(0,o.jsx)(Z.Z,{})]}),(0,o.jsx)(_.x7,{position:"bottom-center",reverseOrder:!1})]})]})}},42480:function(t,n){"use strict";n.Z={aadhar:{id:"aadhar",name:"Aadhar Card",items:[{id:"aadhar_front",name:"AADHAR Card Front"},{id:"aadhar_back",name:"AADHAR Card Back"}]},pancard:{name:"Pancard",items:[{id:"pancard",name:"Pan Card"}]},avatar:{name:"Photo",items:[{id:"avatar",name:"Passport Size Photo"}]},voterId:{id:"voterId",name:"Voter Id Card",items:[{id:"voterid_front",name:"Voter Id Front"},{id:"voterid_back",name:"Voted Id Card Back"}]},passbook:{name:"Passbook  or Bank Statement",id:"passbook",items:[{id:"passbook",name:"Bank Passbook Or Bank Statement"}]},payment_proof:{name:"Payment Proof",id:"payment_proof",items:[{id:"payment_proof",name:"Payment Proof"}]},driving_license:{name:"Driving License",id:"driving_license",items:[{id:"driving_license_front",name:"Driving License Front"},{id:"driving_license_back",name:"Driving License Back"}]},nominee_aadhar:{name:"Nominee Aadhar",items:[{id:"nominee_aadhar_front",name:"AADHAR Card Front"},{id:"nominee_aadhar_back",name:"AADHAR Card Back"}]},demat_document:{name:"Demat Document",id:"demat_document",items:[{id:"demat_document",name:"Demat Document"}]}}},55511:function(t,n,r){"use strict";var e=r(34051),a=r.n(e),o=r(7155),i=r(70594);function s(t,n,r,e,a,o,i){try{var s=t[o](i),c=s.value}catch(u){return void r(u)}s.done?n(c):Promise.resolve(c).then(e,a)}var c=function(){var t,n=(t=a().mark((function t(n){var r,e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("document",n),t.next=4,i.Z.post("".concat(o.Z.API_URL,"/documents/upload"),r,{headers:{"Content-Type":"multipart/form-data"}});case 4:return e=t.sent,t.abrupt("return",e.data.url);case 6:case"end":return t.stop()}}),t)})),function(){var n=this,r=arguments;return new Promise((function(e,a){var o=t.apply(n,r);function i(t){s(o,e,a,i,c,"next",t)}function c(t){s(o,e,a,i,c,"throw",t)}i(void 0)}))});return function(t){return n.apply(this,arguments)}}();n.Z=c}},function(t){t.O(0,[2005,6944,5443,2738,594,6261,6233,5218,9774,2888,179],(function(){return n=82866,t(t.s=n);var n}));var n=t.O();_N_E=n}]);