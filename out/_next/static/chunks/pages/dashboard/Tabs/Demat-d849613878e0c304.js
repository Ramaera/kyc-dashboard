(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5052],{2963:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/Tabs/Demat",function(){return a(50091)}])},50091:function(t,e,a){"use strict";a.r(e);var n=a(47568),o=a(26042),d=a(69396),i=a(828),s=a(97582),r=a(85893),m=a(4749),c=a(44709),u=a(26183),l=a(89448),_=a(29792),p=a(50319),y=a(8987),v=a(15861),f=a(86886),h=a(50135),P=a(11057),D=a(87357),g=a(67294),b=a(86501);e.default=function(){var t=(0,u.T)(),e=(0,u.C)((function(t){var e;return null===(e=t.user)||void 0===e?void 0:e.data})),a=(0,g.useState)(null),A=a[0],Z=a[1],j=(0,g.useState)(null),x=j[0],k=j[1],C=(0,g.useState)(),N=C[0],T=C[1],E=(0,g.useState)(!1),U=E[0],w=E[1],R=(0,g.useState)(!1),S=R[0],O=R[1],I=(0,g.useState)(!1),B=I[0],F=I[1],V=(0,i.Z)((0,p.D)(m.Is),1)[0],L=(0,i.Z)((0,p.D)(m.yW),1)[0],H=(0,i.Z)((0,p.D)(m.v9),1)[0],W=function(){var a=(0,n.Z)((function(){var a,n;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:if(a=function(t){return!!t||(alert("Invalid Image"),!1)}(x),!a)return[2];O(!0),i.label=1;case 1:return i.trys.push([1,12,,13]),A?[4,H({variables:{demat_account:A}})]:[3,4];case 2:return i.sent(),[4,t((0,l.j2)((0,d.Z)((0,o.Z)({},e),{demat_account:A})))];case 3:i.sent(),i.label=4;case 4:return n="",U?[4,(0,_.Z)(x)]:[3,6];case 5:return n=i.sent(),[3,7];case 6:n=x,i.label=7;case 7:return N?[4,L({variables:{title:c.Z.demat_document.items[0].id,url:n,id:N.id}})]:[3,9];case 8:return i.sent(),t((0,l.j2)(function(t,a,n){var i,s=e,r=[];return null===e||void 0===e||null===(i=e.documents)||void 0===i||i.map((function(e){e.id===t?r.push((0,d.Z)((0,o.Z)({},e),{url:a})):r.push(e)})),(0,d.Z)((0,o.Z)({},s),{documents:r,demat_account:n})}(N.id,n,A))),b.ZP.success("Demat Details Updated "),[3,11];case 9:return[4,V({variables:{title:c.Z.demat_document.items[0].id,url:n}})];case 10:i.sent(),i.label=11;case 11:return[3,13];case 12:return i.sent(),[3,13];case 13:return O(!1),[2]}}))}));return function(){return a.apply(this,arguments)}}();return(0,g.useEffect)((function(){var t,a;(e&&Z(null===e||void 0===e?void 0:e.demat_account),e&&(null===e||void 0===e?void 0:e.documents)&&(null===e||void 0===e||null===(t=e.documents)||void 0===t?void 0:t.length)>0)&&(null===e||void 0===e||null===(a=e.documents)||void 0===a||a.find((function(t){t.title.toLowerCase()===c.Z.demat_document.items[0].id&&(T(t),k(t.url))})))}),[e]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{variant:"h4",sx:{my:2},children:"Kindly Fill the form add demat details"}),(0,r.jsx)(f.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,r.jsx)(h.Z,{id:"outlined",label:"Demat Account No.",fullWidth:!0,value:A,variant:"outlined",onChange:function(t){Z(t.target.value),F(!0)}})}),x?(0,r.jsx)("img",{src:"object"==typeof x?URL.createObjectURL(x):x,style:{marginTop:"10px"},height:200}):null,N&&N.status&&(0,r.jsxs)(v.Z,{variant:"h4",sx:{mt:2},children:["Status :"," ",(0,r.jsxs)("span",{style:{color:N?"APPROVED"===N.status?"green":"REJECTED"===N.status&&"red":""},children:[" ",N&&N.status]})]}),(0,r.jsxs)(f.ZP,{container:!0,pt:3,pb:2,pr:2,spacing:2,children:[(0,r.jsx)(f.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:(0,r.jsxs)(P.Z,{variant:"contained",style:{cursor:N&&"APPROVED"===N.status?"not-allowed":"pointer"},component:"label",color:N&&"APPROVED"===N.status?"secondary":"primary",children:["Upload Demat Account Details",(0,r.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!N&&"APPROVED"===N.status,onChange:function(t){t.target.files.length>0&&(k(t.target.files[0]),w(!0),F(!0))}})]})}),(0,r.jsx)(f.ZP,{item:!0,xs:12,sm:6,md:4,lg:3.5,children:(0,r.jsx)(D.Z,{component:"form",children:(0,r.jsx)(y.Z,{loading:S,fullWidth:!0,disabled:!B,variant:"contained",onClick:function(){W()},children:"Submit"})})}),(0,r.jsx)(b.x7,{position:"bottom-right",reverseOrder:!1})]}),(0,r.jsx)(f.ZP,{item:!0,xs:4})]})}},44709:function(t,e){"use strict";e.Z={aadhar:{id:"aadhar",name:"Aadhar Card",status:"",items:[{id:"aadhar_front",name:"AADHAR Card Front",status:""},{id:"aadhar_back",name:"AADHAR Card Back",status:""}]},pancard:{id:"pancard",name:"Pancard",status:"",items:[{id:"pancard",name:"Pan Card",status:""}]},avatar:{id:"photo",name:"Photo",status:"",items:[{id:"avatar",name:"Passport Size Photo",status:""}]},voterId:{id:"voterId",name:"Voter Id Card",status:"Not Uploaded",items:[{id:"voterid_front",name:"Voter Id Front",status:""},{id:"voterid_back",name:"Voted Id Card Back",status:""}]},passbook:{name:"Passbook  or Bank Statement",id:"passbook",status:"Not Uploaded",items:[{id:"passbook",name:"Bank Passbook Or Bank Statement",status:"Not Uploaded"}]},payment_proof:{name:"Payment Proof",id:"payment_proof",status:"Not Uploaded",items:[{id:"payment_proof",name:"Payment Proof"}]},agency_payment_proof:{name:"Agency Payment Proof",id:"agency_payment_proof",status:"Not Uploaded",items:[{id:"agency_payment_proof",name:"Agency Payment Proof"}]},additional_payment_documents:{name:"Additional Payment Document",id:"additional_payment_doc",items:[{id:"additional_payment_doc2",name:"Payment Document"},{id:"additional_payment_doc3",name:"Payment Document"},{id:"additional_payment_doc4",name:"Payment Document"},{id:"additional_payment_doc5",name:"Payment Document"}]},to_advance_payment_proof:{name:"To Advance Payment Proof",id:"to_advance_payment_proof",status:"Not Uploaded",items:[{id:"to_advance_payment_proof",name:"To Advance Payment Proof"}]},to_advance_additional_documents:{name:"To Advance Additional Payment Document",id:"to_advance_additional_payment_doc",items:[{id:"to_advance_additional_payment_doc2",name:"To Advance Payment Document"},{id:"to_advance_additional_payment_doc3",name:"To Advance Payment Document"},{id:"to_advance_additional_payment_doc4",name:"To Advance Payment Document"},{id:"to_advance_additional_payment_doc5",name:"To Advance Payment Document"}]},driving_license:{name:"Driving License",id:"driving_license",status:"Not Uploaded",items:[{id:"driving_license_front",name:"Driving License Front",status:""},{id:"driving_license_back",name:"Driving License Back",status:""}]},nominee_aadhar:{name:"Nominee Aadhar",id:"nominee_aadhar",status:"Not Uploaded",items:[{id:"nominee_aadhar_front",name:"AADHAR Card Front",status:""},{id:"nominee_aadhar_back",name:"AADHAR Card Back",status:""}]},demat_document:{name:"Demat Document",id:"demat_document",status:"Not Uploaded",items:[{id:"demat_document",name:"Demat Document",status:""}]},project_payment:{name:"Project Payment",id:"project_payment",items:[{id:"project_payment_1",name:"Payment Document"},{id:"project_payment_2",name:"Payment Document"},{id:"project_payment_3",name:"Payment Document"},{id:"project_payment_4",name:"Payment Document"},{id:"project_payment_5",name:"Payment Document"}]}}},29792:function(t,e,a){"use strict";var n=a(47568),o=a(97582),d=a(5121),i=function(){var t=(0,n.Z)((function(t){var e;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:return(e=new FormData).append("document",t),[4,d.Z.post("".concat("https://kycramaerabackend.ramaera.com","/documents/upload"),e,{headers:{"Content-Type":"multipart/form-data"}})];case 1:return[2,a.sent().data.url]}}))}));return function(e){return t.apply(this,arguments)}}();e.Z=i}},function(t){t.O(0,[5370,9990,9260,8914,4753,6827,6549,7058,788,135,6004,5121,1244,9774,2888,179],(function(){return e=2963,t(t.s=e);var e}));var e=t.O();_N_E=e}]);