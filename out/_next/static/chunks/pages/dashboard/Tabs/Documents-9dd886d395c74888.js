(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6728],{55113:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var a=n(63366),r=n(87462),o=n(67294),i=n(93680),s=n(94780),c=n(41796),u=n(90948),d=n(71657),l=n(34867);function m(e){return(0,l.Z)("MuiPaper",e)}(0,n(1588).Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var f=n(85893);const v=["className","component","elevation","square","variant"],p=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)},y=(0,u.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((({theme:e,ownerState:t})=>{var n;return(0,r.Z)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,r.Z)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,c.Fq)("#fff",p(t.elevation))}, ${(0,c.Fq)("#fff",p(t.elevation))})`},e.vars&&{backgroundImage:null==(n=e.vars.overlays)?void 0:n[t.elevation]}))}));var h=o.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiPaper"}),{className:o,component:c="div",elevation:u=1,square:l=!1,variant:p="elevation"}=n,h=(0,a.Z)(n,v),_=(0,r.Z)({},n,{component:c,elevation:u,square:l,variant:p}),b=(e=>{const{square:t,elevation:n,variant:a,classes:r}=e,o={root:["root",a,!t&&"rounded","elevation"===a&&`elevation${n}`]};return(0,s.Z)(o,m,r)})(_);return(0,f.jsx)(y,(0,r.Z)({as:c,ownerState:_,className:(0,i.Z)(b.root,o),ref:t},h))}))},53184:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var a=n(87462),r=n(63366),o=n(67294),i=n(93680),s=n(94780),c=n(44063),u=n(71657),d=n(90948),l=n(34867);function m(e){return(0,l.Z)("MuiTableHead",e)}(0,n(1588).Z)("MuiTableHead",["root"]);var f=n(85893);const v=["className","component"],p=(0,d.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),y={variant:"head"},h="thead";var _=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiTableHead"}),{className:o,component:d=h}=n,l=(0,r.Z)(n,v),_=(0,a.Z)({},n,{component:d}),b=(e=>{const{classes:t}=e;return(0,s.Z)({root:["root"]},m,t)})(_);return(0,f.jsx)(c.Z.Provider,{value:y,children:(0,f.jsx)(p,(0,a.Z)({as:d,className:(0,i.Z)(b.root,o),ref:t,role:d===h?null:"rowgroup",ownerState:_},l))})}))},2734:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(67294);var a=n(96682),r=n(90247);function o(){return(0,a.Z)(r.Z)}},58974:function(e,t,n){"use strict";var a=n(73546);t.Z=a.Z},27909:function(e,t,n){"use strict";var a=n(92996);t.Z=a.Z},39707:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(87462),r=n(63366),o=n(59766),i=n(44920);const s=["sx"];function c(e){const{sx:t}=e,n=(0,r.Z)(e,s),{systemProps:c,otherProps:u}=(e=>{var t,n;const a={systemProps:{},otherProps:{}},r=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:i.Z;return Object.keys(e).forEach((t=>{r[t]?a.systemProps[t]=e[t]:a.otherProps[t]=e[t]})),a})(n);let d;return d=Array.isArray(t)?[c,...t]:"function"===typeof t?(...e)=>{const n=t(...e);return(0,o.P)(n)?(0,a.Z)({},c,n):c}:(0,a.Z)({},c,t),(0,a.Z)({},u,{sx:d})}},92996:function(e,t,n){"use strict";var a;n.d(t,{Z:function(){return s}});var r=n(67294);let o=0;const i=(a||(a=n.t(r,2)))["useId".toString()];function s(e){if(void 0!==i){const t=i();return null!=e?e:t}return function(e){const[t,n]=r.useState(e),a=e||t;return r.useEffect((()=>{null==t&&(o+=1,n(`mui-${o}`))}),[t]),a}(e)}},82866:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/Tabs/Documents",function(){return n(91434)}])},21367:function(e,t,n){"use strict";n.r(t),n.d(t,{rows:function(){return o}});var a=n(85893),r=n(42480),o=[{config:r.Z.avatar,status:-1},{config:r.Z.aadhar,status:-1},{config:r.Z.pancard,status:-1},{config:r.Z.passbook,status:-1},{config:r.Z.voterId,status:-1,isOptional:!0},{config:r.Z.driving_license,status:-1,isOptional:!0}];t.default=function(){return(0,a.jsx)("div",{children:"RemoveError"})}},91434:function(e,t,n){"use strict";n.r(t);var a=n(34051),r=n.n(a),o=n(85893),i=n(45477),s=n(46230),c=n(55511),u=n(50319),d=n(8987),l=n(2734),m=n(11057),f=n(15861),v=n(50456),p=n(55113),y=n(7906),h=n(295),_=n(53252),b=n(72882),P=n(53184),g=n(20427),Z=n(53816),x=(n(19662),n(37070),n(93491),n(67294)),j=n(86501),w=n(21367);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function A(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(a,r)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){A(o,a,r,i,s,"next",e)}function s(e){A(o,a,r,i,s,"throw",e)}i(void 0)}))}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){S(e,t,n[t])}))}return e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(c){s=!0,r=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}var T=function(e){var t=e.data,n=e.documents,a=void 0===n?[]:n,v=e.user,p=(0,l.Z)(),y=(0,x.useState)([]),h=y[0],b=y[1],P=(0,x.useState)([]),w=P[0],D=P[1],A=O((0,u.D)(i.Is),1)[0],R=O((0,u.D)(i.yW),1)[0],T=(0,x.useState)(!1),E=T[0],U=T[1],I=(0,s.T)();(0,x.useEffect)((function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=a[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value;e.push(s.url)}}catch(c){n=!0,r=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}b(e)}),[a,v]);var L=function(){var e=k(r().mark((function e(t,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({variables:{title:t,url:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=k(r().mark((function e(t,n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R({variables:{id:t,title:n,url:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),q=function(e,t,n){var a,r=v,o=[];return null===v||void 0===v||null===(a=v.documents)||void 0===a||a.map((function(n){n.id===e?o.push(C({},n,{title:"avatar"})):n.title!==t&&o.push(n)})),C({},r,{documents:o})},F=function(){var e=k(r().mark((function e(){var n,o,i,s,u,d,l,m,f;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(!0),e.prev=1,n=0;case 3:if(!(n<w.length)){e.next=35;break}if(!w[n]){e.next=32;break}return o=t.config.items[n].id,e.next=8,(0,c.Z)(h[n]);case 8:if(i=e.sent,s=a.find((function(e){if(e.title.toLowerCase()===o.toLowerCase())return!0})),(u=null===v||void 0===v?void 0:v.documents)||(u=[]),!s){e.next=24;break}return e.next=15,M(s.id,o,i);case 15:return d=e.sent,e.next=18,I((0,g.j2)(q(s.id,o)));case 18:j.ZP.success("".concat(o," Uploaded")),(l=u.filter((function(e){return e.id!==document.id}))).push(d.data.updateDocument),u=l,e.next=29;break;case 24:return e.next=26,L(o,i);case 26:m=e.sent,j.ZP.success("".concat(o," Uploaded")),u=N(u).concat([m.data.createDocument]);case 29:(f=C({},v)).documents=u,I((0,g.j2)(f));case 32:n++,e.next=3;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(1),console.log("error",e.t0);case 40:U(!1);case 41:case"end":return e.stop()}}),e,null,[[1,37]])})));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)(Z.Z,{sx:S({"&:last-child td, &:last-child th":{border:0}},p.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,o.jsxs)(_.Z,{component:"th",scope:"row",children:[t.config.name," ",t.isOptional?"(Optional)":""]}),(0,o.jsx)(_.Z,{children:function(){for(var e=[],n=t.config.items,a=0;a<n.length;a++){var r=h[a];r&&e.push((0,o.jsx)("img",{src:"object"==typeof r?URL.createObjectURL(r):r,height:100,style:{marginLeft:"5px"}}))}return 0==e.length?(0,o.jsx)(f.Z,{variant:"subtitle1",children:"No Document"}):e}()}),(0,o.jsx)(_.Z,{children:function(){for(var e=function(e){n.push((0,o.jsxs)(m.Z,{style:{cursor:a[0]&&"APPROVED"===a[0].status?"not-allowed":"pointer",marginTop:"10px"},component:"label",color:a[0]&&"APPROVED"===a[0].status?"secondary":"primary",children:["Choose ",r[e].name,(0,o.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!a[0]&&"APPROVED"===a[0].status,onChange:function(t){if(t.target.files.length>0){var n=N(h);n[e]=t.target.files[0],b(n),console.log("imageChanged",n[e]);var a=N(w);a[e]=!0,D(a)}}})]}))},n=[],r=t.config.items,i=0;i<r.length;i++)e(i);return n}()}),(0,o.jsx)(_.Z,{children:(0,o.jsx)(d.Z,{loading:E,disabled:!function(){var e=w.find((function(e){if(e)return!0}));if(h.length==t.config.items.length&&e)return!0}(),variant:"contained",onClick:function(){F()},children:"Upload"})}),(0,o.jsx)(_.Z,{children:(0,o.jsx)("span",{style:{color:a[0]?"APPROVED"===a[0].status?"green":"REJECTED"===a[0].status&&"red":""},children:a[0]&&a[0].status})})]},t.config.name)};t.default=function(){var e=(0,s.C)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.data})),t=function(t){var n=[];if(e&&(null===e||void 0===e?void 0:e.documents)){var a=!0,r=!1,o=void 0;try{for(var i,s=function(t,a){var r,o=a.value,i=null===e||void 0===e||null===(r=e.documents)||void 0===r?void 0:r.find((function(e){if(e.title.toLowerCase()===o.id.toLowerCase())return!0}));i&&n.push(i)},c=t[Symbol.iterator]();!(a=(i=c.next()).done);a=!0)s(0,i)}catch(u){r=!0,o=u}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}}return n};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.Z,{variant:"h4",sx:{my:2},children:"Kindly Upload the documents requested below"}),(0,o.jsxs)(b.Z,{component:p.Z,children:[(0,o.jsxs)(y.Z,{"aria-label":"simple table",children:[(0,o.jsx)(P.Z,{children:(0,o.jsxs)(Z.Z,{children:[(0,o.jsx)(_.Z,{children:"Document Name"}),(0,o.jsxs)(v.Z,{smDown:!0,children:[(0,o.jsx)(_.Z,{children:"Preview"}),(0,o.jsx)(_.Z,{style:{padding:"0 0 0 2rem"},children:"Action"}),(0,o.jsx)(_.Z,{style:{padding:"0 0 0 2rem"},children:"Upload Action"}),(0,o.jsx)(_.Z,{children:"Status"})]})]})}),(0,o.jsx)(h.Z,{children:w.rows.map((function(n,a){return(0,o.jsx)(T,{data:n,user:e,documents:t(n.config.items)},a)}))})]}),(0,o.jsx)(j.x7,{position:"bottom-center",reverseOrder:!1})]})]})}},42480:function(e,t){"use strict";t.Z={aadhar:{id:"aadhar",name:"Aadhar Card",status:"",items:[{id:"aadhar_front",name:"AADHAR Card Front",status:""},{id:"aadhar_back",name:"AADHAR Card Back",status:""}]},pancard:{id:"pancard",name:"Pancard",status:"",items:[{id:"pancard",name:"Pan Card",status:""}]},avatar:{id:"photo",name:"Photo",status:"",items:[{id:"avatar",name:"Passport Size Photo",status:""}]},voterId:{id:"voterId",name:"Voter Id Card",status:"Not Uploaded",items:[{id:"voterid_front",name:"Voter Id Front",status:""},{id:"voterid_back",name:"Voted Id Card Back",status:""}]},passbook:{name:"Passbook  or Bank Statement",id:"passbook",status:"Not Uploaded",items:[{id:"passbook",name:"Bank Passbook Or Bank Statement",status:"Not Uploaded"}]},payment_proof:{name:"Payment Proof",id:"payment_proof",status:"Not Uploaded",items:[{id:"payment_proof",name:"Payment Proof"}]},agency_payment_proof:{name:"Agency Payment Proof",id:"agency_payment_proof",status:"Not Uploaded",items:[{id:"agency_payment_proof",name:"Agency Payment Proof"}]},additional_documents:{name:"Additional Payment Document",id:"additional_payment_doc",items:[{id:"additional_payment_doc2",name:"Payment Document"},{id:"additional_payment_doc3",name:"Payment Document"},{id:"additional_payment_doc4",name:"Payment Document"},{id:"additional_payment_doc5",name:"Payment Document"}]},to_advance_payment_proof:{name:"To Advance Payment Proof",id:"to_advance_payment_proof",status:"Not Uploaded",items:[{id:"to_advance_payment_proof",name:"To Advance Payment Proof"}]},to_advance_additional_documents:{name:"To Advance Additional Payment Document",id:"to_advance_additional_payment_doc",items:[{id:"to_advance_additional_payment_doc2",name:"To Advance Payment Document"},{id:"to_advance_additional_payment_doc3",name:"To Advance Payment Document"},{id:"to_advance_additional_payment_doc4",name:"To Advance Payment Document"},{id:"to_advance_additional_payment_doc5",name:"To Advance Payment Document"}]},driving_license:{name:"Driving License",id:"driving_license",status:"Not Uploaded",items:[{id:"driving_license_front",name:"Driving License Front",status:""},{id:"driving_license_back",name:"Driving License Back",status:""}]},nominee_aadhar:{name:"Nominee Aadhar",id:"nominee_aadhar",status:"Not Uploaded",items:[{id:"nominee_aadhar_front",name:"AADHAR Card Front",status:""},{id:"nominee_aadhar_back",name:"AADHAR Card Back",status:""}]},demat_document:{name:"Demat Document",id:"demat_document",status:"Not Uploaded",items:[{id:"demat_document",name:"Demat Document",status:""}]},payment_additional_documents:{name:"Additional Payment Document",id:"additional_payment_doc",items:[{id:"additional_payment_doc2",name:"Payment Document"},{id:"additional_payment_doc3",name:"Payment Document"},{id:"additional_payment_doc4",name:"Payment Document"},{id:"additional_payment_doc5",name:"Payment Document"}]},project_payment:{name:"Project Payment",id:"project_payment",items:[{id:"project_payment_1",name:"Payment Document"},{id:"project_payment_2",name:"Payment Document"},{id:"project_payment_3",name:"Payment Document"},{id:"project_payment_4",name:"Payment Document"},{id:"project_payment_5",name:"Payment Document"}]}}},55511:function(e,t,n){"use strict";var a=n(34051),r=n.n(a),o=n(6154);function i(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(a,r)}var s=function(){var e,t=(e=r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("document",t),e.next=4,o.Z.post("".concat("https://kycramaerabackend.ramaera.com","/documents/upload"),n,{headers:{"Content-Type":"multipart/form-data"}});case 4:return a=e.sent,e.abrupt("return",a.data.url);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){i(o,a,r,s,c,"next",e)}function c(e){i(o,a,r,s,c,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();t.Z=s},19662:function(){},37070:function(){},93491:function(){}},function(e){e.O(0,[2005,5370,9990,4789,9708,8549,6261,6154,6233,9774,2888,179],(function(){return t=82866,e(e.s=t);var t}));var t=e.O();_N_E=t}]);