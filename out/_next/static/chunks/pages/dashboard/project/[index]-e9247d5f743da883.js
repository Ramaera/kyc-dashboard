(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5734,1728],{74763:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/project/[index]",function(){return t(56242)}])},71728:function(n,e,t){"use strict";t.r(e);var i=t(14924),r=t(26042),s=t(69396),o=t(85893),l=t(4749),a=t(22628),c=t(34753),d=t(37887),u=t(8987),p=t(2734),x=t(66242),h=t(87357),f=t(11057),m=t(67720),Z=t(78445),v=t(50135),j=t(72882),g=t(7906),C=t(53184),b=t(53816),A=t(53252),w=t(295),E=t(15861),y=t(47171),N=t(45697),S=t.n(N),D=t(67294),I=t(47082),L=t(9473),R=t(61692),B=t.n(R),P=t(5678),T=function(n){var e=n.title,t=(0,D.useState)(!0),N=t[0],S=t[1],R=(0,p.Z)(),T=(0,D.useRef)(null),O=(0,D.useState)(0),_=O[0],k=O[1],W=(0,D.useState)([]),H=W[0],G=W[1],V=(0,D.useState)(""),F=V[0],J=V[1],K=(0,L.v9)((function(n){return n.allUsers.totalNumbers})),U=(0,D.useState)({total:0,pending:0,completed:0}),Y=U[0],q=U[1],M=(0,D.useState)(20),X=M[0],$=M[1],z=(0,D.useState)(""),Q=z[0],nn=z[1],en=(0,P.Nr)(Q,400),tn=(0,d.a)(l.A2,{variables:{skip:0,take:5e3}});(0,D.useEffect)((function(){var n;(null===tn||void 0===tn||null===(n=tn.data)||void 0===n?void 0:n.getAllUser)&&G(tn.data.getAllUser)}),[tn]);var rn=function(n,e){var t=[];return n.map((function(n){n.title.includes(e.toLowerCase())&&t.push(null===n||void 0===n?void 0:n.status)})),t.includes(c.Z.status.PENDING)||t.includes(c.Z.status.ONGOING)?c.Z.status.ONGOING:t.includes(c.Z.status.REJECTED)?c.Z.status.REJECTED:c.Z.status.APPROVED},sn=(0,D.useState)({status:null,membership:null}),on=sn[0],ln=sn[1],an=function(n,t,i){var r=i.toLowerCase();return n.filter((function(n){var i,s,o=!0;return(null===n||void 0===n||null===(i=n.name)||void 0===i?void 0:i.toLowerCase().includes(r))||(null===n||void 0===n||null===(s=n.pw_id)||void 0===s?void 0:s.toLowerCase().includes(r))||(o=!1),n.role===c.Z.role.ADMIN&&(o=!1),(null===n||void 0===n?void 0:n.documents.find((function(n){return n.title.toLowerCase().includes(e.toLowerCase())})))||(o=!1),t.status&&rn(null===n||void 0===n?void 0:n.documents,e.toLowerCase())!==t.status&&(o=!1),(t.membership&&(null===n||void 0===n?void 0:n.membership))!==t.membership&&(o=!1),o}))}(H,on,en),cn=function(n,e,t){return n.slice(e*t,e*t+t)}(an,_,X),dn=function(n){var e=null;"all"!==n&&(e=n),ln((function(n){return(0,s.Z)((0,r.Z)({},n),{membership:e})}))},un=function(n){var e=null;"all"!==n&&(e=n),ln((function(n){return(0,s.Z)((0,r.Z)({},n),{status:e})}))},pn=function(n){if(!n)return n;var e=RegExp("(?<!^).(?!$)","g");return n.replace(e,"*")};return(0,D.useEffect)((function(){!function(){var n=0,t=0;H.map((function(i){if(i.role!==c.Z.role.ADMIN){var r=0,s=0;null===i||void 0===i||i.documents.map((function(n){n.title.toLowerCase().includes(e.toLowerCase())&&1,!n.title.toLowerCase().includes(e.toLowerCase())||n.status!==c.Z.status.PENDING&&n.status!==c.Z.status.ONGOING&&n.status!==c.Z.status.NOT_INITIALIZED&&n.status!==c.Z.status.REJECTED||(r+=1),n.title.toLowerCase().includes(e.toLowerCase())&&n.status===c.Z.status.APPROVED&&(s+=1)})),r?n+=1:s&&(t+=1)}})),q((0,s.Z)((0,r.Z)({},Y),{pending:n,completed:t}))}()}),[H]),(0,D.useEffect)((function(){q((function(n){return(0,s.Z)((0,r.Z)({},n),{total:K["total".concat(e,"Subscribers")]})}))}),[K]),H[0]?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(x.Z,{sx:{mb:4},children:[(0,o.jsxs)(h.Z,{mx:2,children:[(0,o.jsxs)(h.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,o.jsx)(f.Z,{variant:F.includes("total")?"contained":"outlined",sx:(0,i.Z)({textTransform:"uppercase",width:"490px"},R.breakpoints.down("sm"),{width:"100%"}),onClick:function(){J((function(n){return n.includes("total")?"":"total"})),dn(""),un("all")},children:"Total Enrolled ".concat(e," : ").concat(Y.total)}),F.includes("total")&&(0,o.jsxs)(h.Z,{display:"flex",gap:2,children:[(0,o.jsx)(f.Z,{variant:"totalAdvance"===F?"contained":"outlined",onClick:function(){J((function(n){return n.includes("totalAdvance")?"total":"totalAdvance"})),dn(c.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,o.jsx)(f.Z,{variant:"totalBasic"===F?"contained":"outlined",onClick:function(){J((function(n){return n.includes("totalBasic")?"total":"totalBasic"})),dn(c.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]}),(0,o.jsxs)(h.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,o.jsx)(f.Z,{variant:F.includes("pending")?"contained":"outlined",sx:(0,i.Z)({textTransform:"uppercase",width:"490px"},R.breakpoints.down("sm"),{width:"100%"}),onClick:function(){J((function(n){return n.includes("pending")?"":"pending"})),dn(""),un(c.Z.status.ONGOING)},children:"".concat(e," pending  : ").concat(Y.pending)}),F.includes("pending")&&(0,o.jsxs)(h.Z,{display:"flex",gap:2,children:[(0,o.jsx)(f.Z,{variant:"pendingAdvance"===F?"contained":"outlined",onClick:function(){J((function(n){return n.includes("pendingAdvance")?"pending":"pendingAdvance"})),dn(c.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,o.jsx)(f.Z,{variant:"pendingBasic"===F?"contained":"outlined",onClick:function(){J((function(n){return n.includes("pendingBasic")?"pending":"pendingBasic"})),dn(c.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]}),(0,o.jsxs)(h.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,o.jsx)(f.Z,{variant:F.includes("completed")?"contained":"outlined",sx:(0,i.Z)({textTransform:"uppercase",width:"490px"},R.breakpoints.down("sm"),{width:"100%"}),onClick:function(){J((function(n){return n.includes("completed")?"":"completed"})),dn(""),un(c.Z.status.APPROVED)},children:"".concat(e," Completed  : ").concat(Y.completed)}),F.includes("completed")&&(0,o.jsxs)(h.Z,{display:"flex",gap:2,children:[(0,o.jsx)(f.Z,{variant:"completedAdvance"===F?"contained":"outlined",onClick:function(){J((function(n){return n.includes("completedAdvance")?"completed":"completedAdvance"})),dn(c.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,o.jsx)(f.Z,{variant:"completedBasic"===F?"contained":"outlined",onClick:function(){J((function(n){return n.includes("completedBasic")?"completed":"completedBasic"})),dn(c.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]})]}),(0,o.jsx)(m.Z,{}),(F.includes("Advance")||F.includes("Basic"))&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Z.Z,{action:(0,o.jsx)(h.Z,{display:"flex",gap:"20px",children:(0,o.jsx)(h.Z,{width:480,display:"flex",gap:"10px",sx:(0,i.Z)({},R.breakpoints.down("sm"),{width:"100%"}),children:(0,o.jsx)(v.Z,{fullWidth:!0,label:"Search",variant:"outlined",value:Q,onChange:function(n){nn(n.target.value)}})})}),title:e.toUpperCase()+" LIST"}),(0,o.jsx)(m.Z,{})]}),(F.includes("Advance")||F.includes("Basic"))&&(0,o.jsx)(j.Z,{children:(0,o.jsxs)(g.Z,{ref:T,children:[(0,o.jsx)(C.Z,{children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(A.Z,{children:"S.No."}),(0,o.jsxs)(A.Z,{sx:{cursor:"pointer"},onClick:function(){var n="desc";N&&(n="");var e=B()(H,"name",{order:n});G(e),S(!N)},children:["Name",N?"\u2b07":"\u2b06"]})," ",(0,o.jsx)(A.Z,{children:"Father's Name"}),(0,o.jsx)(A.Z,{children:"PW ID"}),(0,o.jsx)(A.Z,{children:"Share Holder Type"}),(0,o.jsx)(A.Z,{align:"center",children:"Moibile No."}),(0,o.jsx)(A.Z,{align:"center",children:"Enrollment Status"})]})}),(0,o.jsx)(w.Z,{children:cn.map((function(n,t){return(0,o.jsxs)(b.Z,{hover:!0,children:[(0,o.jsx)(A.Z,{children:(0,o.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,width:30,children:t+1})}),(0,o.jsx)(A.Z,{children:(0,o.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:null===n||void 0===n?void 0:n.name})}),(0,o.jsx)(A.Z,{children:(0,o.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===n||void 0===n?void 0:n.pw_id})}),(0,o.jsx)(A.Z,{align:"center",children:(0,o.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===n||void 0===n?void 0:n.membership})}),(0,o.jsx)(A.Z,{children:(0,o.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:100,noWrap:!0,children:pn(null===n||void 0===n?void 0:n.father_or_husband_name)})}),(0,o.jsx)(A.Z,{align:"center",children:(0,o.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:pn(null===n||void 0===n?void 0:n.mobile_number)})}),(0,o.jsx)(A.Z,{align:"center",children:(0,o.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:rn(null===n||void 0===n?void 0:n.documents,e)})})]},null===n||void 0===n?void 0:n.id)}))})]})}),(F.includes("Advance")||F.includes("Basic"))&&(0,o.jsxs)(h.Z,{p:2,gap:2,display:"flex",justifyContent:"flex-end",children:[(0,o.jsx)(y.Z,{component:"div",count:an.length,onPageChange:function(n,e){k(e)},onRowsPerPageChange:function(n){$(parseInt("All"===n.target.value?-1:n.target.value))},page:_,rowsPerPage:X,rowsPerPageOptions:[20,100,200,"All"]}),(0,o.jsx)(I.DownloadTableExcel,{filename:e?e+"_KYC":"PROJECT_KYC",sheet:e?e+"_KYC":"PROJECT_KYC",currentTableRef:T.current,children:(0,o.jsx)(u.Z,{variant:"contained",children:"Download"})})]})]})}):(0,o.jsx)(a.Z,{})};T.propTypes={usersList:S().array.isRequired},T.defaultProps={usersList:[]},e.default=T},56242:function(n,e,t){"use strict";t.r(e);var i=t(14924),r=t(85893),s=t(91875),o=t(9395),l=t(2734),a=t(53156),c=t(66242),d=t(78445),u=t(67720),p=t(86886),x=t(87357),h=t(9008),f=t.n(h),m=t(11163),Z=t(43725),v=t(52143),j=t(26183);function g(){var n=(0,l.Z)(),e=((0,j.C)((function(n){var e;return null===(e=n.user)||void 0===e?void 0:e.data})),(0,m.useRouter)()),t=e.query.index.charAt(0).toUpperCase()+e.query.index.slice(1);return(0,r.jsxs)(Z.default,{children:[(0,r.jsx)(f(),{children:(0,r.jsx)("title",{children:"KYC Dashboard"})}),(0,r.jsx)(a.Z,{maxWidth:!1,sx:{mt:2},children:(0,r.jsxs)(c.Z,{variant:"outlined",children:[(0,r.jsx)(d.Z,{title:t,sx:{ml:2,textTransform:"uppercase"}}),(0,r.jsx)(u.Z,{sx:{mb:1}}),(0,r.jsx)(p.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:0,children:(0,r.jsx)(p.ZP,{item:!0,xs:12,children:(0,r.jsx)(x.Z,{px:4,py:2,sx:(0,i.Z)({},n.breakpoints.down("sm"),{padding:1}),children:(0,r.jsx)(v.default,{title:t})})})})]})}),(0,r.jsx)(s.Z,{})]})}g.getLayout=function(n){return(0,r.jsx)(o.Z,{children:n})},e.default=g},43725:function(n,e,t){"use strict";t.r(e);var i=t(85893);e.default=function(n){var e=n.children;return(0,i.jsx)(i.Fragment,{children:e})}},91875:function(n,e,t){"use strict";var i=t(85893),r=t(90948),s=t(53156),o=t(87357),l=t(15861),a=(0,r.ZP)(s.Z)((function(n){var e=n.theme;return"\n        margin-top: ".concat(e.spacing(4),";\n")}));e.Z=function(){return(0,i.jsx)(a,{className:"footer-wrapper",children:(0,i.jsxs)(o.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,i.jsx)(o.Z,{}),(0,i.jsx)(l.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1"})]})})}},22628:function(n,e,t){"use strict";var i=t(7297),r=t(85893),s=(t(67294),t(90948));function o(){var n=(0,i.Z)(["\n  from { scale: 0.5; }\n  to { scale: 0.6; }\n  \n  \n"]);return o=function(){return n},n}var l=(0,t(70917).F4)(o()),a=(0,s.ZP)("div")({display:"flex",justifyContent:"center",height:"85vh",alignItems:"center",animation:"".concat(l," 1s  infinite")});e.Z=function(){return(0,r.jsx)(a,{children:(0,r.jsx)("img",{src:"/static/images/logo/logo.png"})})}}},function(n){n.O(0,[9774,1385,400,9260,9213,4753,6827,6549,7305,7058,788,8584,1664,8415,5571,7924,8764,886,5121,1378,8278,6572,7171,6796,995,9395,2143,2888,179],(function(){return e=74763,n(n.s=e);var e}));var e=n.O();_N_E=e}]);