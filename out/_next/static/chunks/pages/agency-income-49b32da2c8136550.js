(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7602],{22477:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agency-income",function(){return t(96232)}])},96232:function(e,n,t){"use strict";t.r(n);var i=t(85893),s=t(91875),r=t(37652),l=t(9395),a=t(53156),o=t(9008),c=t.n(o),d=t(41294),u=t(43725),h=t(67682);function x(){return(0,i.jsxs)(u.default,{children:[(0,i.jsx)(c(),{children:(0,i.jsx)("title",{children:"KYC Users"})}),(0,i.jsx)(r.Z,{children:(0,i.jsx)(d.Z,{})}),(0,i.jsx)(a.Z,{maxWidth:!1,children:(0,i.jsx)(h.default,{})}),(0,i.jsx)(s.Z,{})]})}x.getLayout=function(e){return(0,i.jsx)(l.Z,{children:e})},n.default=x},43725:function(e,n,t){"use strict";t.r(n);var i=t(85893);n.default=function(e){var n=e.children;return(0,i.jsx)(i.Fragment,{children:n})}},91875:function(e,n,t){"use strict";var i=t(85893),s=t(90948),r=t(53156),l=t(87357),a=t(15861),o=(0,s.ZP)(r.Z)((function(e){var n=e.theme;return"\n        margin-top: ".concat(n.spacing(4),";\n")}));n.Z=function(){return(0,i.jsx)(o,{className:"footer-wrapper",children:(0,i.jsxs)(l.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,i.jsx)(l.Z,{}),(0,i.jsx)(a.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1"})]})})}},37652:function(e,n,t){"use strict";var i=t(85893),s=t(45697),r=t.n(s),l=t(90948),a=t(87357),o=t(53156),c=(0,l.ZP)(a.Z)((function(e){var n=e.theme;return"\n        padding: ".concat(n.spacing(4),";\n")})),d=function(e){var n=e.children;return(0,i.jsx)(c,{className:"MuiPageTitle-wrapper",children:(0,i.jsx)(o.Z,{maxWidth:!1,children:n})})};d.propTypes={children:r().node.isRequired},n.Z=d},41294:function(e,n,t){"use strict";var i=t(47568),s=t(14924),r=t(828),l=t(97582),a=t(85893),o=t(26183),c=t(2734),d=t(87357),u=t(15861),h=t(71236),x=t(11057),v=t(50657),m=t(37645),p=t(6514),Z=t(58951),f=t(31425),E=t(50319),j=t(86501),P=t(7500),g=t(16538),y=t(9473),A=t(11163),D=t(67294),O=t(34753);n.Z=function(){var e=(0,o.C)((function(e){var n;return null===(n=e.user)||void 0===n?void 0:n.data})),n=(0,c.Z)(),t=(0,r.Z)((0,E.D)(g.QX),1)[0],b=(0,D.useState)(""),R=b[0],N=b[1],_=(0,D.useState)(""),k=_[0],T=_[1],C=(0,y.v9)((function(e){return e.foundUser.foundUser})),I=(0,A.useRouter)(),V=(0,D.useState)(!1),w=V[0],S=V[1],G=function(){S(!0)},Y=function(){S(!1)},K=function(){var e=(0,i.Z)((function(){var e;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,t({variables:{id:C.id,kyc:k}})];case 1:return e=n.sent(),Y(),"APPROVED"===k&&j.ZP.success("KYC APPROVED"),"REJECTED"===k&&j.ZP.error("KYC REJECTED"),"ONGOING"===k&&j.ZP.success("KYC ONGOING"),N(e.data.updateStatus.kyc),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:["/dashboard"===I.pathname&&(0,a.jsxs)(d.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,a.jsx)(d.Z,{display:"flex",alignItems:"center",children:(0,a.jsxs)(d.Z,{children:[(0,a.jsxs)(u.Z,{variant:"h3",component:"h3",gutterBottom:!0,sx:(0,s.Z)({},n.breakpoints.down("sm"),{fontSize:20}),children:["Welcome, ",(null===e||void 0===e?void 0:e.name)?null===e||void 0===e?void 0:e.name:null===e||void 0===e?void 0:e.rm_id,"!"]}),(0,a.jsxs)(u.Z,{variant:"h5",component:"h5",align:"left",children:["Share Holder Type :"," ",(0,a.jsx)(h.Z,{badgeContent:null===e||void 0===e?void 0:e.membership,sx:{marginLeft:4},color:"success"})]}),(0,a.jsx)(u.Z,{variant:"subtitle2",mt:1,sx:(0,s.Z)({},n.breakpoints.down("sm"),{fontSize:12}),children:"APPROVED"===(null===e||void 0===e?void 0:e.kyc)?"Your KYC has been Approved":"Complete Your KYC By Filling the form below"})]})}),(0,a.jsxs)(d.Z,{mt:{xs:3,md:0},children:[(0,a.jsxs)(u.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:["Status :"," ",(0,a.jsx)("span",{style:{color:(null===e||void 0===e?void 0:e.kyc)?"APPROVED"===(null===e||void 0===e?void 0:e.kyc)?"green":"REJECTED"===(null===e||void 0===e?void 0:e.kyc)&&"red":""},children:"NOT_INITIALIZED"===(null===e||void 0===e?void 0:e.kyc)?"NOT STARTED":null===e||void 0===e?void 0:e.kyc})]})," "]})]}),"/agency/[index]"===I.pathname&&(0,a.jsxs)(d.Z,{display:"flex",alignItems:{xs:"stretch",md:"center"},flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,a.jsxs)(d.Z,{display:"flex",alignItems:"center",children:[(0,a.jsx)(u.Z,{variant:"h3",component:"h3",sx:{textTransform:"uppercase"},gutterBottom:!0,children:"Agency Dashboard"}),(0,a.jsx)(u.Z,{variant:"subtitle2",children:(0,a.jsx)(P.C,{href:"/agency",children:(0,a.jsx)(x.Z,{variant:"outlined",color:"primary",sx:{ml:2},children:"USERLIST"})})})]}),"/agency/[index]"===I.pathname&&(0,a.jsxs)(d.Z,{margin:" 0 0 0 auto",children:[(0,a.jsx)(d.Z,{children:(0,a.jsx)(u.Z,{padding:"0 0 10px 0 ",align:"center",variant:"h4",component:"h2",gutterBottom:!0,children:(0,a.jsxs)("span",{style:{color:R?("APPROVED"===R?"green":"REJECTED"===R&&"red")||"ONGOING"===R&&"orange"||"AGENT_APPROVED"===R&&"green":("APPROVED"===C.kyc?"green":"REJECTED"===C.kyc&&"red")||"ONGOING"===C.kyc&&"orange"||"AGENT_APPROVED"===C.kyc&&"green"},children:["Status :"," ",R?("AGENT_APPROVED"===R?"AGENT APPROVED":"NOT_INITIALIZED"===R&&"NOT INITIALIZED")||R:(null===C||void 0===C?void 0:C.kyc)?"AGENT_APPROVED"===(null===C||void 0===C?void 0:C.kyc)?"AGENT APPROVED":null===C||void 0===C?void 0:C.kyc:"UNKNOWN"]})})}),C.kyc!==O.Z.status.APPROVED&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{onClick:function(){G(),T("AGENT_APPROVED")},variant:"outlined",disabled:!function(){var e,n,t,i=!1,s=!1,r=!1,l=!1,a=!1,o=!1,c=!1,d=!1,u=!1;return(null===C||void 0===C?void 0:C.name)&&(null===C||void 0===C?void 0:C.email)&&(null===C||void 0===C?void 0:C.mobile_number)&&(null===C||void 0===C?void 0:C.date_of_birth)&&(null===C||void 0===C||null===(e=C.nominee)||void 0===e?void 0:e.name)&&(null===C||void 0===C||null===(n=C.nominee)||void 0===n?void 0:n.relationship)&&(null===C||void 0===C?void 0:C.demat_account)&&(i=!0),null===C||void 0===C||null===(t=C.documents)||void 0===t||t.map((function(e){e.title.includes("payment_proof")&&e.status===O.Z.status.APPROVED&&(s=!0),e.title.includes("avatar")&&e.status===O.Z.status.APPROVED&&(r=!0),e.title.includes("aadhar_front")&&e.status===O.Z.status.APPROVED&&(l=!0),e.title.includes("aadhar_back")&&e.status===O.Z.status.APPROVED&&(a=!0),e.title.includes("pancard")&&e.status===O.Z.status.APPROVED&&(o=!0),e.title.includes("passbook")&&e.status===O.Z.status.APPROVED&&(c=!0),e.title.includes("nominee_aadhar_front")&&e.status===O.Z.status.APPROVED&&(d=!0),e.title.includes("demat")&&e.status===O.Z.status.APPROVED&&(u=!0)})),i&&s&&r&&l&&a&&o&&c&&d&&u}(),color:"success",sx:{ml:2},children:"Approve"}),(0,a.jsx)(x.Z,{onClick:function(){G(),T("REJECTED")},variant:"outlined",color:"error",sx:{ml:2},children:"Reject"})]}),(0,a.jsx)("div",{children:(0,a.jsxs)(v.Z,{open:w,onClose:Y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,a.jsx)(m.Z,{id:"alert-dialog-title",children:"Submit KYC Status"}),(0,a.jsx)(p.Z,{children:(0,a.jsxs)(Z.Z,{id:"alert-dialog-description",children:["KYC Status will be set to ",k,"."]})}),(0,a.jsxs)(f.Z,{children:[(0,a.jsx)(x.Z,{onClick:Y,children:"Dismiss"}),(0,a.jsx)(x.Z,{onClick:K,autoFocus:!0,children:"Submit"})]})]})})]}),(0,a.jsx)(d.Z,{mt:{xs:3,md:0}})]})]})}}},function(e){e.O(0,[8244,9990,2817,630,4753,9964,6549,7058,788,5547,8584,456,5571,1293,893,6261,4978,3864,8380,4429,9395,7682,9774,2888,179],(function(){return n=22477,e(e.s=n);var n}));var n=e.O();_N_E=n}]);