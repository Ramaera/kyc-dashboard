"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6515],{26515:function(e,n,t){t.r(n);var i=t(85893),o=t(45477),r=t(35632),l=t(17677),s=t(37887),a=t(8987),c=t(2734),d=t(66242),u=t(87357),p=t(11057),f=t(67720),h=t(78445),m=t(72882),x=t(7906),v=t(53184),Z=t(53816),g=t(53252),A=t(295),j=t(15861),E=t(47171),b=t(45697),C=t.n(b),N=t(67294),I=t(47082),D=t(9473);function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){O(e,n,t[n])}))}return e}var y=function(e){var n=e.title,t=(0,c.Z)(),b=(0,N.useRef)(null),C=(0,N.useState)(0),y=C[0],S=C[1],P=(0,N.useState)([]),T=P[0],R=P[1],B=(0,N.useState)(""),L=B[0],G=B[1],k=(0,D.v9)((function(e){return e.allUsers.totalNumbers})),_=(0,N.useState)({total:0,pending:0,completed:0}),V=_[0],W=_[1],H=(0,N.useState)(20),U=H[0],F=H[1],J=((0,D.I0)(),(0,s.a)(o.A2,{variables:{skip:0,take:5e3}}));(0,N.useEffect)((function(){var e;(null===J||void 0===J||null===(e=J.data)||void 0===e?void 0:e.getAllUser)&&R(J.data.getAllUser)}),[J]);var M,K=function(e,n){var t=[];return e.map((function(e){e.title.includes(n.toLowerCase())&&t.push(null===e||void 0===e?void 0:e.status)})),t.includes(l.Z.status.PENDING)||t.includes(l.Z.status.ONGOING)?l.Z.status.ONGOING:t.includes(l.Z.status.REJECTED)?l.Z.status.REJECTED:l.Z.status.APPROVED},Y=(0,N.useState)({status:null,membership:null}),z=Y[0],q=Y[1],$=(M=z,T.filter((function(e){var t=!0;return e.role===l.Z.role.ADMIN&&(t=!1),(null===e||void 0===e?void 0:e.documents.find((function(e){return e.title.toLowerCase().includes(n.toLowerCase())})))||(t=!1),M.status&&K(null===e||void 0===e?void 0:e.documents,n.toLowerCase())!==M.status&&(t=!1),(M.membership&&(null===e||void 0===e?void 0:e.membership))!==M.membership&&(t=!1),t}))),Q=function(e,n,t){return e.slice(n*t,n*t+t)}($,y,U),X=function(e){var n=null;"all"!==e&&(n=e),q((function(e){return w({},e,{membership:n})}))},ee=function(e){var n=null;"all"!==e&&(n=e),q((function(e){return w({},e,{status:n})}))},ne=function(e){if(!e)return e;var n=RegExp("(?<!^).(?!$)","g");return e.replace(n,"*")};return(0,N.useEffect)((function(){!function(){var e=0,t=0;T.map((function(i){if(i.role!==l.Z.role.ADMIN){var o=0,r=0;null===i||void 0===i||i.documents.map((function(e){e.title.toLowerCase().includes(n.toLowerCase())&&1,!e.title.toLowerCase().includes(n.toLowerCase())||e.status!==l.Z.status.PENDING&&e.status!==l.Z.status.ONGOING&&e.status!==l.Z.status.NOT_INITIALIZED&&e.status!==l.Z.status.REJECTED||(o+=1),e.title.toLowerCase().includes(n.toLowerCase())&&e.status===l.Z.status.APPROVED&&(r+=1)})),o?e+=1:r&&(t+=1)}})),W(w({},V,{pending:e,completed:t}))}()}),[T]),(0,N.useEffect)((function(){W((function(e){return w({},e,{total:k["total".concat(n,"Subscribers")]})}))}),[k]),T[0]?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.Z,{sx:{mb:4},children:[(0,i.jsxs)(u.Z,{mx:2,children:[(0,i.jsxs)(u.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,i.jsx)(p.Z,{variant:L.includes("total")?"contained":"outlined",sx:O({textTransform:"uppercase",width:"490px"},t.breakpoints.down("sm"),{width:"100%"}),onClick:function(){G((function(e){return e.includes("total")?"":"total"})),X(""),ee("all")},children:"Total Enrolled ".concat(n," : ").concat(V.total)}),L.includes("total")&&(0,i.jsxs)(u.Z,{display:"flex",gap:2,children:[(0,i.jsx)(p.Z,{variant:"totalAdvance"===L?"contained":"outlined",onClick:function(){G((function(e){return e.includes("totalAdvance")?"total":"totalAdvance"})),X(l.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,i.jsx)(p.Z,{variant:"totalBasic"===L?"contained":"outlined",onClick:function(){G((function(e){return e.includes("totalBasic")?"total":"totalBasic"})),X(l.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]}),(0,i.jsxs)(u.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,i.jsx)(p.Z,{variant:L.includes("pending")?"contained":"outlined",sx:O({textTransform:"uppercase",width:"490px"},t.breakpoints.down("sm"),{width:"100%"}),onClick:function(){G((function(e){return e.includes("pending")?"":"pending"})),X(""),ee(l.Z.status.ONGOING)},children:"".concat(n," pending  : ").concat(V.pending)}),L.includes("pending")&&(0,i.jsxs)(u.Z,{display:"flex",gap:2,children:[(0,i.jsx)(p.Z,{variant:"pendingAdvance"===L?"contained":"outlined",onClick:function(){G((function(e){return e.includes("pendingAdvance")?"pending":"pendingAdvance"})),X(l.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,i.jsx)(p.Z,{variant:"pendingBasic"===L?"contained":"outlined",onClick:function(){G((function(e){return e.includes("pendingBasic")?"pending":"pendingBasic"})),X(l.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]}),(0,i.jsxs)(u.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,i.jsx)(p.Z,{variant:L.includes("completed")?"contained":"outlined",sx:O({textTransform:"uppercase",width:"490px"},t.breakpoints.down("sm"),{width:"100%"}),onClick:function(){G((function(e){return e.includes("completed")?"":"completed"})),X(""),ee(l.Z.status.APPROVED)},children:"".concat(n," Completed  : ").concat(V.completed)}),L.includes("completed")&&(0,i.jsxs)(u.Z,{display:"flex",gap:2,children:[(0,i.jsx)(p.Z,{variant:"completedAdvance"===L?"contained":"outlined",onClick:function(){G((function(e){return e.includes("completedAdvance")?"completed":"completedAdvance"})),X(l.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,i.jsx)(p.Z,{variant:"completedBasic"===L?"contained":"outlined",onClick:function(){G((function(e){return e.includes("completedBasic")?"completed":"completedBasic"})),X(l.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]})]}),(0,i.jsx)(f.Z,{}),(L.includes("Advance")||L.includes("Basic"))&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{action:(0,i.jsx)(u.Z,{display:"flex",gap:"20px",children:(0,i.jsx)(u.Z,{width:480,display:"flex",gap:"10px",sx:O({},t.breakpoints.down("sm"),{width:"100%"})})}),title:n.toUpperCase()+" LIST"}),(0,i.jsx)(f.Z,{})]}),(L.includes("Advance")||L.includes("Basic"))&&(0,i.jsx)(m.Z,{children:(0,i.jsxs)(x.Z,{ref:b,children:[(0,i.jsx)(v.Z,{children:(0,i.jsxs)(Z.Z,{children:[(0,i.jsx)(g.Z,{children:"S.No."}),(0,i.jsx)(g.Z,{children:"PW ID"}),(0,i.jsx)(g.Z,{children:"Share Holder Type"}),(0,i.jsx)(g.Z,{children:"Name"}),(0,i.jsx)(g.Z,{children:"Father's Name"}),(0,i.jsx)(g.Z,{align:"center",children:"Moibile No."}),(0,i.jsx)(g.Z,{align:"center",children:"Enrollment Status"})]})}),(0,i.jsx)(A.Z,{children:Q.map((function(e,t){return(0,i.jsxs)(Z.Z,{hover:!0,children:[(0,i.jsx)(g.Z,{children:(0,i.jsx)(j.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,width:30,children:t+1})}),(0,i.jsx)(g.Z,{children:(0,i.jsx)(j.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===e||void 0===e?void 0:e.pw_id})}),(0,i.jsx)(g.Z,{align:"center",children:(0,i.jsx)(j.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===e||void 0===e?void 0:e.membership})}),(0,i.jsx)(g.Z,{children:(0,i.jsx)(j.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:null===e||void 0===e?void 0:e.name})}),(0,i.jsx)(g.Z,{children:(0,i.jsx)(j.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:100,noWrap:!0,children:ne(null===e||void 0===e?void 0:e.father_or_husband_name)})}),(0,i.jsx)(g.Z,{align:"center",children:(0,i.jsx)(j.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:ne(null===e||void 0===e?void 0:e.mobile_number)})}),(0,i.jsx)(g.Z,{align:"center",children:(0,i.jsx)(j.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:K(null===e||void 0===e?void 0:e.documents,n)})})]},null===e||void 0===e?void 0:e.id)}))})]})}),(L.includes("Advance")||L.includes("Basic"))&&(0,i.jsxs)(u.Z,{p:2,gap:2,display:"flex",justifyContent:"flex-end",children:[(0,i.jsx)(E.Z,{component:"div",count:$.length,onPageChange:function(e,n){S(n)},onRowsPerPageChange:function(e){F(parseInt("All"===e.target.value?-1:e.target.value))},page:y,rowsPerPage:U,rowsPerPageOptions:[20,100,200,"All"]}),(0,i.jsx)(I.DownloadTableExcel,{filename:n?n+"_KYC":"PROJECT_KYC",sheet:n?n+"_KYC":"PROJECT_KYC",currentTableRef:b.current,children:(0,i.jsx)(a.Z,{variant:"contained",children:"Download"})})]})]})}):(0,i.jsx)(r.Z,{})};y.propTypes={usersList:C().array.isRequired},y.defaultProps={usersList:[]},n.default=y},35632:function(e,n,t){var i=t(85893),o=(t(67294),t(90948));function r(){var e,n,t=(e=["\n  from { scale: 0.5; }\n  to { scale: 0.6; }\n  \n  \n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return r=function(){return t},t}var l=(0,t(70917).F4)(r()),s=(0,o.ZP)("div")({display:"flex",justifyContent:"center",height:"85vh",alignItems:"center",animation:"".concat(l," 1s  infinite")});n.Z=function(){return(0,i.jsx)(s,{children:(0,i.jsx)("img",{src:"/static/images/logo/logo.png"})})}},17677:function(e,n){n.Z={project:{AGRA:"agra",HAJIPUR:"hajipur"},role:{ADMIN:"ADMIN",AGENT:"AGENT",USER:"USER"},membership:{ADVANCE:"ADVANCE",BASIC:"BASIC"},status:{AGENT_APPROVED:"AGENT_APPROVED",APPROVED:"APPROVED",NOT_INITIALIZED:"NOT_INITIALIZED",ONGOING:"ONGOING",PENDING:"PENDING",REJECTED:"REJECTED",SUBMITTED:"SUBMITTED"},amount:{beforeFifteenthAugustBasicAmount:1e3,beforeFifteenthAugustAdvanceAmount:1e5,afterFifteenthAugustBasicAmount:2e3,afterFifteenthAugustAdvanceAmount:2e5}}}}]);