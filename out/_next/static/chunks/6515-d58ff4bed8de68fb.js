"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6515],{26515:function(e,n,t){t.r(n);var i=t(85893),o=t(17677),l=t(8987),r=t(2734),s=t(66242),a=t(87357),c=t(11057),d=t(67720),u=t(78445),p=t(72882),h=t(7906),m=t(53184),x=t(53816),f=t(53252),Z=t(295),v=t(15861),g=t(8896),j=t(45697),b=t.n(j),C=t(67294),A=t(47082),E=t(9473);function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){w(e,n,t[n])}))}return e}var D=function(e){var n,t=e.title,j=(0,r.Z)(),b=(0,C.useRef)(null),D=(0,C.useState)(0),O=D[0],S=D[1],N=(0,C.useState)(""),I=N[0],L=N[1],B=(0,C.useState)({total:0,pending:0,completed:0}),R=B[0],P=B[1],T=(0,C.useState)(20),k=T[0],W=T[1],_=(0,E.v9)((function(e){return e.allUsers.allTheUsers})),H=function(e,n){var t=[];return e.map((function(e){e.title.includes(n.toLowerCase())&&t.push(null===e||void 0===e?void 0:e.status)})),t.includes(o.Z.status.PENDING)||t.includes(o.Z.status.ONGOING)?o.Z.status.ONGOING:t.includes(o.Z.status.REJECTED)?o.Z.status.REJECTED:o.Z.status.APPROVED},G=(0,C.useState)({status:null,membership:null}),V=G[0],J=G[1],K=(n=V,_.filter((function(e){var i=!0;return e.role===o.Z.role.ADMIN&&(i=!1),e.documents.find((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}))||(i=!1),n.status&&H(null===e||void 0===e?void 0:e.documents,t.toLowerCase())!==n.status&&(i=!1),(n.membership&&(null===e||void 0===e?void 0:e.membership))!==n.membership&&(i=!1),i}))),Y=function(e,n,t){return e.slice(n*t,n*t+t)}(K,O,k),F=function(e){var n=null;"all"!==e&&(n=e),J((function(e){return y({},e,{membership:n})}))},M=function(e){var n=null;"all"!==e&&(n=e),J((function(e){return y({},e,{status:n})}))},U=function(e){if(!e)return e;var n=RegExp("(?<!^).(?!$)","g");return e.replace(n,"*")};return(0,C.useEffect)((function(){!function(){var e=0,n=0,i=0;_.map((function(l){if(l.role!==o.Z.role.ADMIN){var r=0,s=0,a=0;l.documents.map((function(e){e.title.toLowerCase().includes(t.toLowerCase())&&(r=1),!e.title.toLowerCase().includes(t.toLowerCase())||e.status!==o.Z.status.PENDING&&e.status!==o.Z.status.ONGOING&&e.status!==o.Z.status.NOT_INITIALIZED&&e.status!==o.Z.status.REJECTED||(s+=1),e.title.toLowerCase().includes(t.toLowerCase())&&e.status===o.Z.status.APPROVED&&(a+=1)})),r&&(e+=1),s?n+=1:a&&(i+=1)}})),P(y({},R,{total:e,pending:n,completed:i}))}()}),[_]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s.Z,{sx:{mb:4},children:[(0,i.jsxs)(a.Z,{mx:2,children:[(0,i.jsxs)(a.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,i.jsx)(c.Z,{variant:I.includes("total")?"contained":"outlined",sx:w({textTransform:"uppercase",width:"490px"},j.breakpoints.down("sm"),{width:"100%"}),onClick:function(){L((function(e){return e.includes("total")?"":"total"})),F(""),M("all")},children:"Total Enrolled ".concat(t," : ").concat(R.total)}),I.includes("total")&&(0,i.jsxs)(a.Z,{display:"flex",gap:2,children:[(0,i.jsx)(c.Z,{variant:"totalAdvance"===I?"contained":"outlined",onClick:function(){L((function(e){return e.includes("totalAdvance")?"total":"totalAdvance"})),F(o.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,i.jsx)(c.Z,{variant:"totalBasic"===I?"contained":"outlined",onClick:function(){L((function(e){return e.includes("totalBasic")?"total":"totalBasic"})),F(o.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]}),(0,i.jsxs)(a.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,i.jsx)(c.Z,{variant:I.includes("pending")?"contained":"outlined",sx:w({textTransform:"uppercase",width:"490px"},j.breakpoints.down("sm"),{width:"100%"}),onClick:function(){L((function(e){return e.includes("pending")?"":"pending"})),F(""),M(o.Z.status.ONGOING)},children:"".concat(t," pending  : ").concat(R.pending)}),I.includes("pending")&&(0,i.jsxs)(a.Z,{display:"flex",gap:2,children:[(0,i.jsx)(c.Z,{variant:"pendingAdvance"===I?"contained":"outlined",onClick:function(){L((function(e){return e.includes("pendingAdvance")?"pending":"pendingAdvance"})),F(o.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,i.jsx)(c.Z,{variant:"pendingBasic"===I?"contained":"outlined",onClick:function(){L((function(e){return e.includes("pendingBasic")?"pending":"pendingBasic"})),F(o.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]}),(0,i.jsxs)(a.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,i.jsx)(c.Z,{variant:I.includes("completed")?"contained":"outlined",sx:w({textTransform:"uppercase",width:"490px"},j.breakpoints.down("sm"),{width:"100%"}),onClick:function(){L((function(e){return e.includes("completed")?"":"completed"})),F(""),M(o.Z.status.APPROVED)},children:"".concat(t," Completed  : ").concat(R.completed)}),I.includes("completed")&&(0,i.jsxs)(a.Z,{display:"flex",gap:2,children:[(0,i.jsx)(c.Z,{variant:"completedAdvance"===I?"contained":"outlined",onClick:function(){L((function(e){return e.includes("completedAdvance")?"completed":"completedAdvance"})),F(o.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,i.jsx)(c.Z,{variant:"completedBasic"===I?"contained":"outlined",onClick:function(){L((function(e){return e.includes("completedBasic")?"completed":"completedBasic"})),F(o.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]})]}),(0,i.jsx)(d.Z,{}),(I.includes("Advance")||I.includes("Basic"))&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{action:(0,i.jsx)(a.Z,{display:"flex",gap:"20px",children:(0,i.jsx)(a.Z,{width:480,display:"flex",gap:"10px",sx:w({},j.breakpoints.down("sm"),{width:"100%"})})}),title:t.toUpperCase()+" LIST"}),(0,i.jsx)(d.Z,{})]}),(I.includes("Advance")||I.includes("Basic"))&&(0,i.jsx)(p.Z,{children:(0,i.jsxs)(h.Z,{ref:b,children:[(0,i.jsx)(m.Z,{children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(f.Z,{children:"S.No."}),(0,i.jsx)(f.Z,{children:"PW ID"}),(0,i.jsx)(f.Z,{children:"Share Holder Type"}),(0,i.jsx)(f.Z,{children:"Name"}),(0,i.jsx)(f.Z,{children:"Father's Name"}),(0,i.jsx)(f.Z,{align:"center",children:"Moibile No."}),(0,i.jsx)(f.Z,{align:"center",children:"Enrollment Status"})]})}),(0,i.jsx)(Z.Z,{children:Y.map((function(e,n){return(0,i.jsxs)(x.Z,{hover:!0,children:[(0,i.jsx)(f.Z,{children:(0,i.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,width:30,children:n+1})}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===e||void 0===e?void 0:e.pw_id})}),(0,i.jsx)(f.Z,{align:"center",children:(0,i.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===e||void 0===e?void 0:e.membership})}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:null===e||void 0===e?void 0:e.name})}),(0,i.jsx)(f.Z,{children:(0,i.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:100,noWrap:!0,children:U(null===e||void 0===e?void 0:e.father_or_husband_name)})}),(0,i.jsx)(f.Z,{align:"center",children:(0,i.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:U(null===e||void 0===e?void 0:e.mobile_number)})}),(0,i.jsx)(f.Z,{align:"center",children:(0,i.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:H(null===e||void 0===e?void 0:e.documents,t)})})]},null===e||void 0===e?void 0:e.id)}))})]})}),(I.includes("Advance")||I.includes("Basic"))&&(0,i.jsxs)(a.Z,{p:2,gap:2,display:"flex",justifyContent:"flex-end",children:[(0,i.jsx)(g.Z,{component:"div",count:K.length,onPageChange:function(e,n){S(n)},onRowsPerPageChange:function(e){W(parseInt("All"===e.target.value?-1:e.target.value))},page:O,rowsPerPage:k,rowsPerPageOptions:[20,100,200,"All"]}),(0,i.jsx)(A.DownloadTableExcel,{filename:t?t+"_KYC":"PROJECT_KYC",sheet:t?t+"_KYC":"PROJECT_KYC",currentTableRef:b.current,children:(0,i.jsx)(l.Z,{variant:"contained",children:"Download"})})]})]})})};D.propTypes={usersList:b().array.isRequired},D.defaultProps={usersList:[]},n.default=D}}]);