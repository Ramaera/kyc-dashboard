"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4741],{44741:function(e,t,n){n.r(t);var r=n(85893),i=n(98396),a=n(2734),l=n(66242),o=n(87357),c=n(11057),s=n(78445),u=n(50135),d=n(94054),h=n(47312),f=n(80788),v=n(30431),p=n(67720),m=n(26447),x=n(10633),j=n(72882),g=n(7906),A=n(53184),Z=n(53816),b=n(53252),y=n(295),E=n(15861),N=n(45697),D=n.n(N),S=n(67294),O=n(45477),I=n(35632),C=n(17677),B=n(37887),P=n(73359),T=n(86501),R=n(9473);function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(c){o=!0,i=c}finally{try{l||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(e,t){var n="NOT ENROLLED";return null===e||void 0===e||e.map((function(e){e.title===t&&(n=e.status)})),n},G=function(){var e=(0,i.Z)("(min-width:600px)"),t=(0,a.Z)(),n=(0,S.useRef)(null),N=(0,S.useState)(0),D=N[0],W=N[1],G=(0,S.useState)(1),U=G[0],V=G[1],H=(0,S.useState)(100),M=H[0],F=H[1],K=(0,S.useState)(""),Y=K[0],J=K[1],z=(0,S.useState)(),$=z[0],q=(z[1],(0,S.useState)("")),Q=q[0],X=q[1],ee=(0,S.useState)(""),te=ee[0],ne=ee[1],re=(0,B.a)(O.lw,{variables:{skip:D*M,take:M,input:{searchTerm:Q.includes("totalAvdance")?"ADVANCE":Q.includes("totalBasic")?"BASIC":"ADVANCE"}}}),ie=k((0,P.t)(O.Ay,{variables:{searchTerm:Y}}),2),ae=ie[0],le=ie[1].data,oe=(0,R.v9)((function(e){return e.allUsers.totalNumbers})),ce=(0,S.useState)([]),se=ce[0],ue=ce[1],de=(0,S.useState)({totalKYC:0,totalAdvance:0,totalBasic:0}),he=de[0],fe=de[1];(0,S.useEffect)((function(){re.data&&(ue(re.data.allKycUser),re.data.allKycUser)}),[re]),(0,S.useEffect)((function(){fe({totalKYC:oe.totalSubscribers,totalAdvance:oe.totalAdvanceSubscribers,totalBasic:oe.totalBasicSubscribers})}),[oe]);var ve=(0,S.useState)({status:null,hajipur:null,agra:null}),pe=ve[0],me=ve[1];(0,S.useEffect)((function(){(Q.includes("totalAvdance")||Q.includes("totalBasic"))&&ae()}),[Y]),(0,S.useEffect)((function(){(null===le||void 0===le?void 0:le.searchUsers[0])&&(null===le||void 0===le?void 0:le.searchUsers[0])&&ue(le.searchUsers)}),[null===le||void 0===le?void 0:le.searchUsers]);var xe=function(e,t){return e.filter((function(e){var n=!0;return e.role===C.Z.role.ADMIN&&(n=!1),(t.membership&&(null===e||void 0===e?void 0:e.membership))!==t.membership&&(n=!1),(t.status&&(null===e||void 0===e?void 0:e.kyc))!==t.status&&(n=!1),t.hajipur&&L(null===e||void 0===e?void 0:e.documents,"hajipur_project_payment")!==t.hajipur&&(n=!1),t.agra&&L(null===e||void 0===e?void 0:e.documents,"agra_project_payment")!==t.agra&&(n=!1),n}))}(se,pe);(0,S.useEffect)((function(){F(100),J(""),ne("")}),[Q]);var je=function(e){var t=null;"all"!==e&&(t=e),me((function(e){return _({},e,{membership:t})}))},ge=function(e){var t=null;"all"!==e&&(t=e),me((function(e){return _({},e,{status:t})}))},Ae=function(e){if(!e||"NULL"==e)return"";var t=e.slice(0,4)+e.slice(-4,e.length),n=RegExp("(?<!^).(?!$)","g");return t.replace(n,"*")},Ze=-1;return se[0]?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(o.Z,{mx:2,sx:w({display:"flex",justifyContent:"space-between"},t.breakpoints.down("sm"),{flexDirection:"column"}),children:(0,r.jsxs)(o.Z,{my:2,display:"flex",gap:2,sx:w({},t.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,r.jsx)(c.Z,{variant:Q.includes("total")?"contained":"outlined",sx:{textTransform:"uppercase",padding:2},onClick:function(){X((function(e){return e.includes("total")?"":"total"})),je(""),ge("all")},children:"Total Subscribers: "+he.totalKYC}),Q.includes("total")&&(0,r.jsxs)(o.Z,{display:"flex",gap:2,sx:w({},t.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,r.jsx)(c.Z,{variant:"totalAvdance"===Q?"contained":"outlined",onClick:function(){X((function(e){return e.includes("totalAvdance")?"total":"totalAvdance"})),je(C.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER : ".concat(he.totalAdvance)}),(0,r.jsx)(c.Z,{variant:"totalBasic"===Q?"contained":"outlined",onClick:function(){X((function(e){return e.includes("totalBasic")?"total":"totalBasic"})),je(C.Z.membership.BASIC)},children:"BASIC SHARE HOLDER : ".concat(he.totalBasic)})]})]})}),(Q.includes("totalAvdance")||Q.includes("totalBasic"))&&(0,r.jsx)(s.Z,{action:(0,r.jsxs)(o.Z,{display:"flex",gap:"20px",children:[(0,r.jsxs)(o.Z,{display:"flex",gap:"10px",children:[(0,r.jsx)(u.Z,{fullWidth:!0,label:"Search",variant:"outlined",value:te,onChange:function(e){ne(e.target.value)}}),(0,r.jsx)(c.Z,{variant:"contained",onClick:function(){J(te)},children:"Search"})]}),(0,r.jsxs)(o.Z,{width:480,display:"flex",gap:"10px",sx:w({},t.breakpoints.down("sm"),{display:"none"}),children:[(0,r.jsxs)(d.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(h.Z,{children:"KYC Status"}),(0,r.jsx)(f.Z,{value:pe.status||"all",onChange:function(e){return ge(e.target.value)},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT_INITIALIZED",name:"Not Started"},{id:"REJECTED",name:"Rejected"},{id:"ONGOING",name:"Ongoing"},{id:"APPROVED",name:"Approved"}].map((function(e){return(0,r.jsx)(v.Z,{value:e.id,children:e.name},e.id)}))})]}),(0,r.jsxs)(d.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(h.Z,{children:"Hajipur "}),(0,r.jsx)(f.Z,{value:pe.hajipur||"all",onChange:function(e){var t=null;"all"!==e.target.value&&(t=e.target.value),me((function(e){return _({},e,{hajipur:t})}))},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT ENROLLED",name:"Not Enrolled"},{id:"APPROVED",name:"Approved"},{id:"PENDING",name:"Pending"}].map((function(e){return(0,r.jsx)(v.Z,{value:e.id,children:e.name},e.id)}))})]}),(0,r.jsxs)(d.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(h.Z,{children:"Agra "}),(0,r.jsx)(f.Z,{value:pe.agra||"all",onChange:function(e){var t=null;"all"!==e.target.value&&(t=e.target.value),me((function(e){return _({},e,{agra:t})}))},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT ENROLLED",name:"Not Enrolled"},{id:"APPROVED",name:"Approved"},{id:"PENDING",name:"Pending"}].map((function(e){return(0,r.jsx)(v.Z,{value:e.id,children:e.name},e.id)}))})]})]})]}),title:e?"DASHBOARD":""}),(0,r.jsx)(p.Z,{}),(Q.includes("totalAvdance")||Q.includes("totalBasic"))&&(0,r.jsxs)(o.Z,{p:2,gap:2,display:"flex",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(m.Z,{spacing:2,children:(0,r.jsx)(x.Z,{count:Math.ceil(Q.includes("Avdance")&&he.totalAdvance/M||Q.includes("Basic")&&he.totalBasic/M),page:U,color:"primary",onChange:function(e,t){V(t),W(t-1),J(""),ne("")}})}),(0,r.jsx)(o.Z,{width:80,display:"flex",gap:"10px",children:(0,r.jsxs)(d.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(h.Z,{children:"Rows"}),(0,r.jsxs)(f.Z,{value:M,onChange:function(e){5e3===e.target.value&&V(1),F(e.target.value)},label:"Rows",fullWidth:!0,children:[(0,r.jsx)(v.Z,{value:20,children:"20"}),(0,r.jsx)(v.Z,{value:100,children:"100"}),(0,r.jsx)(v.Z,{value:5e3,children:"All"})]})]})})]}),(Q.includes("totalAvdance")||Q.includes("totalBasic"))&&(0,r.jsx)(j.Z,{children:(0,r.jsxs)(g.Z,{ref:n,children:[(0,r.jsx)(A.Z,{children:(0,r.jsxs)(Z.Z,{children:[(0,r.jsx)(b.Z,{children:"S.No."}),(0,r.jsx)(b.Z,{children:"PW ID"}),(0,r.jsx)(b.Z,{children:"Name"}),(0,r.jsx)(b.Z,{align:"center",children:"Father's Name"}),(0,r.jsx)(b.Z,{align:"center",children:"Moibile No."}),(0,r.jsx)(b.Z,{align:"center",children:"KYC Status"}),(0,r.jsx)(b.Z,{align:"center",children:"Demat"}),(0,r.jsx)(b.Z,{align:"center",children:"Hajipur Project"}),(0,r.jsx)(b.Z,{align:"center",children:"Agra Project"})]})}),(0,r.jsx)(y.Z,{children:xe.map((function(e){if((null===e||void 0===e?void 0:e.membership)!==$)return Ze+=1,(0,r.jsxs)(Z.Z,{hover:!0,children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,width:30,children:Ze+1})}),(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===e||void 0===e?void 0:e.pw_id}),(0,r.jsx)(E.Z,{variant:"body2",color:"text.secondary",noWrap:!0})]}),(0,r.jsx)(b.Z,{children:(0,r.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:"NULL"===(null===e||void 0===e?void 0:e.name)?"":null===e||void 0===e?void 0:e.name})}),(0,r.jsx)(b.Z,{children:(0,r.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:100,noWrap:!0,children:Ae(null===e||void 0===e?void 0:e.father_or_husband_name)})}),(0,r.jsx)(b.Z,{align:"right",children:(0,r.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:Ae(null===e||void 0===e?void 0:e.mobile_number)})}),(0,r.jsx)(b.Z,{align:"right",children:(0,r.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,children:"NOT_INITIALIZED"===(null===e||void 0===e?void 0:e.kyc)?"NOT STARTED":null===e||void 0===e?void 0:e.kyc})}),(0,r.jsx)(b.Z,{align:"right",children:(0,r.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:Ae(null===e||void 0===e?void 0:e.demat_account)})}),(0,r.jsx)(b.Z,{align:"right",children:(0,r.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:L(null===e||void 0===e?void 0:e.documents,"hajipur_project_payment")})}),(0,r.jsx)(b.Z,{align:"right",children:(0,r.jsx)(E.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:L(null===e||void 0===e?void 0:e.documents,"agra_project_payment")})})]},null===e||void 0===e?void 0:e.id)}))})]})}),(0,r.jsx)(T.x7,{position:"bottom-center",reverseOrder:!1})]})}):(0,r.jsx)(I.Z,{})};G.propTypes={usersList:D().array.isRequired},G.defaultProps={usersList:[]},t.default=G},35632:function(e,t,n){var r=n(85893),i=(n(67294),n(90948));function a(){var e,t,n=(e=["\n  from { scale: 0.5; }\n  to { scale: 0.6; }\n  \n  \n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return a=function(){return n},n}var l=(0,n(70917).F4)(a()),o=(0,i.ZP)("div")({display:"flex",justifyContent:"center",height:"85vh",alignItems:"center",animation:"".concat(l," 1s  infinite")});t.Z=function(){return(0,r.jsx)(o,{children:(0,r.jsx)("img",{src:"/static/images/logo/logo.png"})})}},17677:function(e,t){t.Z={project:{AGRA:"agra",HAJIPUR:"hajipur"},role:{ADMIN:"ADMIN",AGENT:"AGENT",USER:"USER"},membership:{ADVANCE:"ADVANCE",BASIC:"BASIC"},status:{AGENT_APPROVED:"AGENT_APPROVED",APPROVED:"APPROVED",NOT_INITIALIZED:"NOT_INITIALIZED",ONGOING:"ONGOING",PENDING:"PENDING",REJECTED:"REJECTED",SUBMITTED:"SUBMITTED"},amount:{beforeFifteenthAugustBasicAmount:1e3,beforeFifteenthAugustAdvanceAmount:1e5,afterFifteenthAugustBasicAmount:2e3,afterFifteenthAugustAdvanceAmount:2e5}}}}]);