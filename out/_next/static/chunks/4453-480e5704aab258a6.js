"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4453],{54453:function(e,n,t){t.r(n),t.d(n,{rows:function(){return E}});var r=t(34051),i=t.n(r),a=t(85893),o=t(45477),s=t(42480),c=t(46230),l=t(20427),u=t(55511),d=t(50319),f=t(8987),m=t(11057),p=t(15861),v=t(53816),h=t(53252),x=t(86886),y=t(67294),b=t(86501),g=t(31258);function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Z(e,n,t,r,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void t(l)}s.done?n(c):Promise.resolve(c).then(r,i)}function w(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){Z(a,r,i,o,s,"next",e)}function s(e){Z(a,r,i,o,s,"throw",e)}o(void 0)}))}}function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){P(e,n,t[n])}))}return e}function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e,n)||A(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,n){if(e){if("string"===typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(e,n):void 0}}var E=[{config:s.Z.to_advance_additional_documents}],O=function(e){var n=e.data,t=e.documents,r=void 0===t?[]:t,s=e.user,x=e.rowNo,g=e.hideAdditionalDocuments,j=(0,y.useState)([]),Z=j[0],P=j[1],A=(0,y.useState)([]),E=A[0],O=A[1],R=(0,y.useState)(x),C=R[0],T=R[1],I=S((0,d.D)(o.Is),1)[0],_=S((0,d.D)(o.yW),1)[0],N=(0,y.useState)(!1),L=N[0],U=N[1],V=(0,y.useState)([]),B=V[0],K=(V[1],(0,c.T)());(0,y.useEffect)((function(){var e=[],n=!0,t=!1,i=void 0;try{for(var a,o=r[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;e.push(s.url)}}catch(c){t=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(t)throw i}}P(e)}),[r,s]),console.log(E);var F=function(){var e=w(i().mark((function e(n,t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({variables:{title:n,url:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),W=function(){var e=w(i().mark((function e(n,t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({variables:{id:n,title:t,url:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),M=function(e){var n=!1;return null===B||void 0===B||B.map((function(t){e===t.id&&(n=t.status)})),n},J=function(e,n,t){var r,i=s,a=[];return null===s||void 0===s||null===(r=s.documents)||void 0===r||r.map((function(t){t.id===e?a.push(D({},t,{title:"avatar"})):t.title!==n&&a.push(t)})),console.log(t,D({},i,{documents:a})),D({},i,{documents:a})},G=function(){var e=w(i().mark((function e(){var t,a,o,c,d,f,m,p,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(!0),e.prev=1,t=0;case 3:if(!(t<C)){e.next=36;break}if(console.log("data.config.items[i].id",n.config.items[t].id),!E[t]){e.next=33;break}return a=n.config.items[t].id,e.next=9,(0,u.Z)(Z[t]);case 9:if(o=e.sent,c=r.find((function(e){if(e.title.toLowerCase()===a.toLowerCase())return!0})),(d=s.documents)||(d=[]),!c){e.next=25;break}return e.next=16,W(c.id,a,o);case 16:return f=e.sent,e.next=19,K((0,l.j2)(J(c.id,a,o)));case 19:b.ZP.success("".concat(a," Uploaded")),(m=d.filter((function(e){return e.id!==document.id}))).push(f.data.updateDocument),d=m,e.next=30;break;case 25:return e.next=27,F(a,o);case 27:p=e.sent,b.ZP.success("Document Uploaded"),d=k(d).concat([p.data.createDocument]);case 30:(v=D({},s)).documents=d,K((0,l.j2)(v));case 33:t++,e.next=3;break;case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(1),console.log("error",e.t0);case 41:U(!1);case 42:case"end":return e.stop()}}),e,null,[[1,38]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(v.Z,{sx:{},children:[(0,a.jsxs)(h.Z,{component:"th",scope:"row",style:{border:"none"},children:[n.config.name," ",n.isOptional?"(Optional)":""]}),(0,a.jsx)(h.Z,{style:{display:"flex",flexDirection:"column",border:"none"},width:300,children:function(){for(var e=[],t=(n.config.items,0);t<C;t++){var r=Z[t];r&&e.push((0,a.jsx)("div",{style:{marginTop:15},children:(0,a.jsx)("img",{src:"object"==typeof r?URL.createObjectURL(r):r,height:150,style:{marginLeft:"5px"}})}))}return 0==e.length?(0,a.jsx)(p.Z,{variant:"subtitle1",children:"No Document"}):e}()}),(0,a.jsx)(h.Z,{style:{border:"none"},children:function(){for(var e=function(e){var n,o,s,c,l,u,d;t.push((0,a.jsxs)("div",{style:{height:160,marginTop:10},children:[(0,a.jsxs)("div",{style:{marginBottom:10},children:["Status:"," ",(0,a.jsx)("span",{style:{color:"APPROVED"===M(null===(n=r[e])||void 0===n?void 0:n.id)?"green":"REJECTED"===M(null===(o=r[e])||void 0===o?void 0:o.id)?"red":r[e]?"APPROVED"===r[e].status?"green":"REJECTED"===r[e].status&&"red":""},children:M(null===(s=r[e])||void 0===s?void 0:s.id)||(null===(c=r[e])||void 0===c?void 0:c.status)||"NOT STARTED"})]}),(0,a.jsxs)(m.Z,{style:{cursor:r[0]&&"APPROVED"===r[0].status?"not-allowed":"pointer",marginTop:"10px"},disabled:"APPROVED"===M(null===(l=r[e])||void 0===l?void 0:l.id)||"APPROVED"==(null===(u=r[e])||void 0===u?void 0:u.status),component:"label",color:r[0]&&"APPROVED"===r[0].status?"secondary":"primary",children:["Choose ",null===(d=i[e])||void 0===d?void 0:d.name,(0,a.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!r[0]&&"APPROVED"===r[0].status,onChange:function(n){if(console.log(e),n.target.files.length>0){var t=k(Z);t[e]=n.target.files[0],P(t),console.log("imageChanged",t[e]);var r=k(E);r[e]=!0,O(r)}}})]})]}))},t=[],i=n.config.items,o=0;o<C;o++)e(o);return t}()}),(0,a.jsx)(h.Z,{style:{border:"none"},children:(0,a.jsx)(f.Z,{loading:L,variant:"contained",onClick:function(){G()},children:"Upload"})})]},n.config.name),C<=3&&(0,a.jsx)(f.Z,{variant:"contained",disabled:Z.length!==C,onClick:function(){T(C+1)},children:"Add More"}),(0,a.jsx)(f.Z,{sx:{marginLeft:2},variant:"contained",onClick:g,children:"Go Back"}),(0,a.jsx)(b.x7,{position:"bottom-center",reverseOrder:!1})]})};n.default=function(){var e=(0,c.T)(),n=(0,c.C)((function(e){return e.user.data})),t=(0,y.useState)(!1),r=t[0],v=t[1],h=(0,y.useState)(!1),j=h[0],Z=h[1],P=(0,y.useState)(null),k=P[0],A=P[1],R=(0,y.useState)(0),C=R[0],T=R[1],I=(0,y.useState)(),_=I[0],N=I[1],L=(0,y.useState)(!1),U=L[0],V=L[1],B=(0,y.useState)(!1),K=B[0],F=B[1],W=S((0,d.D)(o.Is),1)[0],M=S((0,d.D)(o.yW),1)[0],J=function(e){return!!e||(alert("Invalid Image"),!1)},G=function(e){var t=[];if(n&&n.documents){var r=!0,i=!1,a=void 0;try{for(var o,s=function(e,r){var i,a=r.value,o=null===n||void 0===n||null===(i=n.documents)||void 0===i?void 0:i.find((function(e){if(e.title.toLowerCase()===a.id.toLowerCase())return!0}));o&&t.push(o)},c=e[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)s(0,o)}catch(l){i=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}}return t},H=function(e,t){var r,i=n,a=[];return null===n||void 0===n||null===(r=n.documents)||void 0===r||r.map((function(n){n.id===e?a.push(D({},n,{url:t})):a.push(n)})),D({},i,{documents:a})},$=function(){var n=w(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(J(k)){n.next=3;break}return n.abrupt("return");case 3:if(Z(!0),n.prev=4,t="",!U){n.next=12;break}return n.next=9,(0,u.Z)(k);case 9:t=n.sent,n.next=13;break;case 12:t=k;case 13:if(b.ZP.success("Payment Slip Updated "),!_){n.next=20;break}return n.next=17,M({variables:{title:s.Z.to_advance_payment_proof.items[0].id,url:t,id:_.id}});case 17:e((0,l.j2)(H(_.id,t))),n.next=22;break;case 20:return n.next=22,W({variables:{title:s.Z.to_advance_payment_proof.items[0].id,url:t}});case 22:n.next=26;break;case 24:n.prev=24,n.t0=n.catch(4);case 26:Z(!1);case 27:case"end":return n.stop()}}),n,null,[[4,24]])})));return function(){return n.apply(this,arguments)}}();(0,y.useEffect)((function(){!function(){var e,t=0;null===n||void 0===n||null===(e=n.documents)||void 0===e||e.map((function(e){"additional_payment_doc"===e.title.slice(0,22)&&(t+=1),T(t)}))}()}),[]),(0,y.useEffect)((function(){var e,t;n&&n.documents&&(null===n||void 0===n||null===(e=n.documents)||void 0===e?void 0:e.length)>0&&(null===n||void 0===n||null===(t=n.documents)||void 0===t||t.find((function(e){e.title.toLowerCase()===s.Z.to_advance_payment_proof.items[0].id&&(N(e),A(e.url))})))}),[n]);var q=function(){v(!1)};return(0,a.jsx)(a.Fragment,{children:r?(0,a.jsx)(a.Fragment,{children:E.map((function(e,t){return(0,a.jsx)(O,{hideAdditionalDocuments:q,data:e,rowNo:C,user:n,documents:G(e.config.items)},t)}))}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.default,{}),k?(0,a.jsx)("img",{src:"object"==typeof k?URL.createObjectURL(k):k,style:{marginTop:"10px"},height:200}):null,_&&_.status&&(0,a.jsxs)(p.Z,{variant:"h4",sx:{my:2},children:["Status :"," ",(0,a.jsx)("span",{style:{color:_?"APPROVED"===_.status?"green":"REJECTED"===_.status&&"red":""},children:_&&_.status})]}),"APPROVED"===(null===n||void 0===n?void 0:n.kyc)?null:(0,a.jsxs)(x.ZP,{container:!0,py:2,spacing:2,children:[(0,a.jsx)(x.ZP,{item:!0,xs:12,sm:5,md:3,lg:3,children:(0,a.jsxs)(m.Z,{variant:"contained",component:"label",style:{cursor:_&&"APPROVED"===_.status?"not-allowed":"pointer"},color:_&&"APPROVED"===_.status?"secondary":"primary",children:["Select Payment Slip",(0,a.jsx)("input",{type:"file",accept:"image/*",hidden:!0,disabled:!!_&&"APPROVED"===_.status,onChange:function(e){e.target.files.length>0&&(F(!0),A(e.target.files[0]),V(!0))}})]})}),(0,a.jsx)(x.ZP,{item:!0,xs:2,children:(0,a.jsx)(f.Z,{loading:j,fullWidth:!0,variant:"contained",disabled:!K,onClick:function(){$()},children:"Submit"})}),(0,a.jsx)(b.x7,{position:"bottom-center",reverseOrder:!1})]}),k&&(0,a.jsx)(f.Z,{variant:"contained",onClick:function(){v(!0)},children:"Add/See Additional Documents"})]})})}},31258:function(e,n,t){t.r(n);var r=t(85893),i=t(67294),a=t(46230),o=t(15861),s=t(11057),c=t(72882),l=t(55113),u=t(7906),d=t(295),f=t(53816),m=t(53252),p=[{name:"Company Name",value:"RAMAERA INDUSTRIES LTD."},{name:"Bank Name",value:"KOTAK MAHINDRA BANK "},{name:"Branch",value:"NOIDA SECTOR 63"},{name:"A/C No.",value:"4747237385"},{name:"IFSC CODE ",value:"KKBK0000180"}];n.default=function(){(0,a.C)((function(e){return e.user.data}));var e=(0,i.useState)(!1),n=e[0],t=e[1],v=(0,i.useState)(!1),h=v[0],x=v[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{variant:"h4",sx:{my:2},children:"Kindly Deposit Rs. 99,000/- and upload the payment slip as a proof!"}),(0,r.jsxs)("div",{style:{flexDirection:"row",justifyContent:"space-between",marginTop:10,marginBottom:10},children:[(0,r.jsx)(s.Z,{style:{marginRight:20},variant:"contained",onClick:function(){t(!0),x(!1)},children:"Bank Details"}),(0,r.jsx)(s.Z,{variant:"contained",onClick:function(){t(!1),x(!0)},children:"UPI"})]}),n&&(0,r.jsx)(c.Z,{component:l.Z,children:(0,r.jsx)(u.Z,{sx:{minWidth:100},"aria-label":"simple table",children:(0,r.jsx)(d.Z,{children:p.map((function(e){return(0,r.jsxs)(f.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,r.jsx)(m.Z,{component:"th",scope:"row",children:e.name}),(0,r.jsx)(m.Z,{align:"right",children:e.value})]},e.name)}))})})}),h&&(0,r.jsx)(c.Z,{component:l.Z,children:(0,r.jsx)(u.Z,{sx:{minWidth:100},"aria-label":"simple table",children:(0,r.jsxs)(d.Z,{children:[(0,r.jsx)("img",{style:{width:"250px",borderRadius:"20px",padding:"10px"},src:"/images/upi.jpg"}),(0,r.jsx)(o.Z,{variant:"body1",sx:{my:2,pl:2},children:"OR"}),(0,r.jsx)(o.Z,{variant:"h4",sx:{my:2,pl:2},children:(0,r.jsx)("a",{href:"upi://pay?pa=ramaerakotak@ibl&pn=Ramaera K&cu=INR",children:"UPI ID : ramaerakotak@ibl"})})]})})})]})}}}]);