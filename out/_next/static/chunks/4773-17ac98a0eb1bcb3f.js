"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4773],{44773:function(e,n,t){t.r(n);var i=t(14924),l=t(26042),r=t(69396),o=t(85893),d=t(34753),a=t(89934),s=t(8987),c=t(2734),u=t(66242),h=t(78445),x=t(87357),v=t(50135),p=t(94054),f=t(47312),m=t(80788),Z=t(30431),j=t(67720),g=t(72882),b=t(7906),y=t(53184),w=t(53816),E=t(53252),C=t(295),W=t(15861),D=t(69661),P=t(6258),A=t(41664),R=t.n(A),N=t(45697),S=t.n(N),O=t(67294),I=t(47082),k=t(9473),T=t(61692),_=t.n(T),L=t(5678),V=function(e){var n="NOT_RECIEVED";return e.documents.map((function(e){e.title.includes("demat")&&(n=e.status)})),n},B=function(e){var n=[],t=0;return e.map((function(e){e.title.includes("project")&&e.status===d.Z.status.APPROVED&&(n.push(e.amount),t+=e.amount)})),t},G=function(e){var n=0;return e.find((function(e){return e.title.includes("hajipur")&&e.status===d.Z.status.APPROVED}))&&(n+=1),e.find((function(e){return e.title.includes("agra")&&e.status===d.Z.status.APPROVED}))&&(n+=1),n},U=function(){var e,n=(0,k.v9)((function(e){return e.filters.agencyUsersFilters})),t=(0,k.I0)(),d=((0,O.useRef)(null),(0,O.useRef)(null)),A=(0,c.Z)(),N=(0,O.useState)((0,k.v9)((function(e){return e.allUsers.allTheUsers}))),S=N[0],T=N[1],U=(0,O.useState)(!0),F=U[0],H=U[1],J=(0,O.useState)(!0),K=J[0],Y=J[1],M=(0,O.useState)(0),q=M[0],z=M[1],X=(0,O.useState)(20),Q=X[0],$=X[1],ee=(0,O.useState)(""),ne=ee[0],te=ee[1],ie=(0,L.Nr)(ne,400),le=(0,O.useState)({}),re=le[0],oe=le[1],de=(0,k.v9)((function(e){var n;return null===(n=e.user)||void 0===n?void 0:n.agencyCode})),ae=(null===de||void 0===de||de.agencyCode,null===de||void 0===de||null===(e=de.createdAt)||void 0===e?void 0:e.slice(0,10)),se=function(e){var n,t="";return null===e||void 0===e||null===(n=e.documents)||void 0===n||n.forEach((function(e){"avatar"===e.title&&(t=e.url)})),t},ce=function(e,n,t){var i=t.toLowerCase();return e.filter((function(e){var t,l,r,o,d,a=!0;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(i))||(null===e||void 0===e||null===(l=e.rm_id)||void 0===l?void 0:l.toLowerCase().includes(i))||(null===e||void 0===e||null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(i))||(null===e||void 0===e||null===(o=e.mobile_number)||void 0===o?void 0:o.toLowerCase().includes(i))||(null===e||void 0===e||null===(d=e.pw_id)||void 0===d?void 0:d.toLowerCase().includes(i))||(a=!1),n.status&&(null===e||void 0===e?void 0:e.kyc)!==n.status&&(a=!1),n.membership&&(null===e||void 0===e?void 0:e.membership)!==n.membership&&(a=!1),n.demat&&V(e)!==n.demat&&(a=!1),a}))}(S,re,ie),ue=function(e,n,t){return e.slice(n*t,n*t+t)}(ce,q,Q);return(0,O.useEffect)((function(){oe(n)}),[]),(0,O.useEffect)((function(){t((0,a.bX)(re))}),[re]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(h.Z,{sx:(0,i.Z)({},A.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),action:(0,o.jsxs)(x.Z,{display:"flex",gap:"20px",sx:(0,i.Z)({},A.breakpoints.down("sm"),{flexDirection:"column"}),children:[(0,o.jsx)(x.Z,{display:"flex",gap:"10px",children:(0,o.jsx)(v.Z,{fullWidth:!0,label:"Search",variant:"outlined",value:ne,onChange:function(e){te(e.target.value)}})}),(0,o.jsx)(x.Z,{children:(0,o.jsx)(s.Z,{sx:{py:"14px"},variant:"contained",disabled:!(null===re||void 0===re?void 0:re.membership)&&!(null===re||void 0===re?void 0:re.status)&&!(null===re||void 0===re?void 0:re.demat),onClick:function(){oe({})},children:"Clear Filters"})}),(0,o.jsxs)(x.Z,{sx:(0,i.Z)({display:"flex",flexDirection:"row",gap:"10px"},A.breakpoints.down("sm"),{justifyContent:"space-between"}),children:[(0,o.jsx)(x.Z,{width:"120px",children:(0,o.jsxs)(p.Z,{fullWidth:!0,variant:"outlined",children:[(0,o.jsx)(f.Z,{children:"Share Holder Type"}),(0,o.jsx)(m.Z,{value:re.membership||"all",onChange:function(e){var n=null;"all"!==e.target.value&&(n=e.target.value),oe((function(e){return(0,r.Z)((0,l.Z)({},e),{membership:n})}))},label:"Share Holder Type",autoWidth:!0,children:[{id:"all",name:"All"},{id:"BASIC",name:"Basic"},{id:"ADVANCE",name:"Advance"}].map((function(e){return(0,o.jsx)(Z.Z,{value:e.id,children:e.name},e.id)}))})]})}),(0,o.jsx)(x.Z,{width:"120px",children:(0,o.jsxs)(p.Z,{fullWidth:!0,variant:"outlined",children:[(0,o.jsx)(f.Z,{children:"KYC Status"}),(0,o.jsx)(m.Z,{value:re.status||"all",onChange:function(e){var n=null;"all"!==e.target.value&&(n=e.target.value),oe((function(e){return(0,r.Z)((0,l.Z)({},e),{status:n})}))},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT_INITIALIZED",name:"Not Initialized"},{id:"REJECTED",name:"Rejected"},{id:"ONGOING",name:"Ongoing"},{id:"APPROVED",name:"Approved"}].map((function(e){return(0,o.jsx)(Z.Z,{value:e.id,children:e.name},e.id)}))})]})}),(0,o.jsx)(x.Z,{width:"120px",children:(0,o.jsxs)(p.Z,{fullWidth:!0,variant:"outlined",children:[(0,o.jsx)(f.Z,{children:"Demat Status"}),(0,o.jsx)(m.Z,{sx:{bgcolor:re.demat&&"#8c7cf040"},value:re.demat||"all",onChange:function(e){var n=null;"all"!==e.target.value&&(n=e.target.value),oe((function(e){return(0,r.Z)((0,l.Z)({},e),{demat:n})}))},label:"Deat",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT_RECIEVED",name:"Not Recieved"},{id:"REJECTED",name:"Rejected"},{id:"PENDING",name:"Pending"},{id:"APPROVED",name:"Approved"}].map((function(e){return(0,o.jsx)(Z.Z,{value:e.id,children:e.name},e.id)}))})]})})]})]}),title:"Users List"}),(0,o.jsx)(j.Z,{}),(0,o.jsx)(g.Z,{children:(0,o.jsxs)(b.Z,{ref:d,children:[(0,o.jsx)(y.Z,{children:(0,o.jsxs)(w.Z,{children:[(0,o.jsx)(E.Z,{children:"S.No."}),(0,o.jsx)(E.Z,{children:"KYC Created On"}),(0,o.jsx)(E.Z,{children:"Photo"}),(0,o.jsxs)(E.Z,{sx:{cursor:"pointer"},onClick:function(){var e="desc";F&&(e="");var n=_()(S,"name",{order:e});T(n),H(!F)},children:["Name",F?"\u2b07":"\u2b06"]}),(0,o.jsxs)(E.Z,{sx:{cursor:"pointer"},onClick:function(){var e="desc";K&&(e="");var n=_()(S,"pw_id",{order:e});T(n),Y(!K)},children:["PWID",K?"\u2b07":"\u2b06"]}),(0,o.jsx)(E.Z,{children:"RMID"}),(0,o.jsx)(E.Z,{children:"KYC Status"}),(0,o.jsx)(E.Z,{children:"Projects Enrolled"}),(0,o.jsx)(E.Z,{children:"Project Enrolled Amount"}),(0,o.jsx)(E.Z,{children:"Demat Status"}),(0,o.jsx)(E.Z,{children:"Share Holder Type"}),(0,o.jsx)(E.Z,{children:"Mobile No."}),(0,o.jsx)(E.Z,{children:"Email"})]})}),(0,o.jsx)(C.Z,{children:ue.map((function(e,n){return(0,o.jsx)(R(),{href:"agency/"+(null===e||void 0===e?void 0:e.id),children:(0,o.jsxs)(w.Z,{hover:!0,sx:{cursor:"pointer"},children:[(0,o.jsx)(E.Z,{children:(0,o.jsx)(W.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,width:30,children:n+1})}),(0,o.jsx)(E.Z,{sx:{color:ae<e.createdAt.slice(0,10)&&"green"},children:(0,o.jsx)(W.Z,{width:90,children:ae<e.createdAt.slice(0,10)?"After Agency":"Before Agency"})}),(0,o.jsx)(E.Z,{children:(0,o.jsx)(D.Z,{alt:"Avatar",src:"".concat(se(e))})}),(0,o.jsx)(E.Z,{children:(0,o.jsx)(W.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",width:"120px",gutterBottom:!0,noWrap:!0,children:null===e||void 0===e?void 0:e.name})}),(0,o.jsx)(E.Z,{align:"left",children:(0,o.jsx)(W.Z,{variant:"body1",width:"100px",fontWeight:"bold",color:"text.primary",noWrap:!0,children:null===e||void 0===e?void 0:e.pw_id})}),(0,o.jsx)(E.Z,{align:"left",children:(0,o.jsx)(W.Z,{width:"120px",variant:"body1",fontWeight:"bold",color:"text.primary",noWrap:!0,children:null===e||void 0===e?void 0:e.rm_id})}),(0,o.jsx)(E.Z,{children:(0,o.jsx)(W.Z,{style:{color:"APPROVED"===(null===e||void 0===e?void 0:e.kyc)?"green":"REJECTED"===(null===e||void 0===e?void 0:e.kyc)?"red":"ONGOING"===(null===e||void 0===e?void 0:e.kyc)?"orange":"white"},variant:"body1",fontWeight:"bold",width:"150px",color:"text.success",gutterBottom:!0,noWrap:!0,children:null===e||void 0===e?void 0:e.kyc})}),(0,o.jsx)(E.Z,{align:"left",children:(0,o.jsx)(W.Z,{width:"120px",variant:"body1",fontWeight:"bold",color:"text.primary",noWrap:!0,children:G(e.documents)})}),(0,o.jsx)(E.Z,{align:"left",children:(0,o.jsx)(W.Z,{width:"120px",variant:"body1",fontWeight:"bold",color:"text.primary",noWrap:!0,children:B(e.documents)})}),(0,o.jsx)(E.Z,{align:"left",children:(0,o.jsx)(W.Z,{width:"120px",variant:"body1",fontWeight:"bold",color:"text.primary",noWrap:!0,children:V(e)||(0,o.jsx)("span",{style:{color:"red"},children:"NOT RECIEVED"})})}),(0,o.jsx)(E.Z,{align:"left",children:(0,o.jsx)(W.Z,{variant:"body1",textAlign:"center",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:"150px",noWrap:!0,children:null===e||void 0===e?void 0:e.membership})}),(0,o.jsx)(E.Z,{align:"left",children:(0,o.jsx)(W.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:"100px",noWrap:!0,children:null===e||void 0===e?void 0:e.mobile_number})}),(0,o.jsx)(E.Z,{align:"left",children:(0,o.jsx)(W.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null===e||void 0===e?void 0:e.email})})]},null===e||void 0===e?void 0:e.id)})}))})]})}),(0,o.jsxs)(x.Z,{p:2,gap:2,display:"flex",justifyContent:"flex-end",children:[(0,o.jsx)(P.Z,{component:"div",count:ce.length,onPageChange:function(e,n){z(n)},onRowsPerPageChange:function(e){$(parseInt(e.target.value))},page:q,rowsPerPage:Q,rowsPerPageOptions:[5,20,50,200,1e3]}),(0,o.jsx)(I.DownloadTableExcel,{filename:"data",sheet:"data",currentTableRef:d.current,children:(0,o.jsx)(s.Z,{variant:"contained",children:"Download Current Data"})})]})]})})};U.propTypes={usersList:S().array.isRequired},U.defaultProps={usersList:[]},n.default=U}}]);