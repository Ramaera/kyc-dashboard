"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5297],{65250:function(e,n,t){t.r(n);var r=t(47568),a=t(828),s=t(97582),o=t(85893),i=t(4749),l=t(26183),u=t(50319),c=t(8987),d=t(86886),h=t(55113),f=t(87357),m=t(15861),p=t(50135),x=t(11057),g=t(50657),v=t(11163),Z=t.n(v),y=t(67294),j=t(86501),w=t(5121);n.default=function(e){var n=e.open,t=e.setOpen,v=((0,l.C)((function(e){var n;return null===(n=e.user)||void 0===n?void 0:n.data})),(0,y.useState)(!1)),P=v[0],b=v[1],C=(0,y.useState)(""),W=C[0],k=C[1],S=(0,y.useState)(""),_=S[0],F=S[1],q=(0,y.useState)(""),D=q[0],I=q[1],E=(0,y.useState)(""),K=E[0],N=E[1],A=(0,y.useState)(!1),L=A[0],O=(A[1],(0,a.Z)((0,u.D)(i.ay),1)[0]),R=function(){t(!1)},Y=function(){var e=(0,r.Z)((function(){var e,n;return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return e={privateKey:W},n={headers:{"Content-Type":"application/json"}},[4,w.Z.post("https://api.ramaera.com/api/PKey",e,n).then((function(e){N(e.data[0]),e.data[0]?b(!0):j.ZP.error("Invalid PrivateKey")})).catch((function(e){j.ZP.error(e.message)}))];case 1:return t.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();console.log(K);var M=function(){var e=(0,r.Z)((function(){var e;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return _!==D?(j.ZP.error("Passwords Don't Match"),[2]):_.length<8?(j.ZP.error("Minimun Password Length is 8"),[2]):[3,1];case 1:return n.trys.push([1,3,,4]),[4,O({variables:{pwId:K,newPassword:_}})];case 2:return n.sent()&&(j.ZP.success("Password Changed"),Z().push("/login")),[3,4];case 3:return e=n.sent(),console.log(e.message),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,y.useEffect)((function(){b(!1)}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(g.Z,{onClose:R,open:n,children:(0,o.jsx)(d.ZP,{component:h.Z,elevation:6,square:!0,children:(0,o.jsxs)(f.Z,{sx:{my:2,p:1,mx:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(m.Z,{variant:"h3",sx:{my:2},children:"Forgot Password?"}),(0,o.jsxs)(m.Z,{variant:"h6",color:"text.secondary",fontWeight:"normal",children:["Please Fill This Form to Reset Your Password"," "]}),(0,o.jsxs)(f.Z,{children:[!P&&(0,o.jsx)(p.Z,{margin:"normal",required:!0,fullWidth:!0,label:"Please Enter your Private Key ",autoFocus:!0,onChange:function(e){k(e.target.value)}}),P&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Z,{margin:"normal",required:!0,fullWidth:!0,type:"password",label:"Please Enter Your New password",autoFocus:!0,onChange:function(e){I(e.target.value)}}),(0,o.jsx)(p.Z,{margin:"normal",required:!0,fullWidth:!0,type:"password",label:"Please Confirm Your New password",onChange:function(e){F(e.target.value)}})]}),!P&&(0,o.jsx)(c.Z,{loading:L,onClick:function(){Y()},type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:1},children:"Validate Private Key"}),P&&(0,o.jsx)(c.Z,{loading:L,onClick:function(){M(),Z().push("/auth/login")},type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:1},children:"Change Password"}),(0,o.jsx)(x.Z,{color:"error",onClick:R,fullWidth:!0,variant:"outlined",sx:{mt:0,mb:2},children:"Cancel"})]})]})})})})}},45297:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(47568),a=t(14924),s=t(828),o=t(97582),i=t(85893),l=t(4749),u=t(50319),c=t(52186),d=t(58883),h=t(8987),f=t(2734),m=t(87109),p=t(93946),x=t(87357),g=t(11057),v=t(86886),Z=t(55113),y=t(50135),j=t(15861),w=t(41664),P=t.n(w),b=t(11163),C=t(67294),W=t(86501),k=t(65250);function S(){var e=(0,b.useRouter)(),n=(0,C.useState)(""),t=n[0],w=n[1],S=(0,C.useState)(!1),_=S[0],F=S[1],q=(0,C.useState)(""),D=q[0],I=q[1],E=(0,C.useState)(!1),K=E[0],N=E[1],A=(0,C.useState)(!1),L=A[0],O=A[1],R=(0,s.Z)((0,u.D)(l.ym),1)[0],Y=(0,f.Z)(),M=function(){var n=(0,r.Z)((function(){var n,r,a,s,i,l,u,c,d,h;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(n=function(){if(t){if(D)return!0;W.ZP.error("Password is not valid!")}else W.ZP.error("PW ID is not valid!")}(),O(!0),!n)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),console.log("hi"),[4,R({variables:{pw_id:t,password:D}})];case 2:r=o.sent(),console.log("hi2"),a=r.data.login,s=!0,i=!1,l=void 0;try{for(u=Object.keys(a)[Symbol.iterator]();!(s=(c=u.next()).done);s=!0)d=c.value,localStorage.setItem(d,a[d])}catch(f){i=!0,l=f}finally{try{s||null==u.return||u.return()}finally{if(i)throw l}}return e.reload(),[3,4];case 3:return h=o.sent(),W.ZP.error(h.message),[3,4];case 4:return O(!1),[2]}}))}));return function(){return n.apply(this,arguments)}}();return(0,i.jsxs)(v.ZP,{component:Z.Z,elevation:6,square:!0,children:[(0,i.jsxs)(x.Z,{sx:(0,a.Z)({my:8,p:2,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},Y.breakpoints.down("sm"),{mx:0}),children:[(0,i.jsx)(j.Z,{variant:"h1",sx:{my:2},children:"Login"}),(0,i.jsx)(j.Z,{variant:"h4",color:"text.secondary",fontWeight:"normal",sx:{mb:0},children:"For the purpose of industry regulation, your details are required."}),(0,i.jsxs)(x.Z,{component:"form",noValidate:!0,sx:{mt:0},children:[(0,i.jsx)(y.Z,{margin:"normal",required:!0,fullWidth:!0,label:"PW ID",autoFocus:!0,onChange:function(e){w(e.target.value)}}),(0,i.jsx)(y.Z,{margin:"normal",required:!0,fullWidth:!0,onChange:function(e){I(e.target.value)},value:D,name:"password",label:"Password",type:_?"text":"password",id:"password",autoComplete:"current-password",InputProps:{endAdornment:(0,i.jsx)(m.Z,{position:"end",children:(0,i.jsx)(p.Z,{edge:"end","aria-label":"togglw password visibility",onClick:function(){return F(!_)},children:_?(0,i.jsx)(c.Z,{}):(0,i.jsx)(d.Z,{})})})}}),(0,i.jsx)(v.ZP,{item:!0,xs:!0,children:(0,i.jsx)(P(),{href:"#",children:(0,i.jsx)("a",{onClick:function(){N(!0)},children:"Forgot Password"})})}),(0,i.jsx)(h.Z,{loading:L,fullWidth:!0,type:"submit",onClick:function(){M()},disabled:L,variant:"contained",sx:{mt:3,mb:2},children:"Login"}),(0,i.jsx)(j.Z,{variant:"body1",color:"text.secondary","text-align":"left",children:"Don't Have An Account?"}),(0,i.jsx)(g.Z,{onClick:function(){e.push("/auth/signup")},fullWidth:!0,variant:"outlined",sx:{mt:2,mb:2},children:"Register"}),(0,i.jsx)(k.default,{open:K,setOpen:N})]})]}),(0,i.jsx)(W.x7,{})]})}}}]);