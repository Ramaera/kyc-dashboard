"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4741],{44741:function(e,n,t){t.r(n);var i=t(85893),l=t(2734),r=t(66242),a=t(87357),o=t(11057),c=t(78445),d=t(50135),s=t(94054),u=t(47312),h=t(10315),p=t(18972),v=t(67720),m=t(8896),x=t(72882),f=t(7906),j=t(53184),g=t(53816),Z=t(53252),b=t(295),y=t(15861),A=t(45697),N=t.n(A),E=t(67294),O=t(35632),C=t(17677),D=t(9473),P=t(5678),W=t(53707);function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){S(e,n,t[n])}))}return e}var B=function(e,n){var t="NOT ENROLLED";return null===e||void 0===e||e.map((function(e){e.title===n&&(t=e.status)})),t},_=function(e){var n=e.refetchData,t=(0,l.Z)(),A=(0,E.useRef)(null),N=(0,E.useState)(0),_=N[0],I=N[1],L=(0,E.useState)(100),R=L[0],k=L[1],T=(0,E.useState)(""),H=T[0],V=T[1],K=(0,P.Nr)(H,250),Y=(0,D.v9)((function(e){return e.allUsers.allTheUsers})),G=(0,E.useState)({totalKYC:0,totalAdvance:0,totalBasic:0}),M=G[0],U=G[1],F=(0,E.useState)({status:null,hajipur:null,agra:null}),z=F[0],q=F[1],J=(0,E.useState)(),$=J[0],Q=(J[1],(0,E.useState)("")),X=Q[0],ee=Q[1],ne=function(e,n,t){return e.filter((function(e){var i,l,r=!0;return(null===e||void 0===e||null===(i=e.name)||void 0===i?void 0:i.toLowerCase().includes(t))||(null===e||void 0===e||null===(l=e.pw_id)||void 0===l?void 0:l.toLowerCase().includes(t))||(r=!1),e.role===C.Z.role.ADMIN&&(r=!1),(n.membership&&(null===e||void 0===e?void 0:e.membership))!==n.membership&&(r=!1),(n.status&&(null===e||void 0===e?void 0:e.kyc))!==n.status&&(r=!1),n.hajipur&&B(null===e||void 0===e?void 0:e.documents,"hajipur_project_payment")!==n.hajipur&&(r=!1),n.agra&&B(null===e||void 0===e?void 0:e.documents,"agra_project_payment")!==n.agra&&(r=!1),r}))}(Y,z,K),te=function(e,n,t){return e.slice(n*t,n*t+t)}(ne,_,R);(0,E.useEffect)((function(){!function(){var e=0,n=0,t=0;Y.map((function(i){i.role!==C.Z.role.ADMIN&&(i.role!==C.Z.role.ADMIN&&(e+=1),i.membership===C.Z.membership.ADVANCE&&(n+=1),i.membership===C.Z.membership.BASIC&&(t+=1))})),U(w({},M,{totalKYC:e,totalAdvance:n,totalBasic:t}))}()}),[Y]);var ie=function(e){var n=null;"all"!==e&&(n=e),q((function(e){return w({},e,{membership:n})}))},le=function(e){var n=null;"all"!==e&&(n=e),q((function(e){return w({},e,{status:n})}))},re=function(e){if(!e||"NULL"==e)return"";var n=e.slice(0,4)+e.slice(-4,e.length),t=RegExp("(?<!^).(?!$)","g");return n.replace(t,"*")},ae=-1;return Y[0]?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.Z,{children:[(0,i.jsxs)(a.Z,{mx:2,sx:S({display:"flex",justifyContent:"space-between"},t.breakpoints.down("sm"),{flexDirection:"column"}),children:[(0,i.jsxs)(a.Z,{my:2,display:"flex",gap:2,sx:S({},t.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,i.jsx)(o.Z,{variant:X.includes("total")?"contained":"outlined",sx:{textTransform:"uppercase",padding:2},onClick:function(){ee((function(e){return e.includes("total")?"":"total"})),ie(""),le("all")},children:"Total Subscribers: "+M.totalKYC}),X.includes("total")&&(0,i.jsxs)(a.Z,{display:"flex",gap:2,sx:S({},t.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),children:[(0,i.jsx)(o.Z,{variant:"totalAvdance"===X?"contained":"outlined",onClick:function(){ee((function(e){return e.includes("totalAvdance")?"total":"totalAvdance"})),ie(C.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER : ".concat(M.totalAdvance)}),(0,i.jsx)(o.Z,{variant:"totalBasic"===X?"contained":"outlined",onClick:function(){ee((function(e){return e.includes("totalBasic")?"total":"totalBasic"})),ie(C.Z.membership.BASIC)},children:"BASIC SHARE HOLDER : ".concat(M.totalBasic)})]})]}),(0,i.jsx)(a.Z,{sx:{cursor:"pointer"},onClick:n,my:4,ml:"auto",children:(0,i.jsx)(W.Z,{})})]}),(X.includes("totalAvdance")||X.includes("totalBasic"))&&(0,i.jsx)(c.Z,{action:(0,i.jsxs)(a.Z,{display:"flex",gap:"20px",children:[(0,i.jsx)(a.Z,{display:"flex",gap:"10px",children:(0,i.jsx)(d.Z,{fullWidth:!0,label:"Search",variant:"outlined",value:H,onChange:function(e){V(e.target.value)}})}),(0,i.jsxs)(a.Z,{width:480,display:"flex",gap:"10px",sx:S({},t.breakpoints.down("sm"),{display:"none"}),children:[(0,i.jsxs)(s.Z,{fullWidth:!0,variant:"outlined",children:[(0,i.jsx)(u.Z,{children:"KYC Status"}),(0,i.jsx)(h.Z,{value:z.status||"all",onChange:function(e){return le(e.target.value)},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT_INITIALIZED",name:"Not Started"},{id:"REJECTED",name:"Rejected"},{id:"ONGOING",name:"Ongoing"},{id:"APPROVED",name:"Approved"}].map((function(e){return(0,i.jsx)(p.Z,{value:e.id,children:e.name},e.id)}))})]}),(0,i.jsxs)(s.Z,{fullWidth:!0,variant:"outlined",children:[(0,i.jsx)(u.Z,{children:"Hajipur "}),(0,i.jsx)(h.Z,{value:z.hajipur||"all",onChange:function(e){var n=null;"all"!==e.target.value&&(n=e.target.value),q((function(e){return w({},e,{hajipur:n})}))},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT ENROLLED",name:"Not Enrolled"},{id:"APPROVED",name:"Approved"},{id:"PENDING",name:"Pending"}].map((function(e){return(0,i.jsx)(p.Z,{value:e.id,children:e.name},e.id)}))})]}),(0,i.jsxs)(s.Z,{fullWidth:!0,variant:"outlined",children:[(0,i.jsx)(u.Z,{children:"Agra "}),(0,i.jsx)(h.Z,{value:z.agra||"all",onChange:function(e){var n=null;"all"!==e.target.value&&(n=e.target.value),q((function(e){return w({},e,{agra:n})}))},label:"Status",autoWidth:!0,children:[{id:"all",name:"All"},{id:"NOT ENROLLED",name:"Not Enrolled"},{id:"APPROVED",name:"Approved"},{id:"PENDING",name:"Pending"}].map((function(e){return(0,i.jsx)(p.Z,{value:e.id,children:e.name},e.id)}))})]})]})]}),title:"DASHBOARD"}),(0,i.jsx)(v.Z,{}),(X.includes("totalAvdance")||X.includes("totalBasic"))&&(0,i.jsx)(a.Z,{p:2,gap:2,display:"flex",justifyContent:"flex-end",children:(0,i.jsx)(m.Z,{component:"div",count:ne.length,onPageChange:function(e,n){I(n)},onRowsPerPageChange:function(e){k(parseInt("All"===e.target.value?-1:e.target.value))},page:_,rowsPerPage:R,rowsPerPageOptions:[20,100,200,"All"]})}),(X.includes("totalAvdance")||X.includes("totalBasic"))&&(0,i.jsx)(x.Z,{children:(0,i.jsxs)(f.Z,{ref:A,children:[(0,i.jsx)(j.Z,{children:(0,i.jsxs)(g.Z,{children:[(0,i.jsx)(Z.Z,{children:"S.No."}),(0,i.jsx)(Z.Z,{children:"PW ID"}),(0,i.jsx)(Z.Z,{children:"Name"}),(0,i.jsx)(Z.Z,{align:"center",children:"Father's Name"}),(0,i.jsx)(Z.Z,{align:"center",children:"Moibile No."}),(0,i.jsx)(Z.Z,{align:"center",children:"KYC Status"}),(0,i.jsx)(Z.Z,{align:"center",children:"Demat"}),(0,i.jsx)(Z.Z,{align:"center",children:"Hajipur Project"}),(0,i.jsx)(Z.Z,{align:"center",children:"Agra Project"})]})}),(0,i.jsx)(b.Z,{children:te.map((function(e){if((null===e||void 0===e?void 0:e.membership)!==$)return ae+=1,(0,i.jsxs)(g.Z,{hover:!0,children:[(0,i.jsx)(Z.Z,{children:(0,i.jsx)(y.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,width:30,children:ae+1})}),(0,i.jsxs)(Z.Z,{children:[(0,i.jsx)(y.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===e||void 0===e?void 0:e.pw_id}),(0,i.jsx)(y.Z,{variant:"body2",color:"text.secondary",noWrap:!0})]}),(0,i.jsx)(Z.Z,{children:(0,i.jsx)(y.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:"NULL"===(null===e||void 0===e?void 0:e.name)?"":null===e||void 0===e?void 0:e.name})}),(0,i.jsx)(Z.Z,{children:(0,i.jsx)(y.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:100,noWrap:!0,children:re(null===e||void 0===e?void 0:e.father_or_husband_name)})}),(0,i.jsx)(Z.Z,{align:"right",children:(0,i.jsx)(y.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:re(null===e||void 0===e?void 0:e.mobile_number)})}),(0,i.jsx)(Z.Z,{align:"right",children:(0,i.jsx)(y.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,children:"NOT_INITIALIZED"===(null===e||void 0===e?void 0:e.kyc)?"NOT STARTED":null===e||void 0===e?void 0:e.kyc})}),(0,i.jsx)(Z.Z,{align:"right",children:(0,i.jsx)(y.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:re(null===e||void 0===e?void 0:e.demat_account)})}),(0,i.jsx)(Z.Z,{align:"right",children:(0,i.jsx)(y.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:B(null===e||void 0===e?void 0:e.documents,"hajipur_project_payment")})}),(0,i.jsx)(Z.Z,{align:"right",children:(0,i.jsx)(y.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:B(null===e||void 0===e?void 0:e.documents,"agra_project_payment")})})]},null===e||void 0===e?void 0:e.id)}))})]})})]})}):(0,i.jsx)(O.Z,{})};_.propTypes={usersList:N().array.isRequired},_.defaultProps={usersList:[]},n.default=_},35632:function(e,n,t){var i=t(85893),l=(t(67294),t(90948));function r(){var e,n,t=(e=["\n  from { scale: 0.5; }\n  to { scale: 0.6; }\n  \n  \n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return r=function(){return t},t}var a=(0,t(70917).F4)(r()),o=(0,l.ZP)("div")({display:"flex",justifyContent:"center",height:"85vh",alignItems:"center",animation:"".concat(a," 1s  infinite")});n.Z=function(){return(0,i.jsx)(o,{children:(0,i.jsx)("img",{src:"/static/images/logo/logo.png"})})}}}]);