"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6270],{32501:function(e,r,t){t.r(r),t.d(r,{default:function(){return V}});var a=t(47568),n=t(14924),l=t(828),i=t(97582),o=t(85893),s=t(4749),d=t(50319),u=t(73359),c=t(52186),f=t(58883),h=t(8987),Z=t(2734),x=t(72890),p=t(36872),v=t(87109),m=t(93946),g=t(50657),b=t(37645),j=t(6514),y=t(58951),C=t(31425),S=t(11057),w=t(87357),P=t(50480),A=t(86886),I=t(55113),k=t(50135),N=t(15861),_=t(6154),R=t(11163),W=t(67294),D=t(86501),E=t(16538);function V(){var e=(0,R.useRouter)(),r=(0,l.Z)((0,d.D)(s.kp),1)[0],t=(0,l.Z)(W.useState(""),2),V=t[0],q=t[1],B=(0,l.Z)(W.useState(!1),2),O=B[0],Y=B[1],F=(0,l.Z)(W.useState(""),2),K=F[0],T=F[1],U=(0,l.Z)(W.useState(""),2),H=U[0],L=U[1],z=(0,l.Z)(W.useState(""),2),G=z[0],J=z[1],M=(0,l.Z)(W.useState(!1),2),Q=M[0],X=M[1],$=(0,Z.Z)(),ee=(0,l.Z)(W.useState(""),2),re=ee[0],te=ee[1],ae=(0,l.Z)(W.useState("BASIC"),2),ne=ae[0],le=ae[1],ie=(0,l.Z)(W.useState(!0),2),oe=ie[0],se=ie[1],de=(0,l.Z)(W.useState(!0),2),ue=de[0],ce=de[1],fe=(0,l.Z)(W.useState(!1),2),he=fe[0],Ze=fe[1],xe=(0,l.Z)(W.useState(""),2),pe=xe[0],ve=xe[1],me=(0,l.Z)(W.useState(""),2),ge=me[0],be=me[1],je=(0,l.Z)((0,u.t)(E.mP,{variables:{referralCode:G}}),2),ye=je[0],Ce=je[1],Se=Ce.loading,we=Ce.error,Pe=Ce.data;we&&D.ZP.error(null===we||void 0===we?void 0:we.message);var Ae=function(){var t=(0,a.Z)((function(){var t,a,n,l,o,s,d,u,c,f;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(t=function(){if(V)if(ue)if(re&&12===re.length)if(!K||K.length<8)D.ZP.error("Password is not valid!");else{if(oe)return!0;D.ZP.error("Please Enter a valid PWID")}else D.ZP.error("Enter Valid Aadhaar Number!");else D.ZP.error("Enter correct Referral ID!");else D.ZP.error("PW ID is not valid!")}(),Ze(!0),!t)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r({variables:{pw_id:V.toUpperCase(),membership:ne,aadharCardNumber:re,password:K,referralAgencyCode:H.toUpperCase()}})];case 2:a=i.sent(),n=a.data.signup,l=!0,o=!1,s=void 0;try{for(d=Object.keys(n)[Symbol.iterator]();!(l=(u=d.next()).done);l=!0)c=u.value,localStorage.setItem(c,n[c])}catch(h){o=!0,s=h}finally{try{l||null==d.return||d.return()}finally{if(o)throw s}}return e.reload(),[3,4];case 3:return f=i.sent(),D.ZP.error(f.message),[3,4];case 4:return Ze(!1),[2]}}))}));return function(){return t.apply(this,arguments)}}(),Ie=function(){X(!1)},ke=function(){var e=(0,a.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return J(H),[4,ye()];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return W.useEffect((function(){var e,r;(null===Pe||void 0===Pe||null===(e=Pe.verifyReferralId)||void 0===e?void 0:e.name)?(ve(null===Pe||void 0===Pe||null===(r=Pe.verifyReferralId)||void 0===r?void 0:r.name),ce(!0)):(ve(""),ce(!1))}),[Pe]),(0,o.jsxs)(A.ZP,{component:I.Z,elevation:6,square:!0,children:[(0,o.jsxs)(w.Z,{sx:(0,n.Z)({my:8,p:2,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},$.breakpoints.down("sm"),{mx:0}),children:[(0,o.jsx)(N.Z,{variant:"h1",sx:{my:2},children:"Signup"}),(0,o.jsx)(N.Z,{variant:"h4",color:"text.secondary",fontWeight:"normal",sx:{mb:0},children:"For the purpose of industry regulation, your details are required."}),(0,o.jsxs)(w.Z,{component:"form",noValidate:!0,sx:{mt:0},children:[(0,o.jsx)(k.Z,{margin:"normal",required:!0,fullWidth:!0,label:"Referral Id",autoFocus:!0,onChange:function(e){q(e.target.value),function(e){var r={Reff_Code:e};_.Z.post("https://api.ramaera.com/api/KYC",r,{headers:{"Content-Type":"application/json"}}).then((function(e){var r,t,a,n=null===(r=e.data[0])||void 0===r?void 0:r.AC_Status;se(n),be(null===(t=e.data[0])||void 0===t?void 0:t.Name),be(null===(a=e.data[0])||void 0===a?void 0:a.Name)})).catch((function(e){console.error("error",e),se(!1)}))}(e.target.value)}}),ge&&(0,o.jsx)(N.Z,{children:"Name : "+ge}),(0,o.jsx)(N.Z,{color:"text.secondary",textAlign:"left",fontWeight:"normal",children:"Select Share Holder Type*:"}),(0,o.jsxs)(x.Z,{row:!0,defaultValue:"Basic","aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",onChange:function(e){le(e.target.value)},children:[(0,o.jsx)(P.Z,{value:"BASIC",control:(0,o.jsx)(p.Z,{}),label:"Basic"}),(0,o.jsx)(P.Z,{sx:{textAlign:"left"},value:"ADVANCE",control:(0,o.jsx)(p.Z,{}),label:"30% Net Profit Sharing Partner"})]}),(0,o.jsx)(k.Z,{margin:"normal",fullWidth:!0,label:"Referral Identification Number",onChange:function(e){L(e.target.value),e.target.value.length>0?ce(!1):ce(!0)},InputProps:{endAdornment:(0,o.jsx)(h.Z,{onClick:function(){ke()},disabled:!H||Se,variant:"contained",children:"Verify"})}}),pe&&(0,o.jsx)(N.Z,{children:"Referral Code Of : "+pe}),(0,o.jsx)(k.Z,{margin:"normal",fullWidth:!0,label:"Aadhaar Number ",required:!0,onChange:function(e){te(e.target.value)}}),(0,o.jsx)(k.Z,{margin:"normal",required:!0,fullWidth:!0,onChange:function(e){T(e.target.value)},name:"password",label:"Password",type:O?"text":"password",id:"password",autoComplete:"current-password",InputProps:{endAdornment:(0,o.jsx)(v.Z,{position:"end",children:(0,o.jsx)(m.Z,{edge:"end","aria-label":"toggle password visibility",onClick:function(){return Y(!O)},children:O?(0,o.jsx)(c.Z,{}):(0,o.jsx)(f.Z,{})})})}}),(0,o.jsx)(h.Z,{loading:he,fullWidth:!0,onClick:function(){H?Ae():X(!0)},disabled:he||!oe,variant:"contained",sx:{mt:3,mb:2},children:"Create An Acccount"}),(0,o.jsx)(N.Z,{variant:"body1",color:"text.secondary","text-align":"left",children:"Already have an account ?"}),(0,o.jsx)(h.Z,{onClick:function(){e.push("/auth/login")},fullWidth:!0,variant:"outlined",sx:{mt:2,mb:2},href:"",children:"Login"})]})]}),(0,o.jsxs)(g.Z,{open:Q,onClose:Ie,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,o.jsx)(b.Z,{id:"alert-dialog-title",children:"Verify Your Referral ID !"}),(0,o.jsx)(j.Z,{children:(0,o.jsx)(y.Z,{id:"alert-dialog-description",children:"You have not added any Referral ID Code"})}),(0,o.jsx)(C.Z,{children:(0,o.jsx)(S.Z,{onClick:Ie,children:"OK"})})]}),(0,o.jsx)(D.x7,{})]})}}}]);