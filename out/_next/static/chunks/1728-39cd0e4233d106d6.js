"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1728],{71728:function(e,n,t){t.r(n);var i=t(14924),o=t(26042),l=t(69396),s=t(85893),r=t(4749),a=t(22628),c=t(34753),d=t(37887),u=t(8987),p=t(2734),h=t(66242),x=t(87357),f=t(11057),m=t(67720),Z=t(78445),v=t(50135),g=t(72882),j=t(7906),C=t(53184),A=t(53816),b=t(53252),E=t(295),w=t(15861),y=t(6258),S=t(45697),N=t.n(S),D=t(67294),L=t(47082),I=t(9473),B=t(61692),R=t.n(B),T=t(5678),O=function(e){var n=e.title,t=(0,D.useState)(!0),S=t[0],N=t[1],B=(0,p.Z)(),O=(0,D.useRef)(null),k=(0,D.useState)(0),P=k[0],W=k[1],_=(0,D.useState)([]),H=_[0],G=_[1],V=(0,D.useState)(""),J=V[0],F=V[1],K=(0,I.v9)((function(e){return e.allUsers.totalNumbers})),U=(0,D.useState)({total:0,pending:0,completed:0}),Y=U[0],M=U[1],q=(0,D.useState)(20),$=q[0],z=q[1],Q=(0,D.useState)(""),X=Q[0],ee=Q[1],ne=(0,T.Nr)(X,400),te=(0,d.a)(r.A2,{variables:{skip:0,take:5e3}});(0,D.useEffect)((function(){var e;(null===te||void 0===te||null===(e=te.data)||void 0===e?void 0:e.getAllUser)&&G(te.data.getAllUser)}),[te]);var ie=function(e,n){var t=[];return e.map((function(e){e.title.includes(n.toLowerCase())&&t.push(null===e||void 0===e?void 0:e.status)})),t.includes(c.Z.status.PENDING)||t.includes(c.Z.status.ONGOING)?c.Z.status.ONGOING:t.includes(c.Z.status.REJECTED)?c.Z.status.REJECTED:c.Z.status.APPROVED},oe=(0,D.useState)({status:null,membership:null}),le=oe[0],se=oe[1],re=function(e,t,i){var o=i.toLowerCase();return e.filter((function(e){var i,l,s=!0;return(null===e||void 0===e||null===(i=e.name)||void 0===i?void 0:i.toLowerCase().includes(o))||(null===e||void 0===e||null===(l=e.pw_id)||void 0===l?void 0:l.toLowerCase().includes(o))||(s=!1),e.role===c.Z.role.ADMIN&&(s=!1),(null===e||void 0===e?void 0:e.documents.find((function(e){return e.title.toLowerCase().includes(n.toLowerCase())})))||(s=!1),t.status&&ie(null===e||void 0===e?void 0:e.documents,n.toLowerCase())!==t.status&&(s=!1),(t.membership&&(null===e||void 0===e?void 0:e.membership))!==t.membership&&(s=!1),s}))}(H,le,ne),ae=function(e,n,t){return e.slice(n*t,n*t+t)}(re,P,$),ce=function(e){var n=null;"all"!==e&&(n=e),se((function(e){return(0,l.Z)((0,o.Z)({},e),{membership:n})}))},de=function(e){var n=null;"all"!==e&&(n=e),se((function(e){return(0,l.Z)((0,o.Z)({},e),{status:n})}))},ue=function(e){if(!e)return e;var n=RegExp("(?<!^).(?!$)","g");return e.replace(n,"*")};return(0,D.useEffect)((function(){!function(){var e=0,t=0;H.map((function(i){if(i.role!==c.Z.role.ADMIN){var o=0,l=0;null===i||void 0===i||i.documents.map((function(e){e.title.toLowerCase().includes(n.toLowerCase())&&1,!e.title.toLowerCase().includes(n.toLowerCase())||e.status!==c.Z.status.PENDING&&e.status!==c.Z.status.ONGOING&&e.status!==c.Z.status.NOT_INITIALIZED&&e.status!==c.Z.status.REJECTED||(o+=1),e.title.toLowerCase().includes(n.toLowerCase())&&e.status===c.Z.status.APPROVED&&(l+=1)})),o?e+=1:l&&(t+=1)}})),M((0,l.Z)((0,o.Z)({},Y),{pending:e,completed:t}))}()}),[H]),(0,D.useEffect)((function(){M((function(e){return(0,l.Z)((0,o.Z)({},e),{total:K["total".concat(n,"Subscribers")]})}))}),[K]),H[0]?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(h.Z,{sx:{mb:4},children:[(0,s.jsxs)(x.Z,{mx:2,children:[(0,s.jsxs)(x.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,s.jsx)(f.Z,{variant:J.includes("total")?"contained":"outlined",sx:(0,i.Z)({textTransform:"uppercase",width:"490px"},B.breakpoints.down("sm"),{width:"100%"}),onClick:function(){F((function(e){return e.includes("total")?"":"total"})),ce(""),de("all")},children:"Total Enrolled ".concat(n," : ").concat(Y.total)}),J.includes("total")&&(0,s.jsxs)(x.Z,{display:"flex",gap:2,children:[(0,s.jsx)(f.Z,{variant:"totalAdvance"===J?"contained":"outlined",onClick:function(){F((function(e){return e.includes("totalAdvance")?"total":"totalAdvance"})),ce(c.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,s.jsx)(f.Z,{variant:"totalBasic"===J?"contained":"outlined",onClick:function(){F((function(e){return e.includes("totalBasic")?"total":"totalBasic"})),ce(c.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]}),(0,s.jsxs)(x.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,s.jsx)(f.Z,{variant:J.includes("pending")?"contained":"outlined",sx:(0,i.Z)({textTransform:"uppercase",width:"490px"},B.breakpoints.down("sm"),{width:"100%"}),onClick:function(){F((function(e){return e.includes("pending")?"":"pending"})),ce(""),de(c.Z.status.ONGOING)},children:"".concat(n," pending  : ").concat(Y.pending)}),J.includes("pending")&&(0,s.jsxs)(x.Z,{display:"flex",gap:2,children:[(0,s.jsx)(f.Z,{variant:"pendingAdvance"===J?"contained":"outlined",onClick:function(){F((function(e){return e.includes("pendingAdvance")?"pending":"pendingAdvance"})),ce(c.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,s.jsx)(f.Z,{variant:"pendingBasic"===J?"contained":"outlined",onClick:function(){F((function(e){return e.includes("pendingBasic")?"pending":"pendingBasic"})),ce(c.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]}),(0,s.jsxs)(x.Z,{my:2,display:"flex",gap:2,flexDirection:"column",children:[(0,s.jsx)(f.Z,{variant:J.includes("completed")?"contained":"outlined",sx:(0,i.Z)({textTransform:"uppercase",width:"490px"},B.breakpoints.down("sm"),{width:"100%"}),onClick:function(){F((function(e){return e.includes("completed")?"":"completed"})),ce(""),de(c.Z.status.APPROVED)},children:"".concat(n," Completed  : ").concat(Y.completed)}),J.includes("completed")&&(0,s.jsxs)(x.Z,{display:"flex",gap:2,children:[(0,s.jsx)(f.Z,{variant:"completedAdvance"===J?"contained":"outlined",onClick:function(){F((function(e){return e.includes("completedAdvance")?"completed":"completedAdvance"})),ce(c.Z.membership.ADVANCE)},children:"ADVANCE SHARE HOLDER LIST"}),(0,s.jsx)(f.Z,{variant:"completedBasic"===J?"contained":"outlined",onClick:function(){F((function(e){return e.includes("completedBasic")?"completed":"completedBasic"})),ce(c.Z.membership.BASIC)},children:"BASIC SHARE HOLDER LIST"})]})]})]}),(0,s.jsx)(m.Z,{}),(J.includes("Advance")||J.includes("Basic"))&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z.Z,{action:(0,s.jsx)(x.Z,{display:"flex",gap:"20px",children:(0,s.jsx)(x.Z,{width:480,display:"flex",gap:"10px",sx:(0,i.Z)({},B.breakpoints.down("sm"),{width:"100%"}),children:(0,s.jsx)(v.Z,{fullWidth:!0,label:"Search",variant:"outlined",value:X,onChange:function(e){ee(e.target.value)}})})}),title:n.toUpperCase()+" LIST"}),(0,s.jsx)(m.Z,{})]}),(J.includes("Advance")||J.includes("Basic"))&&(0,s.jsx)(g.Z,{children:(0,s.jsxs)(j.Z,{ref:O,children:[(0,s.jsx)(C.Z,{children:(0,s.jsxs)(A.Z,{children:[(0,s.jsx)(b.Z,{children:"S.No."}),(0,s.jsxs)(b.Z,{sx:{cursor:"pointer"},onClick:function(){var e="desc";S&&(e="");var n=R()(H,"name",{order:e});G(n),N(!S)},children:["Name",S?"\u2b07":"\u2b06"]})," ",(0,s.jsx)(b.Z,{children:"Father's Name"}),(0,s.jsx)(b.Z,{children:"PW ID"}),(0,s.jsx)(b.Z,{children:"Share Holder Type"}),(0,s.jsx)(b.Z,{align:"center",children:"Moibile No."}),(0,s.jsx)(b.Z,{align:"center",children:"Enrollment Status"})]})}),(0,s.jsx)(E.Z,{children:ae.map((function(e,t){return(0,s.jsxs)(A.Z,{hover:!0,children:[(0,s.jsx)(b.Z,{children:(0,s.jsx)(w.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,align:"center",noWrap:!0,width:30,children:t+1})}),(0,s.jsx)(b.Z,{children:(0,s.jsx)(w.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:150,children:null===e||void 0===e?void 0:e.name})}),(0,s.jsx)(b.Z,{children:(0,s.jsx)(w.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===e||void 0===e?void 0:e.pw_id})}),(0,s.jsx)(b.Z,{align:"center",children:(0,s.jsx)(w.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,width:100,children:null===e||void 0===e?void 0:e.membership})}),(0,s.jsx)(b.Z,{children:(0,s.jsx)(w.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,width:100,noWrap:!0,children:ue(null===e||void 0===e?void 0:e.father_or_husband_name)})}),(0,s.jsx)(b.Z,{align:"center",children:(0,s.jsx)(w.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:ue(null===e||void 0===e?void 0:e.mobile_number)})}),(0,s.jsx)(b.Z,{align:"center",children:(0,s.jsx)(w.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:ie(null===e||void 0===e?void 0:e.documents,n)})})]},null===e||void 0===e?void 0:e.id)}))})]})}),(J.includes("Advance")||J.includes("Basic"))&&(0,s.jsxs)(x.Z,{p:2,gap:2,display:"flex",justifyContent:"flex-end",children:[(0,s.jsx)(y.Z,{component:"div",count:re.length,onPageChange:function(e,n){W(n)},onRowsPerPageChange:function(e){z(parseInt("All"===e.target.value?-1:e.target.value))},page:P,rowsPerPage:$,rowsPerPageOptions:[20,100,200,"All"]}),(0,s.jsx)(L.DownloadTableExcel,{filename:n?n+"_KYC":"PROJECT_KYC",sheet:n?n+"_KYC":"PROJECT_KYC",currentTableRef:O.current,children:(0,s.jsx)(u.Z,{variant:"contained",children:"Download"})})]})]})}):(0,s.jsx)(a.Z,{})};O.propTypes={usersList:N().array.isRequired},O.defaultProps={usersList:[]},n.default=O},22628:function(e,n,t){var i=t(7297),o=t(85893),l=(t(67294),t(90948));function s(){var e=(0,i.Z)(["\n  from { scale: 0.5; }\n  to { scale: 0.6; }\n  \n  \n"]);return s=function(){return e},e}var r=(0,t(70917).F4)(s()),a=(0,l.ZP)("div")({display:"flex",justifyContent:"center",height:"85vh",alignItems:"center",animation:"".concat(r," 1s  infinite")});n.Z=function(){return(0,o.jsx)(a,{children:(0,o.jsx)("img",{src:"/static/images/logo/logo.png"})})}}}]);